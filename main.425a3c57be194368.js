"use strict";(self.webpackChunkmy_academy=self.webpackChunkmy_academy||[]).push([[179],{2313:(_n,at,q)=>{q.d(at,{nm:()=>qr});var R=q(4976),xe=(q(4650),q(3692),q(259),q(5861)),Ke=q(6881),qe=q(4859),Ie=q(2090),Ye=q(1877);const ge=new Map,Te={activated:!1,tokenObservers:[]},Ne={initialized:!1,enabled:!1};function ft(je){return ge.get(je)||Object.assign({},Te)}function Ot(){return Ne}const Xt="https://content-firebaseappcheck.googleapis.com/v1",At="exchangeDebugToken",mt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Oe{constructor(ke,Fe,Dt,Nt,Fn){if(this.operation=ke,this.retryPolicy=Fe,this.getWaitDuration=Dt,this.lowerBound=Nt,this.upperBound=Fn,this.pending=null,this.nextErrorWaitInterval=Nt,Nt>Fn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ke){var Fe=this;return(0,xe.Z)(function*(){Fe.stop();try{Fe.pending=new Ie.BH,yield function dt(je){return new Promise(ke=>{setTimeout(ke,je)})}(Fe.getNextRun(ke)),Fe.pending.resolve(),yield Fe.pending.promise,Fe.pending=new Ie.BH,yield Fe.operation(),Fe.pending.resolve(),yield Fe.pending.promise,Fe.process(!0).catch(()=>{})}catch(Dt){Fe.retryPolicy(Dt)?Fe.process(!1).catch(()=>{}):Fe.stop()}})()}getNextRun(ke){if(ke)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Fe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Fe}}}const _t=new Ie.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function se(je){if(!ft(je).activated)throw _t.create("use-before-activation",{appName:je.name})}function hn(je,ke){return jt.apply(this,arguments)}function jt(){return(jt=(0,xe.Z)(function*({url:je,body:ke},Fe){const Dt={"Content-Type":"application/json"},Nt=Fe.getImmediate({optional:!0});if(Nt){const cs=yield Nt.getHeartbeatsHeader();cs&&(Dt["X-Firebase-Client"]=cs)}const Fn={method:"POST",body:JSON.stringify(ke),headers:Dt};let sr,Tn;try{sr=yield fetch(je,Fn)}catch(cs){throw _t.create("fetch-network-error",{originalErrorMessage:cs?.message})}if(200!==sr.status)throw _t.create("fetch-status-error",{httpStatus:sr.status});try{Tn=yield sr.json()}catch(cs){throw _t.create("fetch-parse-error",{originalErrorMessage:cs?.message})}const xr=Tn.ttl.match(/^([\d.]+)(s)$/);if(!xr||!xr[2]||isNaN(Number(xr[1])))throw _t.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Tn.ttl}`});const us=1e3*Number(xr[1]),ws=Date.now();return{token:Tn.token,expireTimeMillis:ws+us,issuedAtTimeMillis:ws}})).apply(this,arguments)}function Sn(je,ke){const{projectId:Fe,appId:Dt,apiKey:Nt}=je.options;return{url:`${Xt}/projects/${Fe}/apps/${Dt}:${At}?key=${Nt}`,body:{debug_token:ke}}}const pr="firebase-app-check-database",ze=1,Ve="firebase-app-check-store";let Le=null;function Jt(je,ke){return nr.apply(this,arguments)}function nr(){return(nr=(0,xe.Z)(function*(je,ke){const Dt=(yield function nt(){return Le||(Le=new Promise((je,ke)=>{try{const Fe=indexedDB.open(pr,ze);Fe.onsuccess=Dt=>{je(Dt.target.result)},Fe.onerror=Dt=>{var Nt;ke(_t.create("storage-open",{originalErrorMessage:null===(Nt=Dt.target.error)||void 0===Nt?void 0:Nt.message}))},Fe.onupgradeneeded=Dt=>{0===Dt.oldVersion&&Dt.target.result.createObjectStore(Ve,{keyPath:"compositeKey"})}}catch(Fe){ke(_t.create("storage-open",{originalErrorMessage:Fe?.message}))}}),Le)}()).transaction(Ve,"readwrite"),Fn=Dt.objectStore(Ve).put({compositeKey:je,value:ke});return new Promise((sr,Tn)=>{Fn.onsuccess=xr=>{sr()},Dt.onerror=xr=>{var us;Tn(_t.create("storage-set",{originalErrorMessage:null===(us=xr.target.error)||void 0===us?void 0:us.message}))}})})).apply(this,arguments)}const Ar=new Ye.Yd("@firebase/app-check");function Jr(je,ke){return(0,Ie.hl)()?function Ft(je,ke){return Jt(function Hn(je){return`${je.options.appId}-${je.name}`}(je),ke)}(je,ke).catch(Fe=>{Ar.warn(`Failed to write token to IndexedDB. Error: ${Fe}`)}):Promise.resolve()}function Zn(){return Ot().enabled}function Cr(){return Er.apply(this,arguments)}function Er(){return(Er=(0,xe.Z)(function*(){const je=Ot();if(je.enabled&&je.token)return je.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Dr={error:"UNKNOWN_ERROR"};function gr(je){return Ie.US.encodeString(JSON.stringify(je),!1)}function gn(je){return tn.apply(this,arguments)}function tn(){return(tn=(0,xe.Z)(function*(je,ke=!1){const Fe=je.app;se(Fe);const Dt=ft(Fe);let Fn,Nt=Dt.token;if(Nt&&!Vn(Nt)&&(Dt.token=void 0,Nt=void 0),!Nt){const xr=yield Dt.cachedTokenPromise;xr&&(Vn(xr)?Nt=xr:yield Jr(Fe,void 0))}if(!ke&&Nt&&Vn(Nt))return{token:Nt.token};let Tn,sr=!1;if(Zn()){Dt.exchangeTokenPromise||(Dt.exchangeTokenPromise=hn(Sn(Fe,yield Cr()),je.heartbeatServiceProvider).finally(()=>{Dt.exchangeTokenPromise=void 0}),sr=!0);const xr=yield Dt.exchangeTokenPromise;return yield Jr(Fe,xr),Dt.token=xr,{token:xr.token}}try{Dt.exchangeTokenPromise||(Dt.exchangeTokenPromise=Dt.provider.getToken().finally(()=>{Dt.exchangeTokenPromise=void 0}),sr=!0),Nt=yield ft(Fe).exchangeTokenPromise}catch(xr){"appCheck/throttled"===xr.code?Ar.warn(xr.message):Ar.error(xr),Fn=xr}return Nt?Fn?Tn=Vn(Nt)?{token:Nt.token,internalError:Fn}:as(Fn):(Tn={token:Nt.token},Dt.token=Nt,yield Jr(Fe,Nt)):Tn=as(Fn),sr&&function Hi(je,ke){const Fe=ft(je).tokenObservers;for(const Dt of Fe)try{"EXTERNAL"===Dt.type&&null!=ke.error?Dt.error(ke.error):Dt.next(ke)}catch{}}(Fe,Tn),Tn})).apply(this,arguments)}function Pn(je){return vi.apply(this,arguments)}function vi(){return(vi=(0,xe.Z)(function*(je){const ke=je.app;se(ke);const{provider:Fe}=ft(ke);if(Zn()){const Dt=yield Cr(),{token:Nt}=yield hn(Sn(ke,Dt),je.heartbeatServiceProvider);return{token:Nt}}{const{token:Dt}=yield Fe.getToken();return{token:Dt}}})).apply(this,arguments)}function ei(je,ke){const Fe=ft(je),Dt=Fe.tokenObservers.filter(Nt=>Nt.next!==ke);0===Dt.length&&Fe.tokenRefresher&&Fe.tokenRefresher.isRunning()&&Fe.tokenRefresher.stop(),Fe.tokenObservers=Dt}function Fi(je){const{app:ke}=je,Fe=ft(ke);let Dt=Fe.tokenRefresher;Dt||(Dt=function ti(je){const{app:ke}=je;return new Oe((0,xe.Z)(function*(){let Dt;if(Dt=ft(ke).token?yield gn(je,!0):yield gn(je),Dt.error)throw Dt.error;if(Dt.internalError)throw Dt.internalError}),()=>!0,()=>{const Fe=ft(ke);if(Fe.token){let Dt=Fe.token.issuedAtTimeMillis+.5*(Fe.token.expireTimeMillis-Fe.token.issuedAtTimeMillis)+3e5;return Dt=Math.min(Dt,Fe.token.expireTimeMillis-3e5),Math.max(0,Dt-Date.now())}return 0},mt.RETRIAL_MIN_WAIT,mt.RETRIAL_MAX_WAIT)}(je),Fe.tokenRefresher=Dt),!Dt.isRunning()&&Fe.isTokenAutoRefreshEnabled&&Dt.start()}function Vn(je){return je.expireTimeMillis-Date.now()>0}function as(je){return{token:gr(Dr),error:je}}class ir{constructor(ke,Fe){this.app=ke,this.heartbeatServiceProvider=Fe}_delete(){const{tokenObservers:ke}=ft(this.app);for(const Fe of ke)ei(this.app,Fe.next);return Promise.resolve()}}const mn="app-check-internal";!function Kn(){(0,Ke._registerComponent)(new qe.wA("app-check",je=>function cr(je,ke){return new ir(je,ke)}(je.getProvider("app").getImmediate(),je.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((je,ke,Fe)=>{je.getProvider(mn).initialize()})),(0,Ke._registerComponent)(new qe.wA(mn,je=>function kt(je){return{getToken:ke=>gn(je,ke),getLimitedUseToken:()=>Pn(je),addTokenListener:ke=>function fi(je,ke,Fe,Dt){const{app:Nt}=je,Fn=ft(Nt);if(Fn.tokenObservers=[...Fn.tokenObservers,{next:Fe,error:Dt,type:ke}],Fn.token&&Vn(Fn.token)){const Tn=Fn.token;Promise.resolve().then(()=>{Fe({token:Tn.token}),Fi(je)}).catch(()=>{})}Fn.cachedTokenPromise.then(()=>Fi(je))}(je,"INTERNAL",ke),removeTokenListener:ke=>ei(je.app,ke)}}(je.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ke.registerVersion)("@firebase/app-check","0.8.0")}();class qr{constructor(){return(0,R.vb)("app-check")}}typeof window<"u"&&window},3692:(_n,at,q)=>{q.d(at,{Ot:()=>Me,ZF:()=>lt,hX:()=>ft,z6:()=>xe});var R=q(259),ee=q(4650),$=q(4976);class Me{constructor(Oe){return Oe}}class xe{constructor(){return(0,R.C6)()}}const Ie=new ee.OlP("angularfire2._apps"),Ye={provide:Me,useFactory:function qe(Ze){return Ze&&1===Ze.length?Ze[0]:new Me((0,R.Mq)())},deps:[[new ee.FiY,Ie]]},ge={provide:xe,deps:[[new ee.FiY,Ie]]};function Te(Ze){return(Oe,dt)=>{const Rt=Oe.runOutsideAngular(()=>Ze(dt));return new Me(Rt)}}let Ne=(()=>{class Ze{constructor(dt){(0,R.KN)("angularfire",$.q4.full,"core"),(0,R.KN)("angularfire",$.q4.full,"app"),(0,R.KN)("angular",ee.q4F.full,dt.toString())}}return Ze.\u0275fac=function(dt){return new(dt||Ze)(ee.LFG(ee.Lbi))},Ze.\u0275mod=ee.oAB({type:Ze}),Ze.\u0275inj=ee.cJS({providers:[Ye,ge]}),Ze})();function ft(Ze,...Oe){return{ngModule:Ne,providers:[{provide:Ie,useFactory:Te(Ze),multi:!0,deps:[ee.R0b,ee.zs3,$.HU,...Oe]}]}}const lt=(0,$.u3)(R.ZF,!0)},1205:(_n,at,q)=>{q.d(at,{zQ:()=>kn,ww:()=>zr,rT:()=>Kt,f7:()=>hn,L6:()=>Be,_Q:()=>se,lh:()=>$t,Qv:()=>_t,nw:()=>jt});var R=q(4650),ee=q(7579),$=q(9646),Me=q(9751),xe=q(8996),Ke=q(6451),qe=q(5363),Ie=q(3900),Ye=q(4004),ge=q(6063);class Te extends ee.x{constructor(pr=1/0,ze=1/0,Ve=ge.l){super(),this._bufferSize=pr,this._windowTime=ze,this._timestampProvider=Ve,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ze===1/0,this._bufferSize=Math.max(1,pr),this._windowTime=Math.max(1,ze)}next(pr){const{isStopped:ze,_buffer:Ve,_infiniteTimeWindow:Qe,_timestampProvider:Le,_windowTime:nt}=this;ze||(Ve.push(pr),!Qe&&Ve.push(Le.now()+nt)),this._trimBuffer(),super.next(pr)}_subscribe(pr){this._throwIfClosed(),this._trimBuffer();const ze=this._innerSubscribe(pr),{_infiniteTimeWindow:Ve,_buffer:Qe}=this,Le=Qe.slice();for(let nt=0;nt<Le.length&&!pr.closed;nt+=Ve?1:2)pr.next(Le[nt]);return this._checkFinalizedStatuses(pr),ze}_trimBuffer(){const{_bufferSize:pr,_timestampProvider:ze,_buffer:Ve,_infiniteTimeWindow:Qe}=this,Le=(Qe?1:2)*pr;if(pr<1/0&&Le<Ve.length&&Ve.splice(0,Ve.length-Le),!Qe){const nt=ze.now();let vt=0;for(let Ft=1;Ft<Ve.length&&Ve[Ft]<=nt;Ft+=2)vt=Ft;vt&&Ve.splice(0,vt+1)}}}var Ne=q(3099);function ft(Sn,pr,ze){let Ve,Qe=!1;return Sn&&"object"==typeof Sn?({bufferSize:Ve=1/0,windowTime:pr=1/0,refCount:Qe=!1,scheduler:ze}=Sn):Ve=Sn??1/0,(0,Ne.B)({connector:()=>new Te(Ve,pr,ze),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Qe})}var wt=q(590),Ot=q(576);function Xt(Sn,pr){return(0,Ot.m)(pr)?(0,Ie.w)(()=>Sn,pr):(0,Ie.w)(()=>Sn)}var lt=q(9468),ut=q(9300),At=q(4976),mt=q(2011),Ze=q(6895),Oe=q(2313),dt=q(9260);const _t=new R.OlP("angularfire2.auth.use-emulator"),Be=new R.OlP("angularfire2.auth.settings"),se=new R.OlP("angularfire2.auth.tenant-id"),Kt=new R.OlP("angularfire2.auth.langugage-code"),$t=new R.OlP("angularfire2.auth.use-device-language"),hn=new R.OlP("angularfire.auth.persistence"),jt=(Sn,pr,ze,Ve,Qe,Le,nt,vt)=>(0,mt.cc)(`${Sn.name}.auth`,"AngularFireAuth",Sn.name,()=>{const Ft=pr.runOutsideAngular(()=>Sn.auth());if(ze&&Ft.useEmulator(...ze),Ve&&(Ft.tenantId=Ve),Ft.languageCode=Qe,Le&&Ft.useDeviceLanguage(),nt)for(const[rn,jn]of Object.entries(nt))Ft.settings[rn]=jn;return vt&&Ft.setPersistence(vt),Ft},[ze,Ve,Qe,Le,nt,vt]);let kn=(()=>{class Sn{constructor(ze,Ve,Qe,Le,nt,vt,Ft,rn,jn,Jt,nr,Fr){const qn=new ee.x,Hn=(0,$.of)(void 0).pipe((0,qe.Q)(nt.outsideAngular),(0,Ie.w)(()=>Le.runOutsideAngular(()=>Promise.resolve().then(q.bind(q,9568)))),(0,Ye.U)(()=>(0,mt.on)(ze,Le,Ve)),(0,Ye.U)(Ar=>jt(Ar,Le,vt,rn,jn,Jt,Ft,nr)),ft({bufferSize:1,refCount:!1}));if((0,Ze.PM)(Qe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,$.of)(null);else{Hn.pipe((0,wt.P)()).subscribe();const nn=Hn.pipe((0,Ie.w)(Nn=>Nn.getRedirectResult().then(Ht=>Ht,()=>null)),At.iC,ft({bufferSize:1,refCount:!1})),Or=Hn.pipe((0,Ie.w)(Nn=>new Me.y(Ht=>({unsubscribe:Le.runOutsideAngular(()=>Nn.onAuthStateChanged(Zn=>Ht.next(Zn),Zn=>Ht.error(Zn),()=>Ht.complete()))})))),Jr=Hn.pipe((0,Ie.w)(Nn=>new Me.y(Ht=>({unsubscribe:Le.runOutsideAngular(()=>Nn.onIdTokenChanged(Zn=>Ht.next(Zn),Zn=>Ht.error(Zn),()=>Ht.complete()))}))));this.authState=nn.pipe(Xt(Or),(0,lt.R)(nt.outsideAngular),(0,qe.Q)(nt.insideAngular)),this.user=nn.pipe(Xt(Jr),(0,lt.R)(nt.outsideAngular),(0,qe.Q)(nt.insideAngular)),this.idToken=this.user.pipe((0,Ie.w)(Nn=>Nn?(0,xe.D)(Nn.getIdToken()):(0,$.of)(null))),this.idTokenResult=this.user.pipe((0,Ie.w)(Nn=>Nn?(0,xe.D)(Nn.getIdTokenResult()):(0,$.of)(null))),this.credential=(0,Ke.T)(nn,qn,this.authState.pipe((0,ut.h)(Nn=>!Nn))).pipe((0,Ye.U)(Nn=>Nn?.user?Nn:null),(0,lt.R)(nt.outsideAngular),(0,qe.Q)(nt.insideAngular))}return(0,mt.pX)(this,Hn,Le,{spy:{apply:(Ar,nn,Or)=>{(Ar.startsWith("signIn")||Ar.startsWith("createUser"))&&Or.then(Jr=>qn.next(Jr))}}})}}return Sn.\u0275fac=function(ze){return new(ze||Sn)(R.LFG(mt.Dh),R.LFG(mt.xv,8),R.LFG(R.Lbi),R.LFG(R.R0b),R.LFG(At.HU),R.LFG(_t,8),R.LFG(Be,8),R.LFG(se,8),R.LFG(Kt,8),R.LFG($t,8),R.LFG(hn,8),R.LFG(Oe.nm,8))},Sn.\u0275prov=R.Yz7({token:Sn,factory:Sn.\u0275fac,providedIn:"any"}),Sn})(),zr=(()=>{class Sn{constructor(){dt.Z.registerVersion("angularfire",At.q4.full,"auth-compat")}}return Sn.\u0275fac=function(ze){return new(ze||Sn)},Sn.\u0275mod=R.oAB({type:Sn}),Sn.\u0275inj=R.cJS({providers:[kn]}),Sn})()},9532:(_n,at,q)=>{q.d(at,{KQ:()=>fd,JS:()=>Mu});var R=q(4650),ee=q(4986),$=q(9751),Me=q(9646),xe=q(6451),Ke=q(4004),qe=q(3099),Ie=q(3900),Ye=q(5026),ge=q(4671),Te=q(4482),Ne=q(5403);function wt(f,c){return f===c}var Ot=q(8421),Xt=q(5032),lt=q(7669),mt=q(4976),Ze=q(2011),dt=(q(9568),q(3942)),Rt=q(4859),_t=q(5861),Be=q(6881),se=q(2090),Kt=q(1877);const $t="@firebase/database";let jt="";function kn(f){jt=f}class zr{constructor(c){this.domStorage_=c,this.prefix_="firebase:"}set(c,d){null==d?this.domStorage_.removeItem(this.prefixedName_(c)):this.domStorage_.setItem(this.prefixedName_(c),(0,se.Wl)(d))}get(c){const d=this.domStorage_.getItem(this.prefixedName_(c));return null==d?null:(0,se.cI)(d)}remove(c){this.domStorage_.removeItem(this.prefixedName_(c))}prefixedName_(c){return this.prefix_+c}toString(){return this.domStorage_.toString()}}class Sn{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(c,d){null==d?delete this.cache_[c]:this.cache_[c]=d}get(c){return(0,se.r3)(this.cache_,c)?this.cache_[c]:null}remove(c){delete this.cache_[c]}}const pr=function(f){try{if(typeof window<"u"&&typeof window[f]<"u"){const c=window[f];return c.setItem("firebase:sentinel","cache"),c.removeItem("firebase:sentinel"),new zr(c)}}catch{}return new Sn},ze=pr("localStorage"),Ve=pr("sessionStorage"),Qe=new Kt.Yd("@firebase/database"),Le=function(){let f=1;return function(){return f++}}(),nt=function(f){const c=(0,se.dS)(f),d=new se.gQ;d.update(c);const _=d.digest();return se.US.encodeByteArray(_)},vt=function(...f){let c="";for(let d=0;d<f.length;d++){const _=f[d];Array.isArray(_)||_&&"object"==typeof _&&"number"==typeof _.length?c+=vt.apply(null,_):c+="object"==typeof _?(0,se.Wl)(_):_,c+=" "}return c};let Ft=null,rn=!0;const jn=function(f,c){(0,se.hu)(!c||!0===f||!1===f,"Can't turn on custom loggers persistently."),!0===f?(Qe.logLevel=Kt.in.VERBOSE,Ft=Qe.log.bind(Qe),c&&Ve.set("logging_enabled",!0)):"function"==typeof f?Ft=f:(Ft=null,Ve.remove("logging_enabled"))},Jt=function(...f){if(!0===rn&&(rn=!1,null===Ft&&!0===Ve.get("logging_enabled")&&jn(!0)),Ft){const c=vt.apply(null,f);Ft(c)}},nr=function(f){return function(...c){Jt(f,...c)}},Fr=function(...f){const c="FIREBASE INTERNAL ERROR: "+vt(...f);Qe.error(c)},qn=function(...f){const c=`FIREBASE FATAL ERROR: ${vt(...f)}`;throw Qe.error(c),new Error(c)},Hn=function(...f){const c="FIREBASE WARNING: "+vt(...f);Qe.warn(c)},nn=function(f){return"number"==typeof f&&(f!=f||f===Number.POSITIVE_INFINITY||f===Number.NEGATIVE_INFINITY)},Jr="[MIN_NAME]",Nn="[MAX_NAME]",Ht=function(f,c){if(f===c)return 0;if(f===Jr||c===Nn)return-1;if(c===Jr||f===Nn)return 1;{const d=Fi(f),_=Fi(c);return null!==d?null!==_?d-_==0?f.length-c.length:d-_:-1:null!==_?1:f<c?-1:1}},Zn=function(f,c){return f===c?0:f<c?-1:1},Cr=function(f,c){if(c&&f in c)return c[f];throw new Error("Missing required key ("+f+") in object: "+(0,se.Wl)(c))},Er=function(f){if("object"!=typeof f||null===f)return(0,se.Wl)(f);const c=[];for(const _ in f)c.push(_);c.sort();let d="{";for(let _=0;_<c.length;_++)0!==_&&(d+=","),d+=(0,se.Wl)(c[_]),d+=":",d+=Er(f[c[_]]);return d+="}",d},Ur=function(f,c){const d=f.length;if(d<=c)return[f];const _=[];for(let D=0;D<d;D+=c)_.push(f.substring(D,D+c>d?d:D+c));return _};function Dr(f,c){for(const d in f)f.hasOwnProperty(d)&&c(d,f[d])}const gr=function(f){(0,se.hu)(!nn(f),"Invalid JSON number");const _=1023;let D,F,W,re,me;0===f?(F=0,W=0,D=1/f==-1/0?1:0):(D=f<0,(f=Math.abs(f))>=Math.pow(2,1-_)?(re=Math.min(Math.floor(Math.log(f)/Math.LN2),_),F=re+_,W=Math.round(f*Math.pow(2,52-re)-Math.pow(2,52))):(F=0,W=Math.round(f/Math.pow(2,-1074))));const Se=[];for(me=52;me;me-=1)Se.push(W%2?1:0),W=Math.floor(W/2);for(me=11;me;me-=1)Se.push(F%2?1:0),F=Math.floor(F/2);Se.push(D?1:0),Se.reverse();const pt=Se.join("");let It="";for(me=0;me<64;me+=8){let Tt=parseInt(pt.substr(me,8),2).toString(16);1===Tt.length&&(Tt="0"+Tt),It+=Tt}return It.toLowerCase()},vi=new RegExp("^-?(0*)\\d{1,10}$"),Fi=function(f){if(vi.test(f)){const c=Number(f);if(c>=-2147483648&&c<=2147483647)return c}return null},ti=function(f){try{f()}catch(c){setTimeout(()=>{throw Hn("Exception was thrown by user callback.",c.stack||""),c},Math.floor(0))}},Hi=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Vn=function(f,c){const d=setTimeout(f,c);return"number"==typeof d&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(d):"object"==typeof d&&d.unref&&d.unref(),d};class as{constructor(c,d){this.appName_=c,this.appCheckProvider=d,this.appCheck=d?.getImmediate({optional:!0}),this.appCheck||d?.get().then(_=>this.appCheck=_)}getToken(c){return this.appCheck?this.appCheck.getToken(c):new Promise((d,_)=>{setTimeout(()=>{this.appCheck?this.getToken(c).then(d,_):d(null)},0)})}addTokenChangeListener(c){var d;null===(d=this.appCheckProvider)||void 0===d||d.get().then(_=>_.addTokenListener(c))}notifyForInvalidToken(){Hn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ir{constructor(c,d,_){this.appName_=c,this.firebaseOptions_=d,this.authProvider_=_,this.auth_=null,this.auth_=_.getImmediate({optional:!0}),this.auth_||_.onInit(D=>this.auth_=D)}getToken(c){return this.auth_?this.auth_.getToken(c).catch(d=>d&&"auth/token-not-initialized"===d.code?(Jt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(d)):new Promise((d,_)=>{setTimeout(()=>{this.auth_?this.getToken(c).then(d,_):d(null)},0)})}addTokenChangeListener(c){this.auth_?this.auth_.addAuthTokenListener(c):this.authProvider_.get().then(d=>d.addAuthTokenListener(c))}removeTokenChangeListener(c){this.authProvider_.get().then(d=>d.removeAuthTokenListener(c))}notifyForInvalidToken(){let c='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';c+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Hn(c)}}let cr=(()=>{class f{constructor(d){this.accessToken=d}getToken(d){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(d){d(this.accessToken)}removeTokenChangeListener(d){}notifyForInvalidToken(){}}return f.OWNER="owner",f})();const zi=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,we="websocket",ae="long_polling";class de{constructor(c,d,_,D,F=!1,W="",re=!1,me=!1){this.secure=d,this.namespace=_,this.webSocketOnly=D,this.nodeAdmin=F,this.persistenceKey=W,this.includeNamespaceInQueryParams=re,this.isUsingEmulator=me,this._host=c.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ze.get("host:"+c)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(c){c!==this.internalHost&&(this.internalHost=c,this.isCacheableHost()&&ze.set("host:"+this._host,this.internalHost))}toString(){let c=this.toURLString();return this.persistenceKey&&(c+="<"+this.persistenceKey+">"),c}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Re(f,c,d){let _;if((0,se.hu)("string"==typeof c,"typeof type must == string"),(0,se.hu)("object"==typeof d,"typeof params must == object"),c===we)_=(f.secure?"wss://":"ws://")+f.internalHost+"/.ws?";else{if(c!==ae)throw new Error("Unknown connection type: "+c);_=(f.secure?"https://":"http://")+f.internalHost+"/.lp?"}(function ne(f){return f.host!==f.internalHost||f.isCustomHost()||f.includeNamespaceInQueryParams})(f)&&(d.ns=f.namespace);const D=[];return Dr(d,(F,W)=>{D.push(F+"="+W)}),_+D.join("&")}class ye{constructor(){this.counters_={}}incrementCounter(c,d=1){(0,se.r3)(this.counters_,c)||(this.counters_[c]=0),this.counters_[c]+=d}get(){return(0,se.p$)(this.counters_)}}const _e={},fe={};function Pe(f){const c=f.toString();return _e[c]||(_e[c]=new ye),_e[c]}class xt{constructor(c){this.onMessage_=c,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(c,d){this.closeAfterResponse=c,this.onClose=d,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(c,d){for(this.pendingResponses[c]=d;this.pendingResponses[this.currentResponseNum];){const _=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let D=0;D<_.length;++D)_[D]&&ti(()=>{this.onMessage_(_[D])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ts{constructor(c,d,_,D,F,W,re){this.connId=c,this.repoInfo=d,this.applicationId=_,this.appCheckToken=D,this.authToken=F,this.transportSessionId=W,this.lastSessionId=re,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nr(c),this.stats_=Pe(d),this.urlFn=me=>(this.appCheckToken&&(me.ac=this.appCheckToken),Re(d,ae,me))}open(c,d){this.curSegmentNum=0,this.onDisconnect_=d,this.myPacketOrderer=new xt(c),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(f){if((0,se.Yr)()||"complete"===document.readyState)f();else{let c=!1;const d=function(){document.body?c||(c=!0,f()):setTimeout(d,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",d,!1),window.addEventListener("load",d,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&d()}),window.attachEvent("onload",d))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Di((...F)=>{const[W,re,me,Se,pt]=F;if(this.incrementIncomingBytes_(F),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===W)this.id=re,this.password=me;else{if("close"!==W)throw new Error("Unrecognized command received: "+W);re?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(re,()=>{this.onClosed_()})):this.onClosed_()}},(...F)=>{const[W,re]=F;this.incrementIncomingBytes_(F),this.myPacketOrderer.handleResponse(W,re)},()=>{this.onClosed_()},this.urlFn);const _={start:"t"};_.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(_.cb=this.scriptTagHolder.uniqueCallbackIdentifier),_.v="5",this.transportSessionId&&(_.s=this.transportSessionId),this.lastSessionId&&(_.ls=this.lastSessionId),this.applicationId&&(_.p=this.applicationId),this.appCheckToken&&(_.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&zi.test(location.hostname)&&(_.r="f");const D=this.urlFn(_);this.log_("Connecting via long-poll to "+D),this.scriptTagHolder.addTag(D,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ts.forceAllow_=!0}static forceDisallow(){ts.forceDisallow_=!0}static isAvailable(){return!((0,se.Yr)()||!ts.forceAllow_&&(ts.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(c){const d=(0,se.Wl)(c);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const _=(0,se.h$)(d),D=Ur(_,1840);for(let F=0;F<D.length;F++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,D.length,D[F]),this.curSegmentNum++}addDisconnectPingFrame(c,d){if((0,se.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const _={dframe:"t"};_.id=c,_.pw=d,this.myDisconnFrame.src=this.urlFn(_),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(c){const d=(0,se.Wl)(c).length;this.bytesReceived+=d,this.stats_.incrementCounter("bytes_received",d)}}class Di{constructor(c,d,_,D){if(this.onDisconnect=_,this.urlFn=D,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,se.Yr)())this.commandCB=c,this.onMessageCB=d;else{this.uniqueCallbackIdentifier=Le(),window["pLPCommand"+this.uniqueCallbackIdentifier]=c,window["pRTLPCB"+this.uniqueCallbackIdentifier]=d,this.myIFrame=Di.createIFrame_();let F="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(F='<script>document.domain="'+document.domain+'";<\/script>');const W="<html><body>"+F+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(W),this.myIFrame.doc.close()}catch(re){Jt("frame writing exception"),re.stack&&Jt(re.stack),Jt(re)}}}static createIFrame_(){const c=document.createElement("iframe");if(c.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(c);try{c.contentWindow.document||Jt("No IE domain setting required")}catch{const _=document.domain;c.src="javascript:void((function(){document.open();document.domain='"+_+"';document.close();})())"}return c.contentDocument?c.doc=c.contentDocument:c.contentWindow?c.doc=c.contentWindow.document:c.document&&(c.doc=c.document),c}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const c=this.onDisconnect;c&&(this.onDisconnect=null,c())}startLongPoll(c,d){for(this.myID=c,this.myPW=d,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const c={};c.id=this.myID,c.pw=this.myPW,c.ser=this.currentSerial;let d=this.urlFn(c),_="",D=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+_.length<=1870;){const W=this.pendingSegs.shift();_=_+"&seg"+D+"="+W.seg+"&ts"+D+"="+W.ts+"&d"+D+"="+W.d,D++}return d+=_,this.addLongPollTag_(d,this.currentSerial),!0}return!1}enqueueSegment(c,d,_){this.pendingSegs.push({seg:c,ts:d,d:_}),this.alive&&this.newRequest_()}addLongPollTag_(c,d){this.outstandingRequests.add(d);const _=()=>{this.outstandingRequests.delete(d),this.newRequest_()},D=setTimeout(_,Math.floor(25e3));this.addTag(c,()=>{clearTimeout(D),_()})}addTag(c,d){(0,se.Yr)()?this.doNodeLongPoll(c,d):setTimeout(()=>{try{if(!this.sendNewPolls)return;const _=this.myIFrame.doc.createElement("script");_.type="text/javascript",_.async=!0,_.src=c,_.onload=_.onreadystatechange=function(){const D=_.readyState;(!D||"loaded"===D||"complete"===D)&&(_.onload=_.onreadystatechange=null,_.parentNode&&_.parentNode.removeChild(_),d())},_.onerror=()=>{Jt("Long-poll script failed to load: "+c),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(_)}catch{}},Math.floor(1))}}let Gr=null;typeof MozWebSocket<"u"?Gr=MozWebSocket:typeof WebSocket<"u"&&(Gr=WebSocket);let Rr=(()=>{class f{constructor(d,_,D,F,W,re,me){this.connId=d,this.applicationId=D,this.appCheckToken=F,this.authToken=W,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nr(this.connId),this.stats_=Pe(_),this.connURL=f.connectionURL_(_,re,me,F,D),this.nodeAdmin=_.nodeAdmin}static connectionURL_(d,_,D,F,W){const re={v:"5"};return!(0,se.Yr)()&&typeof location<"u"&&location.hostname&&zi.test(location.hostname)&&(re.r="f"),_&&(re.s=_),D&&(re.ls=D),F&&(re.ac=F),W&&(re.p=W),Re(d,we,re)}open(d,_){this.onDisconnect=_,this.onMessage=d,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ze.set("previous_websocket_failure",!0);try{let D;if((0,se.Yr)()){D={headers:{"User-Agent":`Firebase/5/${jt}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(D.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(D.headers["X-Firebase-AppCheck"]=this.appCheckToken);const W=process.env,re=0===this.connURL.indexOf("wss://")?W.HTTPS_PROXY||W.https_proxy:W.HTTP_PROXY||W.http_proxy;re&&(D.proxy={origin:re})}this.mySock=new Gr(this.connURL,[],D)}catch(D){this.log_("Error instantiating WebSocket.");const F=D.message||D.data;return F&&this.log_(F),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=D=>{this.handleIncomingFrame(D)},this.mySock.onerror=D=>{this.log_("WebSocket error.  Closing connection.");const F=D.message||D.data;F&&this.log_(F),this.onClosed_()}}start(){}static forceDisallow(){f.forceDisallow_=!0}static isAvailable(){let d=!1;if(typeof navigator<"u"&&navigator.userAgent){const D=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);D&&D.length>1&&parseFloat(D[1])<4.4&&(d=!0)}return!d&&null!==Gr&&!f.forceDisallow_}static previouslyFailed(){return ze.isInMemoryStorage||!0===ze.get("previous_websocket_failure")}markConnectionHealthy(){ze.remove("previous_websocket_failure")}appendFrame_(d){if(this.frames.push(d),this.frames.length===this.totalFrames){const _=this.frames.join("");this.frames=null;const D=(0,se.cI)(_);this.onMessage(D)}}handleNewFrameCount_(d){this.totalFrames=d,this.frames=[]}extractFrameCount_(d){if((0,se.hu)(null===this.frames,"We already have a frame buffer"),d.length<=6){const _=Number(d);if(!isNaN(_))return this.handleNewFrameCount_(_),null}return this.handleNewFrameCount_(1),d}handleIncomingFrame(d){if(null===this.mySock)return;const _=d.data;if(this.bytesReceived+=_.length,this.stats_.incrementCounter("bytes_received",_.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(_);else{const D=this.extractFrameCount_(_);null!==D&&this.appendFrame_(D)}}send(d){this.resetKeepAlive();const _=(0,se.Wl)(d);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);const D=Ur(_,16384);D.length>1&&this.sendString_(String(D.length));for(let F=0;F<D.length;F++)this.sendString_(D[F])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(d){try{this.mySock.send(d)}catch(_){this.log_("Exception thrown from WebSocket.send():",_.message||_.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return f.responsesRequiredToBeHealthy=2,f.healthyTimeout=3e4,f})(),xo=(()=>{class f{constructor(d){this.initTransports_(d)}static get ALL_TRANSPORTS(){return[ts,Rr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(d){const _=Rr&&Rr.isAvailable();let D=_&&!Rr.previouslyFailed();if(d.webSocketOnly&&(_||Hn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),D=!0),D)this.transports_=[Rr];else{const F=this.transports_=[];for(const W of f.ALL_TRANSPORTS)W&&W.isAvailable()&&F.push(W);f.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return f.globalTransportInitialized_=!1,f})();class cs{constructor(c,d,_,D,F,W,re,me,Se,pt){this.id=c,this.repoInfo_=d,this.applicationId_=_,this.appCheckToken_=D,this.authToken_=F,this.onMessage_=W,this.onReady_=re,this.onDisconnect_=me,this.onKill_=Se,this.lastSessionId=pt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nr("c:"+this.id+":"),this.transportManager_=new xo(d),this.log_("Connection created"),this.start_()}start_(){const c=this.transportManager_.initialTransport();this.conn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;const d=this.connReceiver_(this.conn_),_=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(d,_)},Math.floor(0));const D=c.healthyTimeout||0;D>0&&(this.healthyTimeout_=Vn(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(D)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(c){return d=>{c===this.conn_?this.onConnectionLost_(d):c===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(c){return d=>{2!==this.state_&&(c===this.rx_?this.onPrimaryMessageReceived_(d):c===this.secondaryConn_?this.onSecondaryMessageReceived_(d):this.log_("message on old connection"))}}sendRequest(c){this.sendData_({t:"d",d:c})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(c){if("t"in c){const d=c.t;"a"===d?this.upgradeIfSecondaryHealthy_():"r"===d?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===d&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(c){const d=Cr("t",c),_=Cr("d",c);if("c"===d)this.onSecondaryControl_(_);else{if("d"!==d)throw new Error("Unknown protocol layer: "+d);this.pendingDataMessages.push(_)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(c){const d=Cr("t",c),_=Cr("d",c);"c"===d?this.onControl_(_):"d"===d&&this.onDataMessage_(_)}onDataMessage_(c){this.onPrimaryResponse_(),this.onMessage_(c)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(c){const d=Cr("t",c);if("d"in c){const _=c.d;if("h"===d){const D=Object.assign({},_);this.repoInfo_.isUsingEmulator&&(D.h=this.repoInfo_.host),this.onHandshake_(D)}else if("n"===d){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let D=0;D<this.pendingDataMessages.length;++D)this.onDataMessage_(this.pendingDataMessages[D]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===d?this.onConnectionShutdown_(_):"r"===d?this.onReset_(_):"e"===d?Fr("Server Error: "+_):"o"===d?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fr("Unknown control packet command: "+d)}}onHandshake_(c){const d=c.ts,_=c.v,D=c.h;this.sessionId=c.s,this.repoInfo_.host=D,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,d),"5"!==_&&Hn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const c=this.transportManager_.upgradeTransport();c&&this.startUpgrade_(c)}startUpgrade_(c){this.secondaryConn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;const d=this.connReceiver_(this.secondaryConn_),_=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(d,_),Vn(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(c){this.log_("Reset packet received.  New host: "+c),this.repoInfo_.host=c,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(c,d){this.log_("Realtime connection established."),this.conn_=c,this.state_=1,this.onReady_&&(this.onReady_(d,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vn(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const c=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===c||this.rx_===c)&&this.close()}onConnectionLost_(c){this.conn_=null,c||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ze.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(c){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(c),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(c){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(c)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ki{put(c,d,_,D){}merge(c,d,_,D){}refreshAuthToken(c){}refreshAppCheckToken(c){}onDisconnectPut(c,d,_){}onDisconnectMerge(c,d,_){}onDisconnectCancel(c,d){}reportStats(c){}}class gi{constructor(c){this.allowedEvents_=c,this.listeners_={},(0,se.hu)(Array.isArray(c)&&c.length>0,"Requires a non-empty array")}trigger(c,...d){if(Array.isArray(this.listeners_[c])){const _=[...this.listeners_[c]];for(let D=0;D<_.length;D++)_[D].callback.apply(_[D].context,d)}}on(c,d,_){this.validateEventType_(c),this.listeners_[c]=this.listeners_[c]||[],this.listeners_[c].push({callback:d,context:_});const D=this.getInitialEvent(c);D&&d.apply(_,D)}off(c,d,_){this.validateEventType_(c);const D=this.listeners_[c]||[];for(let F=0;F<D.length;F++)if(D[F].callback===d&&(!_||_===D[F].context))return void D.splice(F,1)}validateEventType_(c){(0,se.hu)(this.allowedEvents_.find(d=>d===c),"Unknown event: "+c)}}class Cs extends gi{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,se.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Cs}getInitialEvent(c){return(0,se.hu)("online"===c,"Unknown event type: "+c),[this.online_]}currentlyOnline(){return this.online_}}const aa=32,ao=768;class Br{constructor(c,d){if(void 0===d){this.pieces_=c.split("/");let _=0;for(let D=0;D<this.pieces_.length;D++)this.pieces_[D].length>0&&(this.pieces_[_]=this.pieces_[D],_++);this.pieces_.length=_,this.pieceNum_=0}else this.pieces_=c,this.pieceNum_=d}toString(){let c="";for(let d=this.pieceNum_;d<this.pieces_.length;d++)""!==this.pieces_[d]&&(c+="/"+this.pieces_[d]);return c||"/"}}function kr(){return new Br("")}function lr(f){return f.pieceNum_>=f.pieces_.length?null:f.pieces_[f.pieceNum_]}function Si(f){return f.pieces_.length-f.pieceNum_}function Kr(f){let c=f.pieceNum_;return c<f.pieces_.length&&c++,new Br(f.pieces_,c)}function ps(f){return f.pieceNum_<f.pieces_.length?f.pieces_[f.pieces_.length-1]:null}function ds(f,c=0){return f.pieces_.slice(f.pieceNum_+c)}function Ko(f){if(f.pieceNum_>=f.pieces_.length)return null;const c=[];for(let d=f.pieceNum_;d<f.pieces_.length-1;d++)c.push(f.pieces_[d]);return new Br(c,0)}function hi(f,c){const d=[];for(let _=f.pieceNum_;_<f.pieces_.length;_++)d.push(f.pieces_[_]);if(c instanceof Br)for(let _=c.pieceNum_;_<c.pieces_.length;_++)d.push(c.pieces_[_]);else{const _=c.split("/");for(let D=0;D<_.length;D++)_[D].length>0&&d.push(_[D])}return new Br(d,0)}function Un(f){return f.pieceNum_>=f.pieces_.length}function Yn(f,c){const d=lr(f),_=lr(c);if(null===d)return c;if(d===_)return Yn(Kr(f),Kr(c));throw new Error("INTERNAL ERROR: innerPath ("+c+") is not within outerPath ("+f+")")}function qo(f,c){const d=ds(f,0),_=ds(c,0);for(let D=0;D<d.length&&D<_.length;D++){const F=Ht(d[D],_[D]);if(0!==F)return F}return d.length===_.length?0:d.length<_.length?-1:1}function Zo(f,c){if(Si(f)!==Si(c))return!1;for(let d=f.pieceNum_,_=c.pieceNum_;d<=f.pieces_.length;d++,_++)if(f.pieces_[d]!==c.pieces_[_])return!1;return!0}function mi(f,c){let d=f.pieceNum_,_=c.pieceNum_;if(Si(f)>Si(c))return!1;for(;d<f.pieces_.length;){if(f.pieces_[d]!==c.pieces_[_])return!1;++d,++_}return!0}class Qu{constructor(c,d){this.errorPrefix_=d,this.parts_=ds(c,0),this.byteLength_=Math.max(1,this.parts_.length);for(let _=0;_<this.parts_.length;_++)this.byteLength_+=(0,se.ug)(this.parts_[_]);Ml(this)}}function Ml(f){if(f.byteLength_>ao)throw new Error(f.errorPrefix_+"has a key path longer than "+ao+" bytes ("+f.byteLength_+").");if(f.parts_.length>aa)throw new Error(f.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+aa+") or object contains a cycle "+Yo(f))}function Yo(f){return 0===f.parts_.length?"":"in property '"+f.parts_.join(".")+"'"}class ml extends gi{constructor(){let c,d;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(d="visibilitychange",c="hidden"):typeof document.mozHidden<"u"?(d="mozvisibilitychange",c="mozHidden"):typeof document.msHidden<"u"?(d="msvisibilitychange",c="msHidden"):typeof document.webkitHidden<"u"&&(d="webkitvisibilitychange",c="webkitHidden")),this.visible_=!0,d&&document.addEventListener(d,()=>{const _=!document[c];_!==this.visible_&&(this.visible_=_,this.trigger("visible",_))},!1)}static getInstance(){return new ml}getInitialEvent(c){return(0,se.hu)("visible"===c,"Unknown event type: "+c),[this.visible_]}}const Hs=1e3;let Ws,wo=(()=>{class f extends Ki{constructor(d,_,D,F,W,re,me,Se){if(super(),this.repoInfo_=d,this.applicationId_=_,this.onDataUpdate_=D,this.onConnectStatus_=F,this.onServerInfoUpdate_=W,this.authTokenProvider_=re,this.appCheckTokenProvider_=me,this.authOverride_=Se,this.id=f.nextPersistentConnectionId_++,this.log_=nr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hs,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Se&&!(0,se.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ml.getInstance().on("visible",this.onVisible_,this),-1===d.host.indexOf("fblocal")&&Cs.getInstance().on("online",this.onOnline_,this)}sendRequest(d,_,D){const F=++this.requestNumber_,W={r:F,a:d,b:_};this.log_((0,se.Wl)(W)),(0,se.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(W),D&&(this.requestCBHash_[F]=D)}get(d){this.initConnection_();const _=new se.BH,F={action:"g",request:{p:d._path.toString(),q:d._queryObject},onComplete:re=>{const me=re.d;"ok"===re.s?_.resolve(me):_.reject(me)}};return this.outstandingGets_.push(F),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),_.promise}listen(d,_,D,F){this.initConnection_();const W=d._queryIdentifier,re=d._path.toString();this.log_("Listen called for "+re+" "+W),this.listens.has(re)||this.listens.set(re,new Map),(0,se.hu)(d._queryParams.isDefault()||!d._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,se.hu)(!this.listens.get(re).has(W),"listen() called twice for same path/queryId.");const me={onComplete:F,hashFn:_,query:d,tag:D};this.listens.get(re).set(W,me),this.connected_&&this.sendListen_(me)}sendGet_(d){const _=this.outstandingGets_[d];this.sendRequest("g",_.request,D=>{delete this.outstandingGets_[d],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),_.onComplete&&_.onComplete(D)})}sendListen_(d){const _=d.query,D=_._path.toString(),F=_._queryIdentifier;this.log_("Listen on "+D+" for "+F);const W={p:D};d.tag&&(W.q=_._queryObject,W.t=d.tag),W.h=d.hashFn(),this.sendRequest("q",W,me=>{const Se=me.d,pt=me.s;f.warnOnListenWarnings_(Se,_),(this.listens.get(D)&&this.listens.get(D).get(F))===d&&(this.log_("listen response",me),"ok"!==pt&&this.removeListen_(D,F),d.onComplete&&d.onComplete(pt,Se))})}static warnOnListenWarnings_(d,_){if(d&&"object"==typeof d&&(0,se.r3)(d,"w")){const D=(0,se.DV)(d,"w");if(Array.isArray(D)&&~D.indexOf("no_index")){const F='".indexOn": "'+_._queryParams.getIndex().toString()+'"',W=_._path.toString();Hn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${F} at ${W} to your security rules for better performance.`)}}}refreshAuthToken(d){this.authToken_=d,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(d)}reduceReconnectDelayIfAdminCredential_(d){(d&&40===d.length||(0,se.GJ)(d))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(d){this.appCheckToken_=d,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const d=this.authToken_,_=(0,se.w9)(d)?"auth":"gauth",D={cred:d};null===this.authOverride_?D.noauth=!0:"object"==typeof this.authOverride_&&(D.authvar=this.authOverride_),this.sendRequest(_,D,F=>{const W=F.s,re=F.d||"error";this.authToken_===d&&("ok"===W?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(W,re))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},d=>{const _=d.s,D=d.d||"error";"ok"===_?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(_,D)})}unlisten(d,_){const D=d._path.toString(),F=d._queryIdentifier;this.log_("Unlisten called for "+D+" "+F),(0,se.hu)(d._queryParams.isDefault()||!d._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(D,F)&&this.connected_&&this.sendUnlisten_(D,F,d._queryObject,_)}sendUnlisten_(d,_,D,F){this.log_("Unlisten on "+d+" for "+_);const W={p:d};F&&(W.q=D,W.t=F),this.sendRequest("n",W)}onDisconnectPut(d,_,D){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",d,_,D):this.onDisconnectRequestQueue_.push({pathString:d,action:"o",data:_,onComplete:D})}onDisconnectMerge(d,_,D){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",d,_,D):this.onDisconnectRequestQueue_.push({pathString:d,action:"om",data:_,onComplete:D})}onDisconnectCancel(d,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",d,null,_):this.onDisconnectRequestQueue_.push({pathString:d,action:"oc",data:null,onComplete:_})}sendOnDisconnect_(d,_,D,F){const W={p:_,d:D};this.log_("onDisconnect "+d,W),this.sendRequest(d,W,re=>{F&&setTimeout(()=>{F(re.s,re.d)},Math.floor(0))})}put(d,_,D,F){this.putInternal("p",d,_,D,F)}merge(d,_,D,F){this.putInternal("m",d,_,D,F)}putInternal(d,_,D,F,W){this.initConnection_();const re={p:_,d:D};void 0!==W&&(re.h=W),this.outstandingPuts_.push({action:d,request:re,onComplete:F}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+_)}sendPut_(d){const _=this.outstandingPuts_[d].action,D=this.outstandingPuts_[d].request,F=this.outstandingPuts_[d].onComplete;this.outstandingPuts_[d].queued=this.connected_,this.sendRequest(_,D,W=>{this.log_(_+" response",W),delete this.outstandingPuts_[d],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),F&&F(W.s,W.d)})}reportStats(d){if(this.connected_){const _={c:d};this.log_("reportStats",_),this.sendRequest("s",_,D=>{"ok"!==D.s&&this.log_("reportStats","Error sending stats: "+D.d)})}}onDataMessage_(d){if("r"in d){this.log_("from server: "+(0,se.Wl)(d));const _=d.r,D=this.requestCBHash_[_];D&&(delete this.requestCBHash_[_],D(d.b))}else{if("error"in d)throw"A server-side error has occurred: "+d.error;"a"in d&&this.onDataPush_(d.a,d.b)}}onDataPush_(d,_){this.log_("handleServerMessage",d,_),"d"===d?this.onDataUpdate_(_.p,_.d,!1,_.t):"m"===d?this.onDataUpdate_(_.p,_.d,!0,_.t):"c"===d?this.onListenRevoked_(_.p,_.q):"ac"===d?this.onAuthRevoked_(_.s,_.d):"apc"===d?this.onAppCheckRevoked_(_.s,_.d):"sd"===d?this.onSecurityDebugPacket_(_):Fr("Unrecognized action received from server: "+(0,se.Wl)(d)+"\nAre you using the latest client?")}onReady_(d,_){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(d),this.lastSessionId=_,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(d){(0,se.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(d))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(d){d&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0)),this.visible_=d}onOnline_(d){d?(this.log_("Browser went online."),this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Hs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const d=(new Date).getTime()-this.lastConnectionAttemptTime_;let _=Math.max(0,this.reconnectDelay_-d);_=Math.random()*_,this.log_("Trying to reconnect in "+_+"ms"),this.scheduleConnect_(_),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var d=this;return(0,_t.Z)(function*(){if(d.shouldReconnect_()){d.log_("Making a connection attempt"),d.lastConnectionAttemptTime_=(new Date).getTime(),d.lastConnectionEstablishedTime_=null;const _=d.onDataMessage_.bind(d),D=d.onReady_.bind(d),F=d.onRealtimeDisconnect_.bind(d),W=d.id+":"+f.nextConnectionId_++,re=d.lastSessionId;let me=!1,Se=null;const pt=function(){Se?Se.close():(me=!0,F())};d.realtime_={close:pt,sendRequest:function(cn){(0,se.hu)(Se,"sendRequest call when we're not connected not allowed."),Se.sendRequest(cn)}};const Tt=d.forceTokenRefresh_;d.forceTokenRefresh_=!1;try{const[cn,Rn]=yield Promise.all([d.authTokenProvider_.getToken(Tt),d.appCheckTokenProvider_.getToken(Tt)]);me?Jt("getToken() completed but was canceled"):(Jt("getToken() completed. Creating connection."),d.authToken_=cn&&cn.accessToken,d.appCheckToken_=Rn&&Rn.token,Se=new cs(W,d.repoInfo_,d.applicationId_,d.appCheckToken_,d.authToken_,_,D,F,Ti=>{Hn(Ti+" ("+d.repoInfo_.toString()+")"),d.interrupt("server_kill")},re))}catch(cn){d.log_("Failed to get token: "+cn),me||(d.repoInfo_.nodeAdmin&&Hn(cn),pt())}}})()}interrupt(d){Jt("Interrupting connection for reason: "+d),this.interruptReasons_[d]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(d){Jt("Resuming connection for reason: "+d),delete this.interruptReasons_[d],(0,se.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(d){const _=d-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:_})}cancelSentTransactions_(){for(let d=0;d<this.outstandingPuts_.length;d++){const _=this.outstandingPuts_[d];_&&"h"in _.request&&_.queued&&(_.onComplete&&_.onComplete("disconnect"),delete this.outstandingPuts_[d],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(d,_){let D;D=_?_.map(W=>Er(W)).join("$"):"default";const F=this.removeListen_(d,D);F&&F.onComplete&&F.onComplete("permission_denied")}removeListen_(d,_){const D=new Br(d).toString();let F;if(this.listens.has(D)){const W=this.listens.get(D);F=W.get(_),W.delete(_),0===W.size&&this.listens.delete(D)}else F=void 0;return F}onAuthRevoked_(d,_){Jt("Auth token revoked: "+d+"/"+_),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===d||"permission_denied"===d)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(d,_){Jt("App check token revoked: "+d+"/"+_),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===d||"permission_denied"===d)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(d){this.securityDebugCallback_?this.securityDebugCallback_(d):"msg"in d&&console.log("FIREBASE: "+d.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const d of this.listens.values())for(const _ of d.values())this.sendListen_(_);for(let d=0;d<this.outstandingPuts_.length;d++)this.outstandingPuts_[d]&&this.sendPut_(d);for(;this.onDisconnectRequestQueue_.length;){const d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}for(let d=0;d<this.outstandingGets_.length;d++)this.outstandingGets_[d]&&this.sendGet_(d)}sendConnectStats_(){const d={};let _="js";(0,se.Yr)()&&(_=this.repoInfo_.nodeAdmin?"admin_node":"node"),d["sdk."+_+"."+jt.replace(/\./g,"-")]=1,(0,se.uI)()?d["framework.cordova"]=1:(0,se.b$)()&&(d["framework.reactnative"]=1),this.reportStats(d)}shouldReconnect_(){const d=Cs.getInstance().currentlyOnline();return(0,se.xb)(this.interruptReasons_)&&d}}return f.nextPersistentConnectionId_=0,f.nextConnectionId_=0,f})();class dr{constructor(c,d){this.name=c,this.node=d}static Wrap(c,d){return new dr(c,d)}}class Po{getCompare(){return this.compare.bind(this)}indexedValueChanged(c,d){const _=new dr(Jr,c),D=new dr(Jr,d);return 0!==this.compare(_,D)}minPost(){return dr.MIN}}class Xo extends Po{static get __EMPTY_NODE(){return Ws}static set __EMPTY_NODE(c){Ws=c}compare(c,d){return Ht(c.name,d.name)}isDefinedOn(c){throw(0,se.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(c,d){return!1}minPost(){return dr.MIN}maxPost(){return new dr(Nn,Ws)}makePost(c,d){return(0,se.hu)("string"==typeof c,"KeyIndex indexValue must always be a string."),new dr(c,Ws)}toString(){return".key"}}const gs=new Xo;class Io{constructor(c,d,_,D,F=null){this.isReverse_=D,this.resultGenerator_=F,this.nodeStack_=[];let W=1;for(;!c.isEmpty();)if(W=d?_(c.key,d):1,D&&(W*=-1),W<0)c=this.isReverse_?c.left:c.right;else{if(0===W){this.nodeStack_.push(c);break}this.nodeStack_.push(c),c=this.isReverse_?c.right:c.left}}getNext(){if(0===this.nodeStack_.length)return null;let d,c=this.nodeStack_.pop();if(d=this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value},this.isReverse_)for(c=c.left;!c.isEmpty();)this.nodeStack_.push(c),c=c.right;else for(c=c.right;!c.isEmpty();)this.nodeStack_.push(c),c=c.left;return d}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const c=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value}}}let ua,ms=(()=>{class f{constructor(d,_,D,F,W){this.key=d,this.value=_,this.color=D??f.RED,this.left=F??Vi.EMPTY_NODE,this.right=W??Vi.EMPTY_NODE}copy(d,_,D,F,W){return new f(d??this.key,_??this.value,D??this.color,F??this.left,W??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(d){return this.left.inorderTraversal(d)||!!d(this.key,this.value)||this.right.inorderTraversal(d)}reverseTraversal(d){return this.right.reverseTraversal(d)||d(this.key,this.value)||this.left.reverseTraversal(d)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(d,_,D){let F=this;const W=D(d,F.key);return F=W<0?F.copy(null,null,null,F.left.insert(d,_,D),null):0===W?F.copy(null,_,null,null,null):F.copy(null,null,null,null,F.right.insert(d,_,D)),F.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vi.EMPTY_NODE;let d=this;return!d.left.isRed_()&&!d.left.left.isRed_()&&(d=d.moveRedLeft_()),d=d.copy(null,null,null,d.left.removeMin_(),null),d.fixUp_()}remove(d,_){let D,F;if(D=this,_(d,D.key)<0)!D.left.isEmpty()&&!D.left.isRed_()&&!D.left.left.isRed_()&&(D=D.moveRedLeft_()),D=D.copy(null,null,null,D.left.remove(d,_),null);else{if(D.left.isRed_()&&(D=D.rotateRight_()),!D.right.isEmpty()&&!D.right.isRed_()&&!D.right.left.isRed_()&&(D=D.moveRedRight_()),0===_(d,D.key)){if(D.right.isEmpty())return Vi.EMPTY_NODE;F=D.right.min_(),D=D.copy(F.key,F.value,null,null,D.right.removeMin_())}D=D.copy(null,null,null,null,D.right.remove(d,_))}return D.fixUp_()}isRed_(){return this.color}fixUp_(){let d=this;return d.right.isRed_()&&!d.left.isRed_()&&(d=d.rotateLeft_()),d.left.isRed_()&&d.left.left.isRed_()&&(d=d.rotateRight_()),d.left.isRed_()&&d.right.isRed_()&&(d=d.colorFlip_()),d}moveRedLeft_(){let d=this.colorFlip_();return d.right.left.isRed_()&&(d=d.copy(null,null,null,null,d.right.rotateRight_()),d=d.rotateLeft_(),d=d.colorFlip_()),d}moveRedRight_(){let d=this.colorFlip_();return d.left.left.isRed_()&&(d=d.rotateRight_(),d=d.colorFlip_()),d}rotateLeft_(){const d=this.copy(null,null,f.RED,null,this.right.left);return this.right.copy(null,null,this.color,d,null)}rotateRight_(){const d=this.copy(null,null,f.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,d)}colorFlip_(){const d=this.left.copy(null,null,!this.left.color,null,null),_=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,d,_)}checkMaxDepth_(){const d=this.check_();return Math.pow(2,d)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const d=this.left.check_();if(d!==this.right.check_())throw new Error("Black depths differ");return d+(this.isRed_()?0:1)}}return f.RED=!0,f.BLACK=!1,f})();class Vi{constructor(c,d=Vi.EMPTY_NODE){this.comparator_=c,this.root_=d}insert(c,d){return new Vi(this.comparator_,this.root_.insert(c,d,this.comparator_).copy(null,null,ms.BLACK,null,null))}remove(c){return new Vi(this.comparator_,this.root_.remove(c,this.comparator_).copy(null,null,ms.BLACK,null,null))}get(c){let d,_=this.root_;for(;!_.isEmpty();){if(d=this.comparator_(c,_.key),0===d)return _.value;d<0?_=_.left:d>0&&(_=_.right)}return null}getPredecessorKey(c){let d,_=this.root_,D=null;for(;!_.isEmpty();){if(d=this.comparator_(c,_.key),0===d){if(_.left.isEmpty())return D?D.key:null;for(_=_.left;!_.right.isEmpty();)_=_.right;return _.key}d<0?_=_.left:d>0&&(D=_,_=_.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(c){return this.root_.inorderTraversal(c)}reverseTraversal(c){return this.root_.reverseTraversal(c)}getIterator(c){return new Io(this.root_,null,this.comparator_,!1,c)}getIteratorFrom(c,d){return new Io(this.root_,c,this.comparator_,!1,d)}getReverseIteratorFrom(c,d){return new Io(this.root_,c,this.comparator_,!0,d)}getReverseIterator(c){return new Io(this.root_,null,this.comparator_,!0,c)}}function gu(f,c){return Ht(f.name,c.name)}function la(f,c){return Ht(f,c)}Vi.EMPTY_NODE=new class Ql{copy(c,d,_,D,F){return this}insert(c,d,_){return new ms(c,d,null)}remove(c,d){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(c){return!1}reverseTraversal(c){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ks=function(f){return"number"==typeof f?"number:"+gr(f):"string:"+f},Ni=function(f){if(f.isLeafNode()){const c=f.val();(0,se.hu)("string"==typeof c||"number"==typeof c||"object"==typeof c&&(0,se.r3)(c,".sv"),"Priority must be a string or number.")}else(0,se.hu)(f===ua||f.isEmpty(),"priority of unexpected type.");(0,se.hu)(f===ua||f.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ca,Ai,Mo,To=(()=>{class f{constructor(d,_=f.__childrenNodeConstructor.EMPTY_NODE){this.value_=d,this.priorityNode_=_,this.lazyHash_=null,(0,se.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ni(this.priorityNode_)}static set __childrenNodeConstructor(d){ca=d}static get __childrenNodeConstructor(){return ca}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(d){return new f(this.value_,d)}getImmediateChild(d){return".priority"===d?this.priorityNode_:f.__childrenNodeConstructor.EMPTY_NODE}getChild(d){return Un(d)?this:".priority"===lr(d)?this.priorityNode_:f.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(d,_){return null}updateImmediateChild(d,_){return".priority"===d?this.updatePriority(_):_.isEmpty()&&".priority"!==d?this:f.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(d,_).updatePriority(this.priorityNode_)}updateChild(d,_){const D=lr(d);return null===D?_:_.isEmpty()&&".priority"!==D?this:((0,se.hu)(".priority"!==D||1===Si(d),".priority must be the last token in a path"),this.updateImmediateChild(D,f.__childrenNodeConstructor.EMPTY_NODE.updateChild(Kr(d),_)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(d,_){return!1}val(d){return d&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let d="";this.priorityNode_.isEmpty()||(d+="priority:"+ks(this.priorityNode_.val())+":");const _=typeof this.value_;d+=_+":",d+="number"===_?gr(this.value_):this.value_,this.lazyHash_=nt(d)}return this.lazyHash_}getValue(){return this.value_}compareTo(d){return d===f.__childrenNodeConstructor.EMPTY_NODE?1:d instanceof f.__childrenNodeConstructor?-1:((0,se.hu)(d.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(d))}compareToLeafNode_(d){const _=typeof d.value_,D=typeof this.value_,F=f.VALUE_TYPE_ORDER.indexOf(_),W=f.VALUE_TYPE_ORDER.indexOf(D);return(0,se.hu)(F>=0,"Unknown leaf type: "+_),(0,se.hu)(W>=0,"Unknown leaf type: "+D),F===W?"object"===D?0:this.value_<d.value_?-1:this.value_===d.value_?0:1:W-F}withIndex(){return this}isIndexed(){return!0}equals(d){return d===this||!!d.isLeafNode()&&(this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_))}}return f.VALUE_TYPE_ORDER=["object","boolean","number","string"],f})();const ai=new class Xu extends Po{compare(c,d){const _=c.node.getPriority(),D=d.node.getPriority(),F=_.compareTo(D);return 0===F?Ht(c.name,d.name):F}isDefinedOn(c){return!c.getPriority().isEmpty()}indexedValueChanged(c,d){return!c.getPriority().equals(d.getPriority())}minPost(){return dr.MIN}maxPost(){return new dr(Nn,new To("[PRIORITY-POST]",Mo))}makePost(c,d){const _=Ai(c);return new dr(d,new To("[PRIORITY-POST]",_))}toString(){return".priority"}},Gs=Math.log(2);class Ds{constructor(c){this.count=parseInt(Math.log(c+1)/Gs,10),this.current_=this.count-1;const D=(F=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=c+1&D}nextBitIsOne(){const c=!(this.bits_&1<<this.current_);return this.current_--,c}}const Zr=function(f,c,d,_){f.sort(c);const D=function(me,Se){const pt=Se-me;let It,Tt;if(0===pt)return null;if(1===pt)return It=f[me],Tt=d?d(It):It,new ms(Tt,It.node,ms.BLACK,null,null);{const cn=parseInt(pt/2,10)+me,Rn=D(me,cn),Ti=D(cn+1,Se);return It=f[cn],Tt=d?d(It):It,new ms(Tt,It.node,ms.BLACK,Rn,Ti)}},re=function(me){let Se=null,pt=null,It=f.length;const Tt=function(Rn,Ti){const ta=It-Rn,Al=It;It-=Rn;const lc=D(ta+1,Al),uc=f[ta],hh=d?d(uc):uc;cn(new ms(hh,uc.node,Ti,null,lc))},cn=function(Rn){Se?(Se.left=Rn,Se=Rn):(pt=Rn,Se=Rn)};for(let Rn=0;Rn<me.count;++Rn){const Ti=me.nextBitIsOne(),ta=Math.pow(2,me.count-(Rn+1));Ti?Tt(ta,ms.BLACK):(Tt(ta,ms.BLACK),Tt(ta,ms.RED))}return pt}(new Ds(f.length));return new Vi(_||c,re)};let bo;const ys={};class hs{constructor(c,d){this.indexes_=c,this.indexSet_=d}static get Default(){return(0,se.hu)(ys&&ai,"ChildrenNode.ts has not been loaded"),bo=bo||new hs({".priority":ys},{".priority":ai}),bo}get(c){const d=(0,se.DV)(this.indexes_,c);if(!d)throw new Error("No index defined for "+c);return d instanceof Vi?d:null}hasIndex(c){return(0,se.r3)(this.indexSet_,c.toString())}addIndex(c,d){(0,se.hu)(c!==gs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const _=[];let D=!1;const F=d.getIterator(dr.Wrap);let re,W=F.getNext();for(;W;)D=D||c.isDefinedOn(W.node),_.push(W),W=F.getNext();re=D?Zr(_,c.getCompare()):ys;const me=c.toString(),Se=Object.assign({},this.indexSet_);Se[me]=c;const pt=Object.assign({},this.indexes_);return pt[me]=re,new hs(pt,Se)}addToIndexes(c,d){const _=(0,se.UI)(this.indexes_,(D,F)=>{const W=(0,se.DV)(this.indexSet_,F);if((0,se.hu)(W,"Missing index implementation for "+F),D===ys){if(W.isDefinedOn(c.node)){const re=[],me=d.getIterator(dr.Wrap);let Se=me.getNext();for(;Se;)Se.name!==c.name&&re.push(Se),Se=me.getNext();return re.push(c),Zr(re,W.getCompare())}return ys}{const re=d.get(c.name);let me=D;return re&&(me=me.remove(new dr(c.name,re))),me.insert(c,c.node)}});return new hs(_,this.indexSet_)}removeFromIndexes(c,d){const _=(0,se.UI)(this.indexes_,D=>{if(D===ys)return D;{const F=d.get(c.name);return F?D.remove(new dr(c.name,F)):D}});return new hs(_,this.indexSet_)}}let Ys,Bn=(()=>{class f{constructor(d,_,D){this.children_=d,this.priorityNode_=_,this.indexMap_=D,this.lazyHash_=null,this.priorityNode_&&Ni(this.priorityNode_),this.children_.isEmpty()&&(0,se.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ys||(Ys=new f(new Vi(la),null,hs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ys}updatePriority(d){return this.children_.isEmpty()?this:new f(this.children_,d,this.indexMap_)}getImmediateChild(d){if(".priority"===d)return this.getPriority();{const _=this.children_.get(d);return null===_?Ys:_}}getChild(d){const _=lr(d);return null===_?this:this.getImmediateChild(_).getChild(Kr(d))}hasChild(d){return null!==this.children_.get(d)}updateImmediateChild(d,_){if((0,se.hu)(_,"We should always be passing snapshot nodes"),".priority"===d)return this.updatePriority(_);{const D=new dr(d,_);let F,W;_.isEmpty()?(F=this.children_.remove(d),W=this.indexMap_.removeFromIndexes(D,this.children_)):(F=this.children_.insert(d,_),W=this.indexMap_.addToIndexes(D,this.children_));const re=F.isEmpty()?Ys:this.priorityNode_;return new f(F,re,W)}}updateChild(d,_){const D=lr(d);if(null===D)return _;{(0,se.hu)(".priority"!==lr(d)||1===Si(d),".priority must be the last token in a path");const F=this.getImmediateChild(D).updateChild(Kr(d),_);return this.updateImmediateChild(D,F)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(d){if(this.isEmpty())return null;const _={};let D=0,F=0,W=!0;if(this.forEachChild(ai,(re,me)=>{_[re]=me.val(d),D++,W&&f.INTEGER_REGEXP_.test(re)?F=Math.max(F,Number(re)):W=!1}),!d&&W&&F<2*D){const re=[];for(const me in _)re[me]=_[me];return re}return d&&!this.getPriority().isEmpty()&&(_[".priority"]=this.getPriority().val()),_}hash(){if(null===this.lazyHash_){let d="";this.getPriority().isEmpty()||(d+="priority:"+ks(this.getPriority().val())+":"),this.forEachChild(ai,(_,D)=>{const F=D.hash();""!==F&&(d+=":"+_+":"+F)}),this.lazyHash_=""===d?"":nt(d)}return this.lazyHash_}getPredecessorChildName(d,_,D){const F=this.resolveIndex_(D);if(F){const W=F.getPredecessorKey(new dr(d,_));return W?W.name:null}return this.children_.getPredecessorKey(d)}getFirstChildName(d){const _=this.resolveIndex_(d);if(_){const D=_.minKey();return D&&D.name}return this.children_.minKey()}getFirstChild(d){const _=this.getFirstChildName(d);return _?new dr(_,this.children_.get(_)):null}getLastChildName(d){const _=this.resolveIndex_(d);if(_){const D=_.maxKey();return D&&D.name}return this.children_.maxKey()}getLastChild(d){const _=this.getLastChildName(d);return _?new dr(_,this.children_.get(_)):null}forEachChild(d,_){const D=this.resolveIndex_(d);return D?D.inorderTraversal(F=>_(F.name,F.node)):this.children_.inorderTraversal(_)}getIterator(d){return this.getIteratorFrom(d.minPost(),d)}getIteratorFrom(d,_){const D=this.resolveIndex_(_);if(D)return D.getIteratorFrom(d,F=>F);{const F=this.children_.getIteratorFrom(d.name,dr.Wrap);let W=F.peek();for(;null!=W&&_.compare(W,d)<0;)F.getNext(),W=F.peek();return F}}getReverseIterator(d){return this.getReverseIteratorFrom(d.maxPost(),d)}getReverseIteratorFrom(d,_){const D=this.resolveIndex_(_);if(D)return D.getReverseIteratorFrom(d,F=>F);{const F=this.children_.getReverseIteratorFrom(d.name,dr.Wrap);let W=F.peek();for(;null!=W&&_.compare(W,d)>0;)F.getNext(),W=F.peek();return F}}compareTo(d){return this.isEmpty()?d.isEmpty()?0:-1:d.isLeafNode()||d.isEmpty()?1:d===da?-1:0}withIndex(d){if(d===gs||this.indexMap_.hasIndex(d))return this;{const _=this.indexMap_.addIndex(d,this.children_);return new f(this.children_,this.priorityNode_,_)}}isIndexed(d){return d===gs||this.indexMap_.hasIndex(d)}equals(d){if(d===this)return!0;if(d.isLeafNode())return!1;{const _=d;if(this.getPriority().equals(_.getPriority())){if(this.children_.count()===_.children_.count()){const D=this.getIterator(ai),F=_.getIterator(ai);let W=D.getNext(),re=F.getNext();for(;W&&re;){if(W.name!==re.name||!W.node.equals(re.node))return!1;W=D.getNext(),re=F.getNext()}return null===W&&null===re}return!1}return!1}}resolveIndex_(d){return d===gs?null:this.indexMap_.get(d.toString())}}return f.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,f})();const da=new class or extends Bn{constructor(){super(new Vi(la),Bn.EMPTY_NODE,hs.Default)}compareTo(c){return c===this?0:1}equals(c){return c===this}getPriority(){return this}getImmediateChild(c){return Bn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(dr,{MIN:{value:new dr(Jr,Bn.EMPTY_NODE)},MAX:{value:new dr(Nn,da)}}),Xo.__EMPTY_NODE=Bn.EMPTY_NODE,To.__childrenNodeConstructor=Bn,function co(f){ua=f}(da),function Vr(f){Mo=f}(da);const Nl=!0;function Ri(f,c=null){if(null===f)return Bn.EMPTY_NODE;if("object"==typeof f&&".priority"in f&&(c=f[".priority"]),(0,se.hu)(null===c||"string"==typeof c||"number"==typeof c||"object"==typeof c&&".sv"in c,"Invalid priority type found: "+typeof c),"object"==typeof f&&".value"in f&&null!==f[".value"]&&(f=f[".value"]),"object"!=typeof f||".sv"in f)return new To(f,Ri(c));if(f instanceof Array||!Nl){let d=Bn.EMPTY_NODE;return Dr(f,(_,D)=>{if((0,se.r3)(f,_)&&"."!==_.substring(0,1)){const F=Ri(D);(F.isLeafNode()||!F.isEmpty())&&(d=d.updateImmediateChild(_,F))}}),d.updatePriority(Ri(c))}{const d=[];let _=!1;if(Dr(f,(W,re)=>{if("."!==W.substring(0,1)){const me=Ri(re);me.isEmpty()||(_=_||!me.getPriority().isEmpty(),d.push(new dr(W,me)))}}),0===d.length)return Bn.EMPTY_NODE;const F=Zr(d,gu,W=>W.name,la);if(_){const W=Zr(d,ai.getCompare());return new Bn(F,Ri(c),new hs({".priority":W},{".priority":ai}))}return new Bn(F,Ri(c),hs.Default)}}!function yl(f){Ai=f}(Ri);class ha extends Po{constructor(c){super(),this.indexPath_=c,(0,se.hu)(!Un(c)&&".priority"!==lr(c),"Can't create PathIndex with empty path or .priority key")}extractChild(c){return c.getChild(this.indexPath_)}isDefinedOn(c){return!c.getChild(this.indexPath_).isEmpty()}compare(c,d){const _=this.extractChild(c.node),D=this.extractChild(d.node),F=_.compareTo(D);return 0===F?Ht(c.name,d.name):F}makePost(c,d){const _=Ri(c),D=Bn.EMPTY_NODE.updateChild(this.indexPath_,_);return new dr(d,D)}maxPost(){const c=Bn.EMPTY_NODE.updateChild(this.indexPath_,da);return new dr(Nn,c)}toString(){return ds(this.indexPath_,0).join("/")}}const Jo=new class fa extends Po{compare(c,d){const _=c.node.compareTo(d.node);return 0===_?Ht(c.name,d.name):_}isDefinedOn(c){return!0}indexedValueChanged(c,d){return!c.equals(d)}minPost(){return dr.MIN}maxPost(){return dr.MAX}makePost(c,d){const _=Ri(c);return new dr(d,_)}toString(){return".value"}};function Ol(f){return{type:"value",snapshotNode:f}}function _l(f,c){return{type:"child_added",snapshotNode:c,childName:f}}function ot(f,c){return{type:"child_removed",snapshotNode:c,childName:f}}function Gn(f,c,d){return{type:"child_changed",snapshotNode:c,childName:f,oldSnap:d}}class No{constructor(c){this.index_=c}updateChild(c,d,_,D,F,W){(0,se.hu)(c.isIndexed(this.index_),"A node must be indexed if only a child is updated");const re=c.getImmediateChild(d);return re.getChild(D).equals(_.getChild(D))&&re.isEmpty()===_.isEmpty()||(null!=W&&(_.isEmpty()?c.hasChild(d)?W.trackChildChange(ot(d,re)):(0,se.hu)(c.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):re.isEmpty()?W.trackChildChange(_l(d,_)):W.trackChildChange(Gn(d,_,re))),c.isLeafNode()&&_.isEmpty())?c:c.updateImmediateChild(d,_).withIndex(this.index_)}updateFullNode(c,d,_){return null!=_&&(c.isLeafNode()||c.forEachChild(ai,(D,F)=>{d.hasChild(D)||_.trackChildChange(ot(D,F))}),d.isLeafNode()||d.forEachChild(ai,(D,F)=>{if(c.hasChild(D)){const W=c.getImmediateChild(D);W.equals(F)||_.trackChildChange(Gn(D,F,W))}else _.trackChildChange(_l(D,F))})),d.withIndex(this.index_)}updatePriority(c,d){return c.isEmpty()?Bn.EMPTY_NODE:c.updatePriority(d)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Oi{constructor(c){this.indexedFilter_=new No(c.getIndex()),this.index_=c.getIndex(),this.startPost_=Oi.getStartPost_(c),this.endPost_=Oi.getEndPost_(c),this.startIsInclusive_=!c.startAfterSet_,this.endIsInclusive_=!c.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(c){const d=this.startIsInclusive_?this.index_.compare(this.getStartPost(),c)<=0:this.index_.compare(this.getStartPost(),c)<0,_=this.endIsInclusive_?this.index_.compare(c,this.getEndPost())<=0:this.index_.compare(c,this.getEndPost())<0;return d&&_}updateChild(c,d,_,D,F,W){return this.matches(new dr(d,_))||(_=Bn.EMPTY_NODE),this.indexedFilter_.updateChild(c,d,_,D,F,W)}updateFullNode(c,d,_){d.isLeafNode()&&(d=Bn.EMPTY_NODE);let D=d.withIndex(this.index_);D=D.updatePriority(Bn.EMPTY_NODE);const F=this;return d.forEachChild(ai,(W,re)=>{F.matches(new dr(W,re))||(D=D.updateImmediateChild(W,Bn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(c,D,_)}updatePriority(c,d){return c}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(c){if(c.hasStart()){const d=c.getIndexStartName();return c.getIndex().makePost(c.getIndexStartValue(),d)}return c.getIndex().minPost()}static getEndPost_(c){if(c.hasEnd()){const d=c.getIndexEndName();return c.getIndex().makePost(c.getIndexEndValue(),d)}return c.getIndex().maxPost()}}class mu{constructor(c){this.withinDirectionalStart=d=>this.reverse_?this.withinEndPost(d):this.withinStartPost(d),this.withinDirectionalEnd=d=>this.reverse_?this.withinStartPost(d):this.withinEndPost(d),this.withinStartPost=d=>{const _=this.index_.compare(this.rangedFilter_.getStartPost(),d);return this.startIsInclusive_?_<=0:_<0},this.withinEndPost=d=>{const _=this.index_.compare(d,this.rangedFilter_.getEndPost());return this.endIsInclusive_?_<=0:_<0},this.rangedFilter_=new Oi(c),this.index_=c.getIndex(),this.limit_=c.getLimit(),this.reverse_=!c.isViewFromLeft(),this.startIsInclusive_=!c.startAfterSet_,this.endIsInclusive_=!c.endBeforeSet_}updateChild(c,d,_,D,F,W){return this.rangedFilter_.matches(new dr(d,_))||(_=Bn.EMPTY_NODE),c.getImmediateChild(d).equals(_)?c:c.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(c,d,_,D,F,W):this.fullLimitUpdateChild_(c,d,_,F,W)}updateFullNode(c,d,_){let D;if(d.isLeafNode()||d.isEmpty())D=Bn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<d.numChildren()&&d.isIndexed(this.index_)){let F;D=Bn.EMPTY_NODE.withIndex(this.index_),F=this.reverse_?d.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let W=0;for(;F.hasNext()&&W<this.limit_;){const re=F.getNext();if(this.withinDirectionalStart(re)){if(!this.withinDirectionalEnd(re))break;D=D.updateImmediateChild(re.name,re.node),W++}}}else{let F;D=d.withIndex(this.index_),D=D.updatePriority(Bn.EMPTY_NODE),F=this.reverse_?D.getReverseIterator(this.index_):D.getIterator(this.index_);let W=0;for(;F.hasNext();){const re=F.getNext();W<this.limit_&&this.withinDirectionalStart(re)&&this.withinDirectionalEnd(re)?W++:D=D.updateImmediateChild(re.name,Bn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(c,D,_)}updatePriority(c,d){return c}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(c,d,_,D,F){let W;if(this.reverse_){const It=this.index_.getCompare();W=(Tt,cn)=>It(cn,Tt)}else W=this.index_.getCompare();const re=c;(0,se.hu)(re.numChildren()===this.limit_,"");const me=new dr(d,_),Se=this.reverse_?re.getFirstChild(this.index_):re.getLastChild(this.index_),pt=this.rangedFilter_.matches(me);if(re.hasChild(d)){const It=re.getImmediateChild(d);let Tt=D.getChildAfterChild(this.index_,Se,this.reverse_);for(;null!=Tt&&(Tt.name===d||re.hasChild(Tt.name));)Tt=D.getChildAfterChild(this.index_,Tt,this.reverse_);const cn=null==Tt?1:W(Tt,me);if(pt&&!_.isEmpty()&&cn>=0)return F?.trackChildChange(Gn(d,_,It)),re.updateImmediateChild(d,_);{F?.trackChildChange(ot(d,It));const Ti=re.updateImmediateChild(d,Bn.EMPTY_NODE);return null!=Tt&&this.rangedFilter_.matches(Tt)?(F?.trackChildChange(_l(Tt.name,Tt.node)),Ti.updateImmediateChild(Tt.name,Tt.node)):Ti}}return _.isEmpty()?c:pt&&W(Se,me)>=0?(null!=F&&(F.trackChildChange(ot(Se.name,Se.node)),F.trackChildChange(_l(d,_))),re.updateImmediateChild(d,_).updateImmediateChild(Se.name,Bn.EMPTY_NODE)):c}}class Oo{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ai}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,se.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,se.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,se.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,se.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Nn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,se.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ai}copy(){const c=new Oo;return c.limitSet_=this.limitSet_,c.limit_=this.limit_,c.startSet_=this.startSet_,c.startAfterSet_=this.startAfterSet_,c.indexStartValue_=this.indexStartValue_,c.startNameSet_=this.startNameSet_,c.indexStartName_=this.indexStartName_,c.endSet_=this.endSet_,c.endBeforeSet_=this.endBeforeSet_,c.indexEndValue_=this.indexEndValue_,c.endNameSet_=this.endNameSet_,c.indexEndName_=this.indexEndName_,c.index_=this.index_,c.viewFrom_=this.viewFrom_,c}}function rl(f,c,d){const _=f.copy();return _.startSet_=!0,void 0===c&&(c=null),_.indexStartValue_=c,null!=d?(_.startNameSet_=!0,_.indexStartName_=d):(_.startNameSet_=!1,_.indexStartName_=""),_}function Is(f,c,d){const _=f.copy();return _.endSet_=!0,void 0===c&&(c=null),_.indexEndValue_=c,void 0!==d?(_.endNameSet_=!0,_.indexEndName_=d):(_.endNameSet_=!1,_.indexEndName_=""),_}function As(f,c){const d=f.copy();return d.index_=c,d}function ea(f){const c={};if(f.isDefault())return c;let d;if(f.index_===ai?d="$priority":f.index_===Jo?d="$value":f.index_===gs?d="$key":((0,se.hu)(f.index_ instanceof ha,"Unrecognized index type!"),d=f.index_.toString()),c.orderBy=(0,se.Wl)(d),f.startSet_){const _=f.startAfterSet_?"startAfter":"startAt";c[_]=(0,se.Wl)(f.indexStartValue_),f.startNameSet_&&(c[_]+=","+(0,se.Wl)(f.indexStartName_))}if(f.endSet_){const _=f.endBeforeSet_?"endBefore":"endAt";c[_]=(0,se.Wl)(f.indexEndValue_),f.endNameSet_&&(c[_]+=","+(0,se.Wl)(f.indexEndName_))}return f.limitSet_&&(f.isViewFromLeft()?c.limitToFirst=f.limit_:c.limitToLast=f.limit_),c}function ko(f){const c={};if(f.startSet_&&(c.sp=f.indexStartValue_,f.startNameSet_&&(c.sn=f.indexStartName_),c.sin=!f.startAfterSet_),f.endSet_&&(c.ep=f.indexEndValue_,f.endNameSet_&&(c.en=f.indexEndName_),c.ein=!f.endBeforeSet_),f.limitSet_){c.l=f.limit_;let d=f.viewFrom_;""===d&&(d=f.isViewFromLeft()?"l":"r"),c.vf=d}return f.index_!==ai&&(c.i=f.index_.toString()),c}class Ls extends Ki{constructor(c,d,_,D){super(),this.repoInfo_=c,this.onDataUpdate_=d,this.authTokenProvider_=_,this.appCheckTokenProvider_=D,this.log_=nr("p:rest:"),this.listens_={}}reportStats(c){throw new Error("Method not implemented.")}static getListenId_(c,d){return void 0!==d?"tag$"+d:((0,se.hu)(c._queryParams.isDefault(),"should have a tag if it's not a default query."),c._path.toString())}listen(c,d,_,D){const F=c._path.toString();this.log_("Listen called for "+F+" "+c._queryIdentifier);const W=Ls.getListenId_(c,_),re={};this.listens_[W]=re;const me=ea(c._queryParams);this.restRequest_(F+".json",me,(Se,pt)=>{let It=pt;if(404===Se&&(It=null,Se=null),null===Se&&this.onDataUpdate_(F,It,!1,_),(0,se.DV)(this.listens_,W)===re){let Tt;Tt=Se?401===Se?"permission_denied":"rest_error:"+Se:"ok",D(Tt,null)}})}unlisten(c,d){const _=Ls.getListenId_(c,d);delete this.listens_[_]}get(c){const d=ea(c._queryParams),_=c._path.toString(),D=new se.BH;return this.restRequest_(_+".json",d,(F,W)=>{let re=W;404===F&&(re=null,F=null),null===F?(this.onDataUpdate_(_,re,!1,null),D.resolve(re)):D.reject(new Error(re))}),D.promise}refreshAuthToken(c){}restRequest_(c,d={},_){return d.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([D,F])=>{D&&D.accessToken&&(d.auth=D.accessToken),F&&F.token&&(d.ac=F.token);const W=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+c+"?ns="+this.repoInfo_.namespace+(0,se.xO)(d);this.log_("Sending REST request for "+W);const re=new XMLHttpRequest;re.onreadystatechange=()=>{if(_&&4===re.readyState){this.log_("REST Response for "+W+" received. status:",re.status,"response:",re.responseText);let me=null;if(re.status>=200&&re.status<300){try{me=(0,se.cI)(re.responseText)}catch{Hn("Failed to parse JSON response for "+W+": "+re.responseText)}_(null,me)}else 401!==re.status&&404!==re.status&&Hn("Got unsuccessful REST response for "+W+" Status: "+re.status),_(re.status);_=null}},re.open("GET",W,!0),re.send()})}}class Xs{constructor(){this.rootNode_=Bn.EMPTY_NODE}getNode(c){return this.rootNode_.getChild(c)}updateSnapshot(c,d){this.rootNode_=this.rootNode_.updateChild(c,d)}}function Lo(){return{value:null,children:new Map}}function Pa(f,c,d){if(Un(c))f.value=d,f.children.clear();else if(null!==f.value)f.value=f.value.updateChild(c,d);else{const _=lr(c);f.children.has(_)||f.children.set(_,Lo()),Pa(f.children.get(_),c=Kr(c),d)}}function vl(f,c){if(Un(c))return f.value=null,f.children.clear(),!0;if(null!==f.value){if(f.value.isLeafNode())return!1;{const d=f.value;return f.value=null,d.forEachChild(ai,(_,D)=>{Pa(f,new Br(_),D)}),vl(f,c)}}if(f.children.size>0){const d=lr(c);return c=Kr(c),f.children.has(d)&&vl(f.children.get(d),c)&&f.children.delete(d),0===f.children.size}return!0}function $i(f,c,d){null!==f.value?d(c,f.value):function Js(f,c){f.children.forEach((d,_)=>{c(_,d)})}(f,(_,D)=>{$i(D,new Br(c.toString()+"/"+_),d)})}class pa{constructor(c){this.collection_=c,this.last_=null}get(){const c=this.collection_.get(),d=Object.assign({},c);return this.last_&&Dr(this.last_,(_,D)=>{d[_]=d[_]-D}),this.last_=c,d}}class Ps{constructor(c,d){this.server_=d,this.statsToReport_={},this.statsListener_=new pa(c);const _=1e4+2e4*Math.random();Vn(this.reportStats_.bind(this),Math.floor(_))}reportStats_(){const c=this.statsListener_.get(),d={};let _=!1;Dr(c,(D,F)=>{F>0&&(0,se.r3)(this.statsToReport_,D)&&(d[D]=F,_=!0)}),_&&this.server_.reportStats(d),Vn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ms=(()=>{return(f=Ms||(Ms={}))[f.OVERWRITE=0]="OVERWRITE",f[f.MERGE=1]="MERGE",f[f.ACK_USER_WRITE=2]="ACK_USER_WRITE",f[f.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ms;var f})();function Do(f){return{fromUser:!1,fromServer:!0,queryId:f,tagged:!0}}class ga{constructor(c,d,_){this.path=c,this.affectedTree=d,this.revert=_,this.type=Ms.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(c){if(Un(this.path)){if(null!=this.affectedTree.value)return(0,se.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const d=this.affectedTree.subtree(new Br(c));return new ga(kr(),d,this.revert)}}return(0,se.hu)(lr(this.path)===c,"operationForChild called for unrelated child."),new ga(Kr(this.path),this.affectedTree,this.revert)}}class Ns{constructor(c,d){this.source=c,this.path=d,this.type=Ms.LISTEN_COMPLETE}operationForChild(c){return Un(this.path)?new Ns(this.source,kr()):new Ns(this.source,Kr(this.path))}}class Zi{constructor(c,d,_){this.source=c,this.path=d,this.snap=_,this.type=Ms.OVERWRITE}operationForChild(c){return Un(this.path)?new Zi(this.source,kr(),this.snap.getImmediateChild(c)):new Zi(this.source,Kr(this.path),this.snap)}}class br{constructor(c,d,_){this.source=c,this.path=d,this.children=_,this.type=Ms.MERGE}operationForChild(c){if(Un(this.path)){const d=this.children.subtree(new Br(c));return d.isEmpty()?null:d.value?new Zi(this.source,kr(),d.value):new br(this.source,kr(),d)}return(0,se.hu)(lr(this.path)===c,"Can't get a merge for a child not on the path of the operation"),new br(this.source,Kr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class _s{constructor(c,d,_){this.node_=c,this.fullyInitialized_=d,this.filtered_=_}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(c){if(Un(c))return this.isFullyInitialized()&&!this.filtered_;const d=lr(c);return this.isCompleteForChild(d)}isCompleteForChild(c){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(c)}getNode(){return this.node_}}class li{constructor(c){this.query_=c,this.index_=this.query_._queryParams.getIndex()}}function to(f,c,d,_,D,F){const W=_.filter(re=>re.type===d);W.sort((re,me)=>function eu(f,c,d){if(null==c.childName||null==d.childName)throw(0,se.g5)("Should only compare child_ events.");const _=new dr(c.childName,c.snapshotNode),D=new dr(d.childName,d.snapshotNode);return f.index_.compare(_,D)}(f,re,me)),W.forEach(re=>{const me=function Ll(f,c,d){return"value"===c.type||"child_removed"===c.type||(c.prevName=d.getPredecessorChildName(c.childName,c.snapshotNode,f.index_)),c}(f,re,F);D.forEach(Se=>{Se.respondsTo(re.type)&&c.push(Se.createEvent(me,f.query_))})})}function tu(f,c){return{eventCache:f,serverCache:c}}function nu(f,c,d,_){return tu(new _s(c,d,_),f.serverCache)}function El(f,c,d,_){return tu(f.eventCache,new _s(c,d,_))}function ru(f){return f.eventCache.isFullyInitialized()?f.eventCache.getNode():null}function Na(f){return f.serverCache.isFullyInitialized()?f.serverCache.getNode():null}let L;class B{constructor(c,d=(()=>(L||(L=new Vi(Zn)),L))()){this.value=c,this.children=d}static fromObject(c){let d=new B(null);return Dr(c,(_,D)=>{d=d.set(new Br(_),D)}),d}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(c,d){if(null!=this.value&&d(this.value))return{path:kr(),value:this.value};if(Un(c))return null;{const _=lr(c),D=this.children.get(_);if(null!==D){const F=D.findRootMostMatchingPathAndValue(Kr(c),d);return null!=F?{path:hi(new Br(_),F.path),value:F.value}:null}return null}}findRootMostValueAndPath(c){return this.findRootMostMatchingPathAndValue(c,()=>!0)}subtree(c){if(Un(c))return this;{const d=lr(c),_=this.children.get(d);return null!==_?_.subtree(Kr(c)):new B(null)}}set(c,d){if(Un(c))return new B(d,this.children);{const _=lr(c),F=(this.children.get(_)||new B(null)).set(Kr(c),d),W=this.children.insert(_,F);return new B(this.value,W)}}remove(c){if(Un(c))return this.children.isEmpty()?new B(null):new B(null,this.children);{const d=lr(c),_=this.children.get(d);if(_){const D=_.remove(Kr(c));let F;return F=D.isEmpty()?this.children.remove(d):this.children.insert(d,D),null===this.value&&F.isEmpty()?new B(null):new B(this.value,F)}return this}}get(c){if(Un(c))return this.value;{const d=lr(c),_=this.children.get(d);return _?_.get(Kr(c)):null}}setTree(c,d){if(Un(c))return d;{const _=lr(c),F=(this.children.get(_)||new B(null)).setTree(Kr(c),d);let W;return W=F.isEmpty()?this.children.remove(_):this.children.insert(_,F),new B(this.value,W)}}fold(c){return this.fold_(kr(),c)}fold_(c,d){const _={};return this.children.inorderTraversal((D,F)=>{_[D]=F.fold_(hi(c,D),d)}),d(c,this.value,_)}findOnPath(c,d){return this.findOnPath_(c,kr(),d)}findOnPath_(c,d,_){const D=!!this.value&&_(d,this.value);if(D)return D;if(Un(c))return null;{const F=lr(c),W=this.children.get(F);return W?W.findOnPath_(Kr(c),hi(d,F),_):null}}foreachOnPath(c,d){return this.foreachOnPath_(c,kr(),d)}foreachOnPath_(c,d,_){if(Un(c))return this;{this.value&&_(d,this.value);const D=lr(c),F=this.children.get(D);return F?F.foreachOnPath_(Kr(c),hi(d,D),_):new B(null)}}foreach(c){this.foreach_(kr(),c)}foreach_(c,d){this.children.inorderTraversal((_,D)=>{D.foreach_(hi(c,_),d)}),this.value&&d(c,this.value)}foreachChild(c){this.children.inorderTraversal((d,_)=>{_.value&&c(d,_.value)})}}class te{constructor(c){this.writeTree_=c}static empty(){return new te(new B(null))}}function Ee(f,c,d){if(Un(c))return new te(new B(d));{const _=f.writeTree_.findRootMostValueAndPath(c);if(null!=_){const D=_.path;let F=_.value;const W=Yn(D,c);return F=F.updateChild(W,d),new te(f.writeTree_.set(D,F))}{const D=new B(d),F=f.writeTree_.setTree(c,D);return new te(F)}}}function st(f,c,d){let _=f;return Dr(d,(D,F)=>{_=Ee(_,hi(c,D),F)}),_}function Ct(f,c){if(Un(c))return te.empty();{const d=f.writeTree_.setTree(c,new B(null));return new te(d)}}function qt(f,c){return null!=Sr(f,c)}function Sr(f,c){const d=f.writeTree_.findRootMostValueAndPath(c);return null!=d?f.writeTree_.get(d.path).getChild(Yn(d.path,c)):null}function mr(f){const c=[],d=f.writeTree_.value;return null!=d?d.isLeafNode()||d.forEachChild(ai,(_,D)=>{c.push(new dr(_,D))}):f.writeTree_.children.inorderTraversal((_,D)=>{null!=D.value&&c.push(new dr(_,D.value))}),c}function tr(f,c){if(Un(c))return f;{const d=Sr(f,c);return new te(null!=d?new B(d):f.writeTree_.subtree(c))}}function wr(f){return f.writeTree_.isEmpty()}function bt(f,c){return Qn(kr(),f.writeTree_,c)}function Qn(f,c,d){if(null!=c.value)return d.updateChild(f,c.value);{let _=null;return c.children.inorderTraversal((D,F)=>{".priority"===D?((0,se.hu)(null!==F.value,"Priority writes must always be leaf nodes"),_=F.value):d=Qn(hi(f,D),F,d)}),!d.getChild(f).isEmpty()&&null!==_&&(d=d.updateChild(hi(f,".priority"),_)),d}}function Qr(f,c){return ui(c,f)}function zt(f,c){if(f.snap)return mi(f.path,c);for(const d in f.children)if(f.children.hasOwnProperty(d)&&mi(hi(f.path,d),c))return!0;return!1}function Et(f){return f.visible}function Ii(f,c,d){let _=te.empty();for(let D=0;D<f.length;++D){const F=f[D];if(c(F)){const W=F.path;let re;if(F.snap)mi(d,W)?(re=Yn(d,W),_=Ee(_,re,F.snap)):mi(W,d)&&(re=Yn(W,d),_=Ee(_,kr(),F.snap.getChild(re)));else{if(!F.children)throw(0,se.g5)("WriteRecord should have .snap or .children");if(mi(d,W))re=Yn(d,W),_=st(_,re,F.children);else if(mi(W,d))if(re=Yn(W,d),Un(re))_=st(_,kr(),F.children);else{const me=(0,se.DV)(F.children,lr(re));if(me){const Se=me.getChild(Kr(re));_=Ee(_,kr(),Se)}}}}}return _}function Oa(f,c,d,_,D){if(_||D){const F=tr(f.visibleWrites,c);return!D&&wr(F)?d:D||null!=d||qt(F,kr())?bt(Ii(f.allWrites,function(Se){return(Se.visible||D)&&(!_||!~_.indexOf(Se.writeId))&&(mi(Se.path,c)||mi(c,Se.path))},c),d||Bn.EMPTY_NODE):null}{const F=Sr(f.visibleWrites,c);if(null!=F)return F;{const W=tr(f.visibleWrites,c);return wr(W)?d:null!=d||qt(W,kr())?bt(W,d||Bn.EMPTY_NODE):null}}}function Il(f,c,d,_){return Oa(f.writeTree,f.treePath,c,d,_)}function ka(f,c){return function yc(f,c,d){let _=Bn.EMPTY_NODE;const D=Sr(f.visibleWrites,c);if(D)return D.isLeafNode()||D.forEachChild(ai,(F,W)=>{_=_.updateImmediateChild(F,W)}),_;if(d){const F=tr(f.visibleWrites,c);return d.forEachChild(ai,(W,re)=>{const me=bt(tr(F,new Br(W)),re);_=_.updateImmediateChild(W,me)}),mr(F).forEach(W=>{_=_.updateImmediateChild(W.name,W.node)}),_}return mr(tr(f.visibleWrites,c)).forEach(W=>{_=_.updateImmediateChild(W.name,W.node)}),_}(f.writeTree,f.treePath,c)}function _c(f,c,d,_){return function wl(f,c,d,_,D){(0,se.hu)(_||D,"Either existingEventSnap or existingServerSnap must exist");const F=hi(c,d);if(qt(f.visibleWrites,F))return null;{const W=tr(f.visibleWrites,F);return wr(W)?D.getChild(d):bt(W,D.getChild(d))}}(f.writeTree,f.treePath,c,d,_)}function Qi(f,c){return function Ul(f,c){return Sr(f.visibleWrites,c)}(f.writeTree,hi(f.treePath,c))}function ma(f,c,d){return function Fl(f,c,d,_){const D=hi(c,d),F=Sr(f.visibleWrites,D);return null!=F?F:_.isCompleteForChild(d)?bt(tr(f.visibleWrites,D),_.getNode().getImmediateChild(d)):null}(f.writeTree,f.treePath,c,d)}function Bl(f,c){return ui(hi(f.treePath,c),f.writeTree)}function ui(f,c){return{treePath:f,writeTree:c}}class Ln{constructor(){this.changeMap=new Map}trackChildChange(c){const d=c.type,_=c.childName;(0,se.hu)("child_added"===d||"child_changed"===d||"child_removed"===d,"Only child changes supported for tracking"),(0,se.hu)(".priority"!==_,"Only non-priority child changes can be tracked.");const D=this.changeMap.get(_);if(D){const F=D.type;if("child_added"===d&&"child_removed"===F)this.changeMap.set(_,Gn(_,c.snapshotNode,D.snapshotNode));else if("child_removed"===d&&"child_added"===F)this.changeMap.delete(_);else if("child_removed"===d&&"child_changed"===F)this.changeMap.set(_,ot(_,D.oldSnap));else if("child_changed"===d&&"child_added"===F)this.changeMap.set(_,_l(_,c.snapshotNode));else{if("child_changed"!==d||"child_changed"!==F)throw(0,se.g5)("Illegal combination of changes: "+c+" occurred after "+D);this.changeMap.set(_,Gn(_,c.snapshotNode,D.oldSnap))}}else this.changeMap.set(_,c)}getChanges(){return Array.from(this.changeMap.values())}}const Xn=new class Vl{getCompleteChild(c){return null}getChildAfterChild(c,d,_){return null}};class yu{constructor(c,d,_=null){this.writes_=c,this.viewCache_=d,this.optCompleteServerCache_=_}getCompleteChild(c){const d=this.viewCache_.eventCache;if(d.isCompleteForChild(c))return d.getNode().getImmediateChild(c);{const _=null!=this.optCompleteServerCache_?new _s(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ma(this.writes_,c,_)}}getChildAfterChild(c,d,_){const D=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Na(this.viewCache_),F=function Cn(f,c,d,_,D,F){return function ro(f,c,d,_,D,F,W){let re;const me=tr(f.visibleWrites,c),Se=Sr(me,kr());if(null!=Se)re=Se;else{if(null==d)return[];re=bt(me,d)}if(re=re.withIndex(W),re.isEmpty()||re.isLeafNode())return[];{const pt=[],It=W.getCompare(),Tt=F?re.getReverseIteratorFrom(_,W):re.getIteratorFrom(_,W);let cn=Tt.getNext();for(;cn&&pt.length<D;)0!==It(cn,_)&&pt.push(cn),cn=Tt.getNext();return pt}}(f.writeTree,f.treePath,c,d,_,D,F)}(this.writes_,D,d,1,_,c);return 0===F.length?null:F[0]}}function Bo(f,c,d,_,D,F){const W=c.eventCache;if(null!=Qi(_,d))return c;{let re,me;if(Un(d))if((0,se.hu)(c.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),c.serverCache.isFiltered()){const Se=Na(c),It=ka(_,Se instanceof Bn?Se:Bn.EMPTY_NODE);re=f.filter.updateFullNode(c.eventCache.getNode(),It,F)}else{const Se=Il(_,Na(c));re=f.filter.updateFullNode(c.eventCache.getNode(),Se,F)}else{const Se=lr(d);if(".priority"===Se){(0,se.hu)(1===Si(d),"Can't have a priority with additional path components");const pt=W.getNode();me=c.serverCache.getNode();const It=_c(_,d,pt,me);re=null!=It?f.filter.updatePriority(pt,It):W.getNode()}else{const pt=Kr(d);let It;if(W.isCompleteForChild(Se)){me=c.serverCache.getNode();const Tt=_c(_,d,W.getNode(),me);It=null!=Tt?W.getNode().getImmediateChild(Se).updateChild(pt,Tt):W.getNode().getImmediateChild(Se)}else It=ma(_,Se,c.serverCache);re=null!=It?f.filter.updateChild(W.getNode(),Se,It,pt,D,F):W.getNode()}}return nu(c,re,W.isFullyInitialized()||Un(d),f.filter.filtersNodes())}}function La(f,c,d,_,D,F,W,re){const me=c.serverCache;let Se;const pt=W?f.filter:f.filter.getIndexedFilter();if(Un(d))Se=pt.updateFullNode(me.getNode(),_,null);else if(pt.filtersNodes()&&!me.isFiltered()){const cn=me.getNode().updateChild(d,_);Se=pt.updateFullNode(me.getNode(),cn,null)}else{const cn=lr(d);if(!me.isCompleteForPath(d)&&Si(d)>1)return c;const Rn=Kr(d),ta=me.getNode().getImmediateChild(cn).updateChild(Rn,_);Se=".priority"===cn?pt.updatePriority(me.getNode(),ta):pt.updateChild(me.getNode(),cn,ta,Rn,Xn,null)}const It=El(c,Se,me.isFullyInitialized()||Un(d),pt.filtersNodes());return Bo(f,It,d,D,new yu(D,It,F),re)}function Fa(f,c,d,_,D,F,W){const re=c.eventCache;let me,Se;const pt=new yu(D,c,F);if(Un(d))Se=f.filter.updateFullNode(c.eventCache.getNode(),_,W),me=nu(c,Se,!0,f.filter.filtersNodes());else{const It=lr(d);if(".priority"===It)Se=f.filter.updatePriority(c.eventCache.getNode(),_),me=nu(c,Se,re.isFullyInitialized(),re.isFiltered());else{const Tt=Kr(d),cn=re.getNode().getImmediateChild(It);let Rn;if(Un(Tt))Rn=_;else{const Ti=pt.getCompleteChild(It);Rn=null!=Ti?".priority"===ps(Tt)&&Ti.getChild(Ko(Tt)).isEmpty()?Ti:Ti.updateChild(Tt,_):Bn.EMPTY_NODE}me=cn.equals(Rn)?c:nu(c,f.filter.updateChild(re.getNode(),It,Rn,Tt,pt,W),re.isFullyInitialized(),f.filter.filtersNodes())}}return me}function bl(f,c){return f.eventCache.isCompleteForChild(c)}function Ua(f,c,d){return d.foreach((_,D)=>{c=c.updateChild(_,D)}),c}function Ba(f,c,d,_,D,F,W,re){if(c.serverCache.getNode().isEmpty()&&!c.serverCache.isFullyInitialized())return c;let Se,me=c;Se=Un(d)?_:new B(null).setTree(d,_);const pt=c.serverCache.getNode();return Se.children.inorderTraversal((It,Tt)=>{if(pt.hasChild(It)){const Rn=Ua(0,c.serverCache.getNode().getImmediateChild(It),Tt);me=La(f,me,new Br(It),Rn,D,F,W,re)}}),Se.children.inorderTraversal((It,Tt)=>{const cn=!c.serverCache.isCompleteForChild(It)&&null===Tt.value;if(!pt.hasChild(It)&&!cn){const Ti=Ua(0,c.serverCache.getNode().getImmediateChild(It),Tt);me=La(f,me,new Br(It),Ti,D,F,W,re)}}),me}class Bc{constructor(c,d){this.query_=c,this.eventRegistrations_=[];const _=this.query_._queryParams,D=new No(_.getIndex()),F=function Qs(f){return f.loadsAllData()?new No(f.getIndex()):f.hasLimit()?new mu(f):new Oi(f)}(_);this.processor_=function Wn(f){return{filter:f}}(F);const W=d.serverCache,re=d.eventCache,me=D.updateFullNode(Bn.EMPTY_NODE,W.getNode(),null),Se=F.updateFullNode(Bn.EMPTY_NODE,re.getNode(),null),pt=new _s(me,W.isFullyInitialized(),D.filtersNodes()),It=new _s(Se,re.isFullyInitialized(),F.filtersNodes());this.viewCache_=tu(It,pt),this.eventGenerator_=new li(this.query_)}get query(){return this.query_}}function et(f,c){const d=Na(f.viewCache_);return d&&(f.query._queryParams.loadsAllData()||!Un(c)&&!d.getImmediateChild(lr(c)).isEmpty())?d.getChild(c):null}function va(f){return 0===f.eventRegistrations_.length}function _u(f,c,d){const _=[];if(d){(0,se.hu)(null==c,"A cancel should cancel all event registrations.");const D=f.query._path;f.eventRegistrations_.forEach(F=>{const W=F.createCancelEvent(d,D);W&&_.push(W)})}if(c){let D=[];for(let F=0;F<f.eventRegistrations_.length;++F){const W=f.eventRegistrations_[F];if(W.matches(c)){if(c.hasAnyCallback()){D=D.concat(f.eventRegistrations_.slice(F+1));break}}else D.push(W)}f.eventRegistrations_=D}else f.eventRegistrations_=[];return _}function Ea(f,c,d,_){c.type===Ms.MERGE&&null!==c.source.queryId&&((0,se.hu)(Na(f.viewCache_),"We should always have a full cache before handling merges"),(0,se.hu)(ru(f.viewCache_),"Missing event cache, even though we have a server cache"));const D=f.viewCache_,F=function Uo(f,c,d,_,D){const F=new Ln;let W,re;if(d.type===Ms.OVERWRITE){const Se=d;Se.source.fromUser?W=Fa(f,c,Se.path,Se.snap,_,D,F):((0,se.hu)(Se.source.fromServer,"Unknown source."),re=Se.source.tagged||c.serverCache.isFiltered()&&!Un(Se.path),W=La(f,c,Se.path,Se.snap,_,D,re,F))}else if(d.type===Ms.MERGE){const Se=d;Se.source.fromUser?W=function iu(f,c,d,_,D,F,W){let re=c;return _.foreach((me,Se)=>{const pt=hi(d,me);bl(c,lr(pt))&&(re=Fa(f,re,pt,Se,D,F,W))}),_.foreach((me,Se)=>{const pt=hi(d,me);bl(c,lr(pt))||(re=Fa(f,re,pt,Se,D,F,W))}),re}(f,c,Se.path,Se.children,_,D,F):((0,se.hu)(Se.source.fromServer,"Unknown source."),re=Se.source.tagged||c.serverCache.isFiltered(),W=Ba(f,c,Se.path,Se.children,_,D,re,F))}else if(d.type===Ms.ACK_USER_WRITE){const Se=d;W=Se.revert?function ya(f,c,d,_,D,F){let W;if(null!=Qi(_,d))return c;{const re=new yu(_,c,D),me=c.eventCache.getNode();let Se;if(Un(d)||".priority"===lr(d)){let pt;if(c.serverCache.isFullyInitialized())pt=Il(_,Na(c));else{const It=c.serverCache.getNode();(0,se.hu)(It instanceof Bn,"serverChildren would be complete if leaf node"),pt=ka(_,It)}Se=f.filter.updateFullNode(me,pt,F)}else{const pt=lr(d);let It=ma(_,pt,c.serverCache);null==It&&c.serverCache.isCompleteForChild(pt)&&(It=me.getImmediateChild(pt)),Se=null!=It?f.filter.updateChild(me,pt,It,Kr(d),re,F):c.eventCache.getNode().hasChild(pt)?f.filter.updateChild(me,pt,Bn.EMPTY_NODE,Kr(d),re,F):me,Se.isEmpty()&&c.serverCache.isFullyInitialized()&&(W=Il(_,Na(c)),W.isLeafNode()&&(Se=f.filter.updateFullNode(Se,W,F)))}return W=c.serverCache.isFullyInitialized()||null!=Qi(_,kr()),nu(c,Se,W,f.filter.filtersNodes())}}(f,c,Se.path,_,D,F):function yi(f,c,d,_,D,F,W){if(null!=Qi(D,d))return c;const re=c.serverCache.isFiltered(),me=c.serverCache;if(null!=_.value){if(Un(d)&&me.isFullyInitialized()||me.isCompleteForPath(d))return La(f,c,d,me.getNode().getChild(d),D,F,re,W);if(Un(d)){let Se=new B(null);return me.getNode().forEachChild(gs,(pt,It)=>{Se=Se.set(new Br(pt),It)}),Ba(f,c,d,Se,D,F,re,W)}return c}{let Se=new B(null);return _.foreach((pt,It)=>{const Tt=hi(d,pt);me.isCompleteForPath(Tt)&&(Se=Se.set(pt,me.getNode().getChild(Tt)))}),Ba(f,c,d,Se,D,F,re,W)}}(f,c,Se.path,Se.affectedTree,_,D,F)}else{if(d.type!==Ms.LISTEN_COMPLETE)throw(0,se.g5)("Unknown operation type: "+d.type);W=function Cl(f,c,d,_,D){const F=c.serverCache;return Bo(f,El(c,F.getNode(),F.isFullyInitialized()||Un(d),F.isFiltered()),d,_,Xn,D)}(f,c,d.path,_,F)}const me=F.getChanges();return function Tl(f,c,d){const _=c.eventCache;if(_.isFullyInitialized()){const D=_.getNode().isLeafNode()||_.getNode().isEmpty(),F=ru(f);(d.length>0||!f.eventCache.isFullyInitialized()||D&&!_.getNode().equals(F)||!_.getNode().getPriority().equals(F.getPriority()))&&d.push(Ol(ru(c)))}}(c,W,me),{viewCache:W,changes:me}}(f.processor_,D,c,d,_);return function sn(f,c){(0,se.hu)(c.eventCache.getNode().isIndexed(f.filter.getIndex()),"Event snap not indexed"),(0,se.hu)(c.serverCache.getNode().isIndexed(f.filter.getIndex()),"Server snap not indexed")}(f.processor_,F.viewCache),(0,se.hu)(F.viewCache.serverCache.isFullyInitialized()||!D.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),f.viewCache_=F.viewCache,vu(f,F.changes,F.viewCache.eventCache.getNode(),null)}function vu(f,c,d,_){return function eo(f,c,d,_){const D=[],F=[];return c.forEach(W=>{"child_changed"===W.type&&f.index_.indexedValueChanged(W.oldSnap,W.snapshotNode)&&F.push(function Xl(f,c){return{type:"child_moved",snapshotNode:c,childName:f}}(W.childName,W.snapshotNode))}),to(f,D,"child_removed",c,_,d),to(f,D,"child_added",c,_,d),to(f,D,"child_moved",F,_,d),to(f,D,"child_changed",c,_,d),to(f,D,"value",c,_,d),D}(f.eventGenerator_,c,d,_?[_]:f.eventRegistrations_)}let wa,$l;class vc{constructor(){this.views=new Map}}function Fs(f,c,d,_){const D=c.source.queryId;if(null!==D){const F=f.views.get(D);return(0,se.hu)(null!=F,"SyncTree gave us an op for an invalid query."),Ea(F,c,d,_)}{let F=[];for(const W of f.views.values())F=F.concat(Ea(W,c,d,_));return F}}function ji(f,c,d,_,D){const W=f.views.get(c._queryIdentifier);if(!W){let re=Il(d,D?_:null),me=!1;re?me=!0:_ instanceof Bn?(re=ka(d,_),me=!1):(re=Bn.EMPTY_NODE,me=!1);const Se=tu(new _s(re,me,!1),new _s(_,D,!1));return new Bc(c,Se)}return W}function Os(f){const c=[];for(const d of f.views.values())d.query._queryParams.loadsAllData()||c.push(d);return c}function vs(f,c){let d=null;for(const _ of f.views.values())d=d||et(_,c);return d}function ja(f,c){return c._queryParams.loadsAllData()?$o(f):f.views.get(c._queryIdentifier)}function so(f,c){return null!=ja(f,c)}function Vo(f){return null!=$o(f)}function $o(f){for(const c of f.views.values())if(c.query._queryParams.loadsAllData())return c;return null}let Fu=1;class So{constructor(c){this.listenProvider_=c,this.syncPointTree_=new B(null),this.pendingWriteTree_=function Uc(){return{visibleWrites:te.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sl(f,c,d,_,D){return function no(f,c,d,_,D){(0,se.hu)(_>f.lastWriteId,"Stacking an older write on top of newer ones"),void 0===D&&(D=!0),f.allWrites.push({path:c,snap:d,writeId:_,visible:D}),D&&(f.visibleWrites=Ee(f.visibleWrites,c,d)),f.lastWriteId=_}(f.pendingWriteTree_,c,d,_,D),D?yr(f,new Zi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},c,d)):[]}function C(f,c,d=!1){const _=function En(f,c){for(let d=0;d<f.allWrites.length;d++){const _=f.allWrites[d];if(_.writeId===c)return _}return null}(f.pendingWriteTree_,c);if(function Yi(f,c){const d=f.allWrites.findIndex(re=>re.writeId===c);(0,se.hu)(d>=0,"removeWrite called with nonexistent writeId.");const _=f.allWrites[d];f.allWrites.splice(d,1);let D=_.visible,F=!1,W=f.allWrites.length-1;for(;D&&W>=0;){const re=f.allWrites[W];re.visible&&(W>=d&&zt(re,_.path)?D=!1:mi(_.path,re.path)&&(F=!0)),W--}return!!D&&(F?(function Je(f){f.visibleWrites=Ii(f.allWrites,Et,kr()),f.lastWriteId=f.allWrites.length>0?f.allWrites[f.allWrites.length-1].writeId:-1}(f),!0):(_.snap?f.visibleWrites=Ct(f.visibleWrites,_.path):Dr(_.children,me=>{f.visibleWrites=Ct(f.visibleWrites,hi(_.path,me))}),!0))}(f.pendingWriteTree_,c)){let F=new B(null);return null!=_.snap?F=F.set(kr(),!0):Dr(_.children,W=>{F=F.set(new Br(W),!0)}),yr(f,new ga(_.path,F,d))}return[]}function A(f,c,d){return yr(f,new Zi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c,d))}function J(f,c,d,_,D=!1){const F=c._path,W=f.syncPointTree_.get(F);let re=[];if(W&&("default"===c._queryIdentifier||so(W,c))){const me=function $a(f,c,d,_){const D=c._queryIdentifier,F=[];let W=[];const re=Vo(f);if("default"===D)for(const[me,Se]of f.views.entries())W=W.concat(_u(Se,d,_)),va(Se)&&(f.views.delete(me),Se.query._queryParams.loadsAllData()||F.push(Se.query));else{const me=f.views.get(D);me&&(W=W.concat(_u(me,d,_)),va(me)&&(f.views.delete(D),me.query._queryParams.loadsAllData()||F.push(me.query)))}return re&&!Vo(f)&&F.push(new(function Va(){return(0,se.hu)(wa,"Reference.ts has not been loaded"),wa}())(c._repo,c._path)),{removed:F,events:W}}(W,c,d,_);(function rd(f){return 0===f.views.size})(W)&&(f.syncPointTree_=f.syncPointTree_.remove(F));const Se=me.removed;if(re=me.events,!D){const pt=-1!==Se.findIndex(Tt=>Tt._queryParams.loadsAllData()),It=f.syncPointTree_.findOnPath(F,(Tt,cn)=>Vo(cn));if(pt&&!It){const Tt=f.syncPointTree_.subtree(F);if(!Tt.isEmpty()){const cn=function Ju(f){return f.fold((c,d,_)=>{if(d&&Vo(d))return[$o(d)];{let D=[];return d&&(D=Os(d)),Dr(_,(F,W)=>{D=D.concat(W)}),D}})}(Tt);for(let Rn=0;Rn<cn.length;++Rn){const Ti=cn[Rn],ta=Ti.query,Al=fo(f,Ti);f.listenProvider_.startListening(Xi(ta),xi(f,ta),Al.hashFn,Al.onComplete)}}}!It&&Se.length>0&&!_&&(pt?f.listenProvider_.stopListening(Xi(c),null):Se.forEach(Tt=>{const cn=f.queryToTagMap.get(Xr(Tt));f.listenProvider_.stopListening(Xi(Tt),cn)}))}!function ki(f,c){for(let d=0;d<c.length;++d){const _=c[d];if(!_._queryParams.loadsAllData()){const D=Xr(_),F=f.queryToTagMap.get(D);f.queryToTagMap.delete(D),f.tagToQueryMap.delete(F)}}}(f,Se)}return re}function ce(f,c,d,_){const D=jo(f,_);if(null!=D){const F=Ha(D),W=F.path,re=F.queryId,me=Yn(W,c);return si(f,W,new Zi(Do(re),me,d))}return[]}function yt(f,c,d,_=!1){const D=c._path;let F=null,W=!1;f.syncPointTree_.foreachOnPath(D,(Tt,cn)=>{const Rn=Yn(Tt,D);F=F||vs(cn,Rn),W=W||Vo(cn)});let me,re=f.syncPointTree_.get(D);re?(W=W||Vo(re),F=F||vs(re,kr())):(re=new vc,f.syncPointTree_=f.syncPointTree_.set(D,re)),null!=F?me=!0:(me=!1,F=Bn.EMPTY_NODE,f.syncPointTree_.subtree(D).foreachChild((cn,Rn)=>{const Ti=vs(Rn,kr());Ti&&(F=F.updateImmediateChild(cn,Ti))}));const Se=so(re,c);if(!Se&&!c._queryParams.loadsAllData()){const Tt=Xr(c);(0,se.hu)(!f.queryToTagMap.has(Tt),"View does not exist, but we have a tag");const cn=function id(){return Fu++}();f.queryToTagMap.set(Tt,cn),f.tagToQueryMap.set(cn,Tt)}let It=function Ia(f,c,d,_,D,F){const W=ji(f,c,_,D,F);return f.views.has(c._queryIdentifier)||f.views.set(c._queryIdentifier,W),function $r(f,c){f.eventRegistrations_.push(c)}(W,d),function il(f,c){const d=f.viewCache_.eventCache,_=[];return d.getNode().isLeafNode()||d.getNode().forEachChild(ai,(F,W)=>{_.push(_l(F,W))}),d.isFullyInitialized()&&_.push(Ol(d.getNode())),vu(f,_,d.getNode(),c)}(W,d)}(re,c,d,Qr(f.pendingWriteTree_,D),F,me);if(!Se&&!W&&!_){const Tt=ja(re,c);It=It.concat(function Uu(f,c,d){const _=c._path,D=xi(f,c),F=fo(f,d),W=f.listenProvider_.startListening(Xi(c),D,F.hashFn,F.onComplete),re=f.syncPointTree_.subtree(_);if(D)(0,se.hu)(!Vo(re.value),"If we're adding a query, it shouldn't be shadowed");else{const me=re.fold((Se,pt,It)=>{if(!Un(Se)&&pt&&Vo(pt))return[$o(pt).query];{let Tt=[];return pt&&(Tt=Tt.concat(Os(pt).map(cn=>cn.query))),Dr(It,(cn,Rn)=>{Tt=Tt.concat(Rn)}),Tt}});for(let Se=0;Se<me.length;++Se){const pt=me[Se];f.listenProvider_.stopListening(Xi(pt),xi(f,pt))}}return W}(f,c,Tt))}return It}function Yt(f,c,d){const D=f.pendingWriteTree_,F=f.syncPointTree_.findOnPath(c,(W,re)=>{const Se=vs(re,Yn(W,c));if(Se)return Se});return Oa(D,c,F,d,!0)}function yr(f,c){return Ts(c,f.syncPointTree_,null,Qr(f.pendingWriteTree_,kr()))}function Ts(f,c,d,_){if(Un(f.path))return Ao(f,c,d,_);{const D=c.get(kr());null==d&&null!=D&&(d=vs(D,kr()));let F=[];const W=lr(f.path),re=f.operationForChild(W),me=c.children.get(W);if(me&&re){const Se=d?d.getImmediateChild(W):null,pt=Bl(_,W);F=F.concat(Ts(re,me,Se,pt))}return D&&(F=F.concat(Fs(D,f,_,d))),F}}function Ao(f,c,d,_){const D=c.get(kr());null==d&&null!=D&&(d=vs(D,kr()));let F=[];return c.children.inorderTraversal((W,re)=>{const me=d?d.getImmediateChild(W):null,Se=Bl(_,W),pt=f.operationForChild(W);pt&&(F=F.concat(Ao(pt,re,me,Se)))}),D&&(F=F.concat(Fs(D,f,_,d))),F}function fo(f,c){const d=c.query,_=xi(f,d);return{hashFn:()=>(function _a(f){return f.viewCache_.serverCache.getNode()}(c)||Bn.EMPTY_NODE).hash(),onComplete:D=>{if("ok"===D)return _?function z(f,c,d){const _=jo(f,d);if(_){const D=Ha(_),F=D.path,W=D.queryId,re=Yn(F,c);return si(f,F,new Ns(Do(W),re))}return[]}(f,d._path,_):function k(f,c){return yr(f,new Ns({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c))}(f,d._path);{const F=function Pn(f,c){let d="Unknown Error";"too_big"===f?d="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===f?d="Client doesn't have permission to access the desired data.":"unavailable"===f&&(d="The service is unavailable");const _=new Error(f+" at "+c._path.toString()+": "+d);return _.code=f.toUpperCase(),_}(D,d);return J(f,d,null,F)}}}}function xi(f,c){const d=Xr(c);return f.queryToTagMap.get(d)}function Xr(f){return f._path.toString()+"$"+f._queryIdentifier}function jo(f,c){return f.tagToQueryMap.get(c)}function Ha(f){const c=f.indexOf("$");return(0,se.hu)(-1!==c&&c<f.length-1,"Bad queryKey."),{queryId:f.substr(c+1),path:new Br(f.substr(0,c))}}function si(f,c,d){const _=f.syncPointTree_.get(c);return(0,se.hu)(_,"Missing sync point for query tag that we're tracking"),Fs(_,d,Qr(f.pendingWriteTree_,c),null)}function Xi(f){return f._queryParams.loadsAllData()&&!f._queryParams.isDefault()?new(function jl(){return(0,se.hu)($l,"Reference.ts has not been loaded"),$l}())(f._repo,f._path):f}class Us{constructor(c){this.node_=c}getImmediateChild(c){const d=this.node_.getImmediateChild(c);return new Us(d)}node(){return this.node_}}class ec{constructor(c,d){this.syncTree_=c,this.path_=d}getImmediateChild(c){const d=hi(this.path_,c);return new ec(this.syncTree_,d)}node(){return Yt(this.syncTree_,this.path_)}}const wd=function(f){return(f=f||{}).timestamp=f.timestamp||(new Date).getTime(),f},bs=function(f,c,d){return f&&"object"==typeof f?((0,se.hu)(".sv"in f,"Unexpected leaf node or priority contents"),"string"==typeof f[".sv"]?sd(f[".sv"],c,d):"object"==typeof f[".sv"]?Ks(f[".sv"],c):void(0,se.hu)(!1,"Unexpected server value: "+JSON.stringify(f,null,2))):f},sd=function(f,c,d){if("timestamp"===f)return d.timestamp;(0,se.hu)(!1,"Unexpected server value: "+f)},Ks=function(f,c,d){f.hasOwnProperty("increment")||(0,se.hu)(!1,"Unexpected server value: "+JSON.stringify(f,null,2));const _=f.increment;"number"!=typeof _&&(0,se.hu)(!1,"Unexpected increment value: "+_);const D=c.node();if((0,se.hu)(null!==D&&typeof D<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!D.isLeafNode())return _;const W=D.getValue();return"number"!=typeof W?_:W+_},_i=function(f,c,d,_){return Bu(c,new ec(d,f),_)},za=function(f,c,d){return Bu(f,new Us(c),d)};function Bu(f,c,d){const _=f.getPriority().val(),D=bs(_,c.getImmediateChild(".priority"),d);let F;if(f.isLeafNode()){const W=f,re=bs(W.getValue(),c,d);return re!==W.getValue()||D!==W.getPriority().val()?new To(re,Ri(D)):f}{const W=f;return F=W,D!==W.getPriority().val()&&(F=F.updatePriority(new To(D))),W.forEachChild(ai,(re,me)=>{const Se=Bu(me,c.getImmediateChild(re),d);Se!==me&&(F=F.updateImmediateChild(re,Se))}),F}}class Hl{constructor(c="",d=null,_={children:{},childCount:0}){this.name=c,this.parent=d,this.node=_}}function Iu(f,c){let d=c instanceof Br?c:new Br(c),_=f,D=lr(d);for(;null!==D;){const F=(0,se.DV)(_.node.children,D)||{children:{},childCount:0};_=new Hl(D,_,F),d=Kr(d),D=lr(d)}return _}function Wa(f){return f.node.value}function Ta(f,c){f.node.value=c,$u(f)}function ba(f){return f.node.childCount>0}function po(f,c){Dr(f.node.children,(d,_)=>{c(new Hl(d,f,_))})}function Ga(f,c,d,_){d&&!_&&c(f),po(f,D=>{Ga(D,c,!0,_)}),d&&_&&c(f)}function go(f){return new Br(null===f.parent?f.name:go(f.parent)+"/"+f.name)}function $u(f){null!==f.parent&&function Tu(f,c,d){const _=function Vu(f){return void 0===Wa(f)&&!ba(f)}(d),D=(0,se.r3)(f.node.children,c);_&&D?(delete f.node.children[c],f.node.childCount--,$u(f)):!_&&!D&&(f.node.children[c]=d.node,f.node.childCount++,$u(f))}(f.parent,f.name,f)}const tc=/[\[\].#$\/\u0000-\u001F\u007F]/,ou=/[\[\].#$\u0000-\u001F\u007F]/,Dl=10485760,ju=function(f){return"string"==typeof f&&0!==f.length&&!tc.test(f)},Hu=function(f){return"string"==typeof f&&0!==f.length&&!ou.test(f)},Cu=function(f){return null===f||"string"==typeof f||"number"==typeof f&&!nn(f)||f&&"object"==typeof f&&(0,se.r3)(f,".sv")},qs=function(f,c,d,_){_&&void 0===c||Ka((0,se.gK)(f,"value"),c,d)},Ka=function(f,c,d){const _=d instanceof Br?new Qu(d,f):d;if(void 0===c)throw new Error(f+"contains undefined "+Yo(_));if("function"==typeof c)throw new Error(f+"contains a function "+Yo(_)+" with contents = "+c.toString());if(nn(c))throw new Error(f+"contains "+c.toString()+" "+Yo(_));if("string"==typeof c&&c.length>Dl/3&&(0,se.ug)(c)>Dl)throw new Error(f+"contains a string greater than "+Dl+" utf8 bytes "+Yo(_)+" ('"+c.substring(0,50)+"...')");if(c&&"object"==typeof c){let D=!1,F=!1;if(Dr(c,(W,re)=>{if(".value"===W)D=!0;else if(".priority"!==W&&".sv"!==W&&(F=!0,!ju(W)))throw new Error(f+" contains an invalid key ("+W+") "+Yo(_)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Zs(f,c){f.parts_.length>0&&(f.byteLength_+=1),f.parts_.push(c),f.byteLength_+=(0,se.ug)(c),Ml(f)})(_,W),Ka(f,re,_),function Eo(f){const c=f.parts_.pop();f.byteLength_-=(0,se.ug)(c),f.parts_.length>0&&(f.byteLength_-=1)}(_)}),D&&F)throw new Error(f+' contains ".value" child '+Yo(_)+" in addition to actual children.")}},nc=function(f,c,d,_){if(_&&void 0===c)return;const D=(0,se.gK)(f,"values");if(!c||"object"!=typeof c||Array.isArray(c))throw new Error(D+" must be an object containing the children to replace.");const F=[];Dr(c,(W,re)=>{const me=new Br(W);if(Ka(D,re,hi(d,me)),".priority"===ps(me)&&!Cu(re))throw new Error(D+"contains an invalid value for '"+me.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");F.push(me)}),function(f,c){let d,_;for(d=0;d<c.length;d++){_=c[d];const F=ds(_);for(let W=0;W<F.length;W++)if((".priority"!==F[W]||W!==F.length-1)&&!ju(F[W]))throw new Error(f+"contains an invalid key ("+F[W]+") in path "+_.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}c.sort(qo);let D=null;for(d=0;d<c.length;d++){if(_=c[d],null!==D&&mi(D,_))throw new Error(f+"contains a path "+D.toString()+" that is ancestor of another path "+_.toString());D=_}}(D,F)},zl=function(f,c,d){if(!d||void 0!==c){if(nn(c))throw new Error((0,se.gK)(f,"priority")+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Cu(c))throw new Error((0,se.gK)(f,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Du=function(f,c,d,_){if(!(_&&void 0===d||ju(d)))throw new Error((0,se.gK)(f,c)+'was an invalid key = "'+d+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ho=function(f,c,d,_){if(!(_&&void 0===d||Hu(d)))throw new Error((0,se.gK)(f,c)+'was an invalid path = "'+d+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Bs=function(f,c,d,_){d&&(d=d.replace(/^\/*\.info(\/|$)/,"/")),Ho(f,c,d,_)},qa=function(f,c){if(".info"===lr(c))throw new Error(f+" failed = Can't modify data under /.info/")},rs=function(f,c){const d=c.path.toString();if("string"!=typeof c.repoInfo.host||0===c.repoInfo.host.length||!ju(c.repoInfo.namespace)&&"localhost"!==c.repoInfo.host.split(":")[0]||0!==d.length&&!function(f){return f&&(f=f.replace(/^\/*\.info(\/|$)/,"/")),Hu(f)}(d))throw new Error((0,se.gK)(f,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Su{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function rc(f,c){let d=null;for(let _=0;_<c.length;_++){const D=c[_],F=D.getPath();null!==d&&!Zo(F,d.path)&&(f.eventLists_.push(d),d=null),null===d&&(d={events:[],path:F}),d.events.push(D)}d&&f.eventLists_.push(d)}function al(f,c,d){rc(f,d),U(f,_=>Zo(_,c))}function P(f,c,d){rc(f,d),U(f,_=>mi(_,c)||mi(c,_))}function U(f,c){f.recursionDepth_++;let d=!0;for(let _=0;_<f.eventLists_.length;_++){const D=f.eventLists_[_];D&&(c(D.path)?(Y(f.eventLists_[_]),f.eventLists_[_]=null):d=!1)}d&&(f.eventLists_=[]),f.recursionDepth_--}function Y(f){for(let c=0;c<f.events.length;c++){const d=f.events[c];if(null!==d){f.events[c]=null;const _=d.getEventRunner();Ft&&Jt("event: "+d.toString()),ti(_)}}}const he="repo_interrupt",be=25;class Ue{constructor(c,d,_,D){this.repoInfo_=c,this.forceRestClient_=d,this.authTokenProvider_=_,this.appCheckProvider_=D,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Su,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lo(),this.transactionQueueTree_=new Hl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ln(f){const d=f.infoData_.getNode(new Br(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+d}function Zt(f){return wd({timestamp:ln(f)})}function An(f,c,d,_,D){f.dataUpdateCount++;const F=new Br(c);d=f.interceptServerDataCallback_?f.interceptServerDataCallback_(c,d):d;let W=[];if(D)if(_){const me=(0,se.UI)(d,Se=>Ri(Se));W=function We(f,c,d,_){const D=jo(f,_);if(D){const F=Ha(D),W=F.path,re=F.queryId,me=Yn(W,c),Se=B.fromObject(d);return si(f,W,new br(Do(re),me,Se))}return[]}(f.serverSyncTree_,F,me,D)}else{const me=Ri(d);W=ce(f.serverSyncTree_,F,me,D)}else if(_){const me=(0,se.UI)(d,Se=>Ri(Se));W=function T(f,c,d){const _=B.fromObject(d);return yr(f,new br({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c,_))}(f.serverSyncTree_,F,me)}else{const me=Ri(d);W=A(f.serverSyncTree_,F,me)}let re=F;W.length>0&&(re=bc(f,F)),P(f.eventQueue_,re,W)}function _r(f,c){oo(f,"connected",c),!1===c&&function Za(f){ul(f,"onDisconnectEvents");const c=Zt(f),d=Lo();$i(f.onDisconnect_,kr(),(D,F)=>{const W=_i(D,F,f.serverSyncTree_,c);Pa(d,D,W)});let _=[];$i(d,kr(),(D,F)=>{_=_.concat(A(f.serverSyncTree_,D,F));const W=Q(f,D);bc(f,W)}),f.onDisconnect_=Lo(),P(f.eventQueue_,kr(),_)}(f)}function oo(f,c,d){const _=new Br("/.info/"+c),D=Ri(d);f.infoData_.updateSnapshot(_,D);const F=A(f.infoSyncTree_,_,D);P(f.eventQueue_,_,F)}function Vs(f){return f.nextWriteId_++}function wc(f,c,d,_,D){ul(f,"set",{path:c.toString(),value:d,priority:_});const F=Zt(f),W=Ri(d,_),re=Yt(f.serverSyncTree_,c),me=za(W,re,F),Se=Vs(f),pt=sl(f.serverSyncTree_,c,me,Se,!0);rc(f.eventQueue_,pt),f.server_.put(c.toString(),W.val(!0),(Tt,cn)=>{const Rn="ok"===Tt;Rn||Hn("set at "+c+" failed: "+Tt);const Ti=C(f.serverSyncTree_,Se,!Rn);P(f.eventQueue_,c,Ti),au(0,D,Tt,cn)});const It=Q(f,c);bc(f,It),P(f.eventQueue_,It,[])}function Ya(f,c,d){f.server_.onDisconnectCancel(c.toString(),(_,D)=>{"ok"===_&&vl(f.onDisconnect_,c),au(0,d,_,D)})}function od(f,c,d,_){const D=Ri(d);f.server_.onDisconnectPut(c.toString(),D.val(!0),(F,W)=>{"ok"===F&&Pa(f.onDisconnect_,c,D),au(0,_,F,W)})}function ll(f,c,d){let _;_=".info"===lr(c._path)?J(f.infoSyncTree_,c,d):J(f.serverSyncTree_,c,d),al(f.eventQueue_,c._path,_)}function Wu(f){f.persistentConnection_&&f.persistentConnection_.interrupt(he)}function ul(f,...c){let d="";f.persistentConnection_&&(d=f.persistentConnection_.id+":"),Jt(d,...c)}function au(f,c,d,_){c&&ti(()=>{if("ok"===d)c(null);else{const D=(d||"error").toUpperCase();let F=D;_&&(F+=": "+_);const W=new Error(F);W.code=D,c(W)}})}function lu(f,c,d){return Yt(f.serverSyncTree_,c,d)||Bn.EMPTY_NODE}function Ic(f,c=f.transactionQueueTree_){if(c||M(f,c),Wa(c)){const d=y(f,c);(0,se.hu)(d.length>0,"Sending zero length transaction queue"),d.every(D=>0===D.status)&&function Tc(f,c,d){const _=d.map(Se=>Se.currentWriteId),D=lu(f,c,_);let F=D;const W=D.hash();for(let Se=0;Se<d.length;Se++){const pt=d[Se];(0,se.hu)(0===pt.status,"tryToSendTransactionQueue_: items in queue should all be run."),pt.status=1,pt.retryCount++;const It=Yn(c,pt.path);F=F.updateChild(It,pt.currentOutputSnapshotRaw)}const re=F.val(!0),me=c;f.server_.put(me.toString(),re,Se=>{ul(f,"transaction put response",{path:me.toString(),status:Se});let pt=[];if("ok"===Se){const It=[];for(let Tt=0;Tt<d.length;Tt++)d[Tt].status=2,pt=pt.concat(C(f.serverSyncTree_,d[Tt].currentWriteId)),d[Tt].onComplete&&It.push(()=>d[Tt].onComplete(null,!0,d[Tt].currentOutputSnapshotResolved)),d[Tt].unwatcher();M(f,Iu(f.transactionQueueTree_,c)),Ic(f,f.transactionQueueTree_),P(f.eventQueue_,c,pt);for(let Tt=0;Tt<It.length;Tt++)ti(It[Tt])}else{if("datastale"===Se)for(let It=0;It<d.length;It++)d[It].status=3===d[It].status?4:0;else{Hn("transaction at "+me.toString()+" failed: "+Se);for(let It=0;It<d.length;It++)d[It].status=4,d[It].abortReason=Se}bc(f,c)}},W)}(f,go(c),d)}else ba(c)&&po(c,d=>{Ic(f,d)})}function bc(f,c){const d=x(f,c),_=go(d);return function Fh(f,c,d){if(0===c.length)return;const _=[];let D=[];const W=c.filter(re=>0===re.status).map(re=>re.currentWriteId);for(let re=0;re<c.length;re++){const me=c[re],Se=Yn(d,me.path);let It,pt=!1;if((0,se.hu)(null!==Se,"rerunTransactionsUnderNode_: relativePath should not be null."),4===me.status)pt=!0,It=me.abortReason,D=D.concat(C(f.serverSyncTree_,me.currentWriteId,!0));else if(0===me.status)if(me.retryCount>=be)pt=!0,It="maxretry",D=D.concat(C(f.serverSyncTree_,me.currentWriteId,!0));else{const Tt=lu(f,me.path,W);me.currentInputSnapshot=Tt;const cn=c[re].update(Tt.val());if(void 0!==cn){Ka("transaction failed: Data returned ",cn,me.path);let Rn=Ri(cn);"object"==typeof cn&&null!=cn&&(0,se.r3)(cn,".priority")||(Rn=Rn.updatePriority(Tt.getPriority()));const ta=me.currentWriteId,Al=Zt(f),lc=za(Rn,Tt,Al);me.currentOutputSnapshotRaw=Rn,me.currentOutputSnapshotResolved=lc,me.currentWriteId=Vs(f),W.splice(W.indexOf(ta),1),D=D.concat(sl(f.serverSyncTree_,me.path,lc,me.currentWriteId,me.applyLocally)),D=D.concat(C(f.serverSyncTree_,ta,!0))}else pt=!0,It="nodata",D=D.concat(C(f.serverSyncTree_,me.currentWriteId,!0))}P(f.eventQueue_,d,D),D=[],pt&&(c[re].status=2,setTimeout(c[re].unwatcher,Math.floor(0)),c[re].onComplete&&_.push("nodata"===It?()=>c[re].onComplete(null,!1,c[re].currentInputSnapshot):()=>c[re].onComplete(new Error(It),!1,null)))}M(f,f.transactionQueueTree_);for(let re=0;re<_.length;re++)ti(_[re]);Ic(f,f.transactionQueueTree_)}(f,y(f,d),_),_}function x(f,c){let d,_=f.transactionQueueTree_;for(d=lr(c);null!==d&&void 0===Wa(_);)_=Iu(_,d),d=lr(c=Kr(c));return _}function y(f,c){const d=[];return I(f,c,d),d.sort((_,D)=>_.order-D.order),d}function I(f,c,d){const _=Wa(c);if(_)for(let D=0;D<_.length;D++)d.push(_[D]);po(c,D=>{I(f,D,d)})}function M(f,c){const d=Wa(c);if(d){let _=0;for(let D=0;D<d.length;D++)2!==d[D].status&&(d[_]=d[D],_++);d.length=_,Ta(c,d.length>0?d:void 0)}po(c,_=>{M(f,_)})}function Q(f,c){const d=go(x(f,c)),_=Iu(f.transactionQueueTree_,c);return function su(f,c,d){let _=d?f:f.parent;for(;null!==_;){if(c(_))return!0;_=_.parent}}(_,D=>{ue(f,D)}),ue(f,_),Ga(_,D=>{ue(f,D)}),d}function ue(f,c){const d=Wa(c);if(d){const _=[];let D=[],F=-1;for(let W=0;W<d.length;W++)3===d[W].status||(1===d[W].status?((0,se.hu)(F===W-1,"All SENT items should be at beginning of queue."),F=W,d[W].status=3,d[W].abortReason="set"):((0,se.hu)(0===d[W].status,"Unexpected transaction status in abort"),d[W].unwatcher(),D=D.concat(C(f.serverSyncTree_,d[W].currentWriteId,!0)),d[W].onComplete&&_.push(d[W].onComplete.bind(null,new Error("set"),!1,null))));-1===F?Ta(c,void 0):d.length=F+1,P(f.eventQueue_,go(c),D);for(let W=0;W<_.length;W++)ti(_[W])}}const Qt=function(f,c){const d=pn(f),_=d.namespace;return"firebase.com"===d.domain&&qn(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!_||"undefined"===_)&&"localhost"!==d.domain&&qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),d.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Hn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new de(d.host,d.secure,_,"ws"===d.scheme||"wss"===d.scheme,c,"",_!==d.subdomain),path:new Br(d.pathString)}},pn=function(f){let c="",d="",_="",D="",F="",W=!0,re="https",me=443;if("string"==typeof f){let Se=f.indexOf("//");Se>=0&&(re=f.substring(0,Se-1),f=f.substring(Se+2));let pt=f.indexOf("/");-1===pt&&(pt=f.length);let It=f.indexOf("?");-1===It&&(It=f.length),c=f.substring(0,Math.min(pt,It)),pt<It&&(D=function $e(f){let c="";const d=f.split("/");for(let _=0;_<d.length;_++)if(d[_].length>0){let D=d[_];try{D=decodeURIComponent(D.replace(/\+/g," "))}catch{}c+="/"+D}return c}(f.substring(pt,It)));const Tt=function gt(f){const c={};"?"===f.charAt(0)&&(f=f.substring(1));for(const d of f.split("&")){if(0===d.length)continue;const _=d.split("=");2===_.length?c[decodeURIComponent(_[0])]=decodeURIComponent(_[1]):Hn(`Invalid query segment '${d}' in query '${f}'`)}return c}(f.substring(Math.min(f.length,It)));Se=c.indexOf(":"),Se>=0?(W="https"===re||"wss"===re,me=parseInt(c.substring(Se+1),10)):Se=c.length;const cn=c.slice(0,Se);if("localhost"===cn.toLowerCase())d="localhost";else if(cn.split(".").length<=2)d=cn;else{const Rn=c.indexOf(".");_=c.substring(0,Rn).toLowerCase(),d=c.substring(Rn+1),F=_}"ns"in Tt&&(F=Tt.ns)}return{host:c,port:me,domain:d,subdomain:_,secure:W,scheme:re,pathString:D,namespace:F}},zn="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",jr=function(){let f=0;const c=[];return function(d){const _=d===f;let D;f=d;const F=new Array(8);for(D=7;D>=0;D--)F[D]=zn.charAt(d%64),d=Math.floor(d/64);(0,se.hu)(0===d,"Cannot push at time == 0");let W=F.join("");if(_){for(D=11;D>=0&&63===c[D];D--)c[D]=0;c[D]++}else for(D=0;D<12;D++)c[D]=Math.floor(64*Math.random());for(D=0;D<12;D++)W+=zn.charAt(c[D]);return(0,se.hu)(20===W.length,"nextPushId: Length should be 20."),W}}();class Ca{constructor(c,d,_,D){this.eventType=c,this.eventRegistration=d,this.snapshot=_,this.prevName=D}getPath(){const c=this.snapshot.ref;return"value"===this.eventType?c._path:c.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,se.Wl)(this.snapshot.exportVal())}}class zo{constructor(c,d,_){this.eventRegistration=c,this.error=d,this.path=_}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class $c{constructor(c,d){this.snapshotCallback=c,this.cancelCallback=d}onValue(c,d){this.snapshotCallback.call(null,c,d)}onCancel(c){return(0,se.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,c)}get hasCancelCallback(){return!!this.cancelCallback}matches(c){return this.snapshotCallback===c.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===c.snapshotCallback.userCallback&&this.snapshotCallback.context===c.snapshotCallback.context}}class Qa{constructor(c,d){this._repo=c,this._path=d}cancel(){const c=new se.BH;return Ya(this._repo,this._path,c.wrapCallback(()=>{})),c.promise}remove(){qa("OnDisconnect.remove",this._path);const c=new se.BH;return od(this._repo,this._path,null,c.wrapCallback(()=>{})),c.promise}set(c){qa("OnDisconnect.set",this._path),qs("OnDisconnect.set",c,this._path,!1);const d=new se.BH;return od(this._repo,this._path,c,d.wrapCallback(()=>{})),d.promise}setWithPriority(c,d){qa("OnDisconnect.setWithPriority",this._path),qs("OnDisconnect.setWithPriority",c,this._path,!1),zl("OnDisconnect.setWithPriority",d,!1);const _=new se.BH;return function Id(f,c,d,_,D){const F=Ri(d,_);f.server_.onDisconnectPut(c.toString(),F.val(!0),(W,re)=>{"ok"===W&&Pa(f.onDisconnect_,c,F),au(0,D,W,re)})}(this._repo,this._path,c,d,_.wrapCallback(()=>{})),_.promise}update(c){qa("OnDisconnect.update",this._path),nc("OnDisconnect.update",c,this._path,!1);const d=new se.BH;return function Xd(f,c,d,_){if((0,se.xb)(d))return Jt("onDisconnect().update() called with empty data.  Don't do anything."),void au(0,_,"ok",void 0);f.server_.onDisconnectMerge(c.toString(),d,(D,F)=>{"ok"===D&&Dr(d,(W,re)=>{const me=Ri(re);Pa(f.onDisconnect_,hi(c,W),me)}),au(0,_,D,F)})}(this._repo,this._path,c,d.wrapCallback(()=>{})),d.promise}}class mo{constructor(c,d,_,D){this._repo=c,this._path=d,this._queryParams=_,this._orderByCalled=D}get key(){return Un(this._path)?null:ps(this._path)}get ref(){return new Xa(this._repo,this._path)}get _queryIdentifier(){const c=ko(this._queryParams),d=Er(c);return"{}"===d?"default":d}get _queryObject(){return ko(this._queryParams)}isEqual(c){if(!((c=(0,se.m9)(c))instanceof mo))return!1;const d=this._repo===c._repo,_=Zo(this._path,c._path);return d&&_&&this._queryIdentifier===c._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function qi(f){let c="";for(let d=f.pieceNum_;d<f.pieces_.length;d++)""!==f.pieces_[d]&&(c+="/"+encodeURIComponent(String(f.pieces_[d])));return c||"/"}(this._path)}}function Gu(f,c){if(!0===f._orderByCalled)throw new Error(c+": You can't combine multiple orderBy calls.")}function uu(f){let c=null,d=null;if(f.hasStart()&&(c=f.getIndexStartValue()),f.hasEnd()&&(d=f.getIndexEndValue()),f.getIndex()===gs){const _="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",D="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(f.hasStart()){if(f.getIndexStartName()!==Jr)throw new Error(_);if("string"!=typeof c)throw new Error(D)}if(f.hasEnd()){if(f.getIndexEndName()!==Nn)throw new Error(_);if("string"!=typeof d)throw new Error(D)}}else if(f.getIndex()===ai){if(null!=c&&!Cu(c)||null!=d&&!Cu(d))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,se.hu)(f.getIndex()instanceof ha||f.getIndex()===Jo,"unknown index type."),null!=c&&"object"==typeof c||null!=d&&"object"==typeof d)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Da(f){if(f.hasStart()&&f.hasEnd()&&f.hasLimit()&&!f.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Xa extends mo{constructor(c,d){super(c,d,new Oo,!1)}get parent(){const c=Ko(this._path);return null===c?null:new Xa(this._repo,c)}get root(){let c=this;for(;null!==c.parent;)c=c.parent;return c}}class cl{constructor(c,d,_){this._node=c,this.ref=d,this._index=_}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(c){const d=new Br(c),_=vr(this.ref,c);return new cl(this._node.getChild(d),_,ai)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(c){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(_,D)=>c(new cl(D,vr(this.ref,_),ai)))}hasChild(c){const d=new Br(c);return!this._node.getChild(d).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ad(f,c){return(f=(0,se.m9)(f))._checkNotDeleted("ref"),void 0!==c?vr(f._root,c):f._root}function jc(f,c){(f=(0,se.m9)(f))._checkNotDeleted("refFromURL");const d=Qt(c,f._repo.repoInfo_.nodeAdmin);rs("refFromURL",d);const _=d.repoInfo;return!f._repo.repoInfo_.isCustomHost()&&_.host!==f._repo.repoInfo_.host&&qn("refFromURL: Host name does not match the current database: (found "+_.host+" but expected "+f._repo.repoInfo_.host+")"),ad(f,d.path.toString())}function vr(f,c){return null===lr((f=(0,se.m9)(f))._path)?Bs("child","path",c,!1):Ho("child","path",c,!1),new Xa(f._repo,hi(f._path,c))}function bd(f,c){f=(0,se.m9)(f),qa("set",f._path),qs("set",c,f._path,!1);const d=new se.BH;return wc(f._repo,f._path,c,null,d.wrapCallback(()=>{})),d.promise}function dp(f,c){nc("update",c,f._path,!1);const d=new se.BH;return function Au(f,c,d,_){ul(f,"update",{path:c.toString(),value:d});let D=!0;const F=Zt(f),W={};if(Dr(d,(re,me)=>{D=!1,W[re]=_i(hi(c,re),Ri(me),f.serverSyncTree_,F)}),D)Jt("update() called with empty data.  Don't do anything."),au(0,_,"ok",void 0);else{const re=Vs(f),me=function wu(f,c,d,_){!function an(f,c,d,_){(0,se.hu)(_>f.lastWriteId,"Stacking an older merge on top of newer ones"),f.allWrites.push({path:c,children:d,writeId:_,visible:!0}),f.visibleWrites=st(f.visibleWrites,c,d),f.lastWriteId=_}(f.pendingWriteTree_,c,d,_);const D=B.fromObject(d);return yr(f,new br({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},c,D))}(f.serverSyncTree_,c,W,re);rc(f.eventQueue_,me),f.server_.merge(c.toString(),d,(Se,pt)=>{const It="ok"===Se;It||Hn("update at "+c+" failed: "+Se);const Tt=C(f.serverSyncTree_,re,!It),cn=Tt.length>0?bc(f,c):c;P(f.eventQueue_,cn,Tt),au(0,_,Se,pt)}),Dr(d,Se=>{const pt=Q(f,hi(c,Se));bc(f,pt)}),P(f.eventQueue_,c,[])}}(f._repo,f._path,c,d.wrapCallback(()=>{})),d.promise}function mg(f){f=(0,se.m9)(f);const c=new $c(()=>{}),d=new Dd(c);return function zu(f,c,d){const _=function yn(f,c){const d=c._path;let _=null;f.syncPointTree_.foreachOnPath(d,(Se,pt)=>{const It=Yn(Se,d);_=_||vs(pt,It)});let D=f.syncPointTree_.get(d);D?_=_||vs(D,kr()):(D=new vc,f.syncPointTree_=f.syncPointTree_.set(d,D));const F=null!=_,W=F?new _s(_,!0,!1):null;return function io(f){return ru(f.viewCache_)}(ji(D,c,Qr(f.pendingWriteTree_,c._path),F?W.getNode():Bn.EMPTY_NODE,F))}(f.serverSyncTree_,c);return null!=_?Promise.resolve(_):f.server_.get(c).then(D=>{const F=Ri(D).withIndex(c._queryParams.getIndex());let W;if(yt(f.serverSyncTree_,c,d,!0),c._queryParams.loadsAllData())W=A(f.serverSyncTree_,c._path,F);else{const re=xi(f.serverSyncTree_,c);W=ce(f.serverSyncTree_,c._path,F,re)}return P(f.eventQueue_,c._path,W),J(f.serverSyncTree_,c,d,null,!0),F},D=>(ul(f,"get for query "+(0,se.Wl)(c)+" failed: "+D),Promise.reject(new Error(D))))}(f._repo,f,d).then(_=>new cl(_,new Xa(f._repo,f._path),f._queryParams.getIndex()))}class Dd{constructor(c){this.callbackContext=c}respondsTo(c){return"value"===c}createEvent(c,d){const _=d._queryParams.getIndex();return new Ca("value",this,new cl(c.snapshotNode,new Xa(d._repo,d._path),_))}getEventRunner(c){return"cancel"===c.getEventType()?()=>this.callbackContext.onCancel(c.error):()=>this.callbackContext.onValue(c.snapshot,null)}createCancelEvent(c,d){return this.callbackContext.hasCancelCallback?new zo(this,c,d):null}matches(c){return c instanceof Dd&&(!c.callbackContext||!this.callbackContext||c.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Cc{constructor(c,d){this.eventType=c,this.callbackContext=d}respondsTo(c){let d="children_added"===c?"child_added":c;return d="children_removed"===d?"child_removed":d,this.eventType===d}createCancelEvent(c,d){return this.callbackContext.hasCancelCallback?new zo(this,c,d):null}createEvent(c,d){(0,se.hu)(null!=c.childName,"Child events should have a childName.");const _=vr(new Xa(d._repo,d._path),c.childName),D=d._queryParams.getIndex();return new Ca(c.type,this,new cl(c.snapshotNode,_,D),c.prevName)}getEventRunner(c){return"cancel"===c.getEventType()?()=>this.callbackContext.onCancel(c.error):()=>this.callbackContext.onValue(c.snapshot,c.prevName)}matches(c){return c instanceof Cc&&this.eventType===c.eventType&&(!this.callbackContext||!c.callbackContext||this.callbackContext.matches(c.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ru(f,c,d,_,D){let F;if("object"==typeof _&&(F=void 0,D=_),"function"==typeof _&&(F=_),D&&D.onlyOnce){const me=d,Se=(pt,It)=>{ll(f._repo,f,re),me(pt,It)};Se.userCallback=d.userCallback,Se.context=d.context,d=Se}const W=new $c(d,F||void 0),re="value"===c?new Dd(W):new Cc(c,W);return function Td(f,c,d){let _;_=".info"===lr(c._path)?yt(f.infoSyncTree_,c,d):yt(f.serverSyncTree_,c,d),al(f.eventQueue_,c._path,_)}(f._repo,f,re),()=>ll(f._repo,f,re)}function th(f,c,d,_){return Ru(f,"value",c,d,_)}function Ku(f,c,d,_){return Ru(f,"child_added",c,d,_)}function Hc(f,c,d,_){return Ru(f,"child_changed",c,d,_)}function cu(f,c,d,_){return Ru(f,"child_moved",c,d,_)}function Sd(f,c,d,_){return Ru(f,"child_removed",c,d,_)}function nh(f,c,d){let _=null;const D=d?new $c(d):null;"value"===c?_=new Dd(D):c&&(_=new Cc(c,D)),ll(f._repo,f,_)}class Sl{}class hp extends Sl{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){qs("endAt",this._value,c._path,!0);const d=Is(c._queryParams,this._value,this._key);if(Da(d),uu(d),c._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mo(c._repo,c._path,d,c._orderByCalled)}}class $s extends Sl{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){qs("endBefore",this._value,c._path,!1);const d=function Ss(f,c,d){let _;return _=Is(f,c,f.index_===gs||d?d:Jr),_.endBeforeSet_=!0,_}(c._queryParams,this._value,this._key);if(Da(d),uu(d),c._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mo(c._repo,c._path,d,c._orderByCalled)}}class rh extends Sl{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){qs("startAt",this._value,c._path,!0);const d=rl(c._queryParams,this._value,this._key);if(Da(d),uu(d),c._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new mo(c._repo,c._path,d,c._orderByCalled)}}class Sf extends Sl{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){qs("startAfter",this._value,c._path,!1);const d=function Co(f,c,d){let _;return _=rl(f,c,f.index_===gs||d?d:Nn),_.startAfterSet_=!0,_}(c._queryParams,this._value,this._key);if(Da(d),uu(d),c._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new mo(c._repo,c._path,d,c._orderByCalled)}}class fp extends Sl{constructor(c){super(),this._limit=c}_apply(c){if(c._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new mo(c._repo,c._path,function Jl(f,c){const d=f.copy();return d.limitSet_=!0,d.limit_=c,d.viewFrom_="l",d}(c._queryParams,this._limit),c._orderByCalled)}}class xd extends Sl{constructor(c){super(),this._limit=c}_apply(c){if(c._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new mo(c._repo,c._path,function kl(f,c){const d=f.copy();return d.limitSet_=!0,d.limit_=c,d.viewFrom_="r",d}(c._queryParams,this._limit),c._orderByCalled)}}class pp extends Sl{constructor(c){super(),this._path=c}_apply(c){Gu(c,"orderByChild");const d=new Br(this._path);if(Un(d))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const _=new ha(d),D=As(c._queryParams,_);return uu(D),new mo(c._repo,c._path,D,!0)}}class mp extends Sl{_apply(c){Gu(c,"orderByKey");const d=As(c._queryParams,gs);return uu(d),new mo(c._repo,c._path,d,!0)}}class cd extends Sl{_apply(c){Gu(c,"orderByPriority");const d=As(c._queryParams,ai);return uu(d),new mo(c._repo,c._path,d,!0)}}class yp extends Sl{_apply(c){Gu(c,"orderByValue");const d=As(c._queryParams,Jo);return uu(d),new mo(c._repo,c._path,d,!0)}}class Cm extends Sl{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){if(qs("equalTo",this._value,c._path,!1),c._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(c._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new hp(this._value,this._key)._apply(new rh(this._value,this._key)._apply(c))}}function Es(f,...c){let d=(0,se.m9)(f);for(const _ of c)d=_._apply(d);return d}(function Ec(f){(0,se.hu)(!wa,"__referenceConstructor has already been defined"),wa=f})(Xa),function Eu(f){(0,se.hu)(!$l,"__referenceConstructor has already been defined"),$l=f}(Xa);const Li="FIREBASE_DATABASE_EMULATOR_HOST",Bh={};let xf=!1;function sh(f,c,d,_,D){let F=_||f.options.databaseURL;void 0===F&&(f.options.projectId||qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jt("Using default host for project ",f.options.projectId),F=`${f.options.projectId}-default-rtdb.firebaseio.com`);let me,Se,W=Qt(F,D),re=W.repoInfo;typeof process<"u"&&process.env&&(Se=process.env[Li]),Se?(me=!0,F=`http://${Se}?ns=${re.namespace}`,W=Qt(F,D),re=W.repoInfo):me=!W.repoInfo.secure;const pt=D&&me?new cr(cr.OWNER):new ir(f.name,f.options,c);rs("Invalid Firebase Database URL",W),Un(W.path)||qn("Database URL must point to the root of a Firebase Database (not including a child path).");const It=function Sc(f,c,d,_){let D=Bh[c.name];D||(D={},Bh[c.name]=D);let F=D[f.toURLString()];return F&&qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),F=new Ue(f,xf,d,_),D[f.toURLString()]=F,F}(re,f,pt,new as(f.name,d));return new Mf(It,f)}class Mf{constructor(c,d){this._repoInternal=c,this.app=d,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ht(f,c,d){if(f.stats_=Pe(f.repoInfo_),f.forceRestClient_||Hi())f.server_=new Ls(f.repoInfo_,(_,D,F,W)=>{An(f,_,D,F,W)},f.authTokenProvider_,f.appCheckProvider_),setTimeout(()=>_r(f,!0),0);else{if(typeof d<"u"&&null!==d){if("object"!=typeof d)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,se.Wl)(d)}catch(_){throw new Error("Invalid authOverride provided: "+_)}}f.persistentConnection_=new wo(f.repoInfo_,c,(_,D,F,W)=>{An(f,_,D,F,W)},_=>{_r(f,_)},_=>{!function ur(f,c){Dr(c,(d,_)=>{oo(f,d,_)})}(f,_)},f.authTokenProvider_,f.appCheckProvider_,d),f.server_=f.persistentConnection_}f.authTokenProvider_.addTokenChangeListener(_=>{f.server_.refreshAuthToken(_)}),f.appCheckProvider_.addTokenChangeListener(_=>{f.server_.refreshAppCheckToken(_.token)}),f.statsReporter_=function it(f,c){const d=f.toString();return fe[d]||(fe[d]=c()),fe[d]}(f.repoInfo_,()=>new Ps(f.stats_,f.server_)),f.infoData_=new Xs,f.infoSyncTree_=new So({startListening:(_,D,F,W)=>{let re=[];const me=f.infoData_.getNode(_._path);return me.isEmpty()||(re=A(f.infoSyncTree_,_._path,me),setTimeout(()=>{W("ok")},0)),re},stopListening:()=>{}}),oo(f,"connected",!1),f.serverSyncTree_=new So({startListening:(_,D,F,W)=>(f.server_.listen(_,F,D,(re,me)=>{const Se=W(re,me);P(f.eventQueue_,_._path,Se)}),[]),stopListening:(_,D)=>{f.server_.unlisten(_,D)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xa(this._repo,kr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Vh(f,c){const d=Bh[c];(!d||d[f.key]!==f)&&qn(`Database ${c}(${f.repoInfo_}) has already been deleted.`),Wu(f),delete d[f.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(c){null===this._rootInternal&&qn("Cannot call "+c+" on a deleted database.")}}function oh(){xo.IS_TRANSPORT_INITIALIZED&&Hn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Md(){oh(),ts.forceDisallow()}function $h(){oh(),Rr.forceDisallow(),ts.forceAllow()}function yg(f,c){jn(f,c)}const Of={".sv":"timestamp"};class Eg{constructor(c,d){this.committed=c,this.snapshot=d}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}wo.prototype.simpleListen=function(f,c){this.sendRequest("q",{p:f},c)},wo.prototype.echo=function(f,c){this.sendRequest("echo",{d:f},c)},function _g(f){kn(Be.SDK_VERSION),(0,Be._registerComponent)(new Rt.wA("database",(c,{instanceIdentifier:d})=>sh(c.getProvider("app").getImmediate(),c.getProvider("auth-internal"),c.getProvider("app-check-internal"),d),"PUBLIC").setMultipleInstances(!0)),(0,Be.registerVersion)($t,"0.14.4",f),(0,Be.registerVersion)($t,"0.14.4","esm2017")}();const Tg=new Kt.Yd("@firebase/database-compat"),oi=function(f){Tg.warn("FIREBASE WARNING: "+f)};class dd{constructor(c){this._delegate=c}cancel(c){(0,se.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,se.Wj)("OnDisconnect.cancel","onComplete",c,!0);const d=this._delegate.cancel();return c&&d.then(()=>c(null),_=>c(_)),d}remove(c){(0,se.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,se.Wj)("OnDisconnect.remove","onComplete",c,!0);const d=this._delegate.remove();return c&&d.then(()=>c(null),_=>c(_)),d}set(c,d){(0,se.Dv)("OnDisconnect.set",1,2,arguments.length),(0,se.Wj)("OnDisconnect.set","onComplete",d,!0);const _=this._delegate.set(c);return d&&_.then(()=>d(null),D=>d(D)),_}setWithPriority(c,d,_){(0,se.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,se.Wj)("OnDisconnect.setWithPriority","onComplete",_,!0);const D=this._delegate.setWithPriority(c,d);return _&&D.then(()=>_(null),F=>_(F)),D}update(c,d){if((0,se.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(c)){const D={};for(let F=0;F<c.length;++F)D[""+F]=c[F];c=D,oi("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,se.Wj)("OnDisconnect.update","onComplete",d,!0);const _=this._delegate.update(c);return d&&_.then(()=>d(null),D=>d(D)),_}}class qu{constructor(c,d){this.committed=c,this.snapshot=d}toJSON(){return(0,se.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ic{constructor(c,d){this._database=c,this._delegate=d}val(){return(0,se.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,se.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,se.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,se.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(c){return(0,se.Dv)("DataSnapshot.child",0,1,arguments.length),c=String(c),Ho("DataSnapshot.child","path",c,!1),new ic(this._database,this._delegate.child(c))}hasChild(c){return(0,se.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ho("DataSnapshot.hasChild","path",c,!1),this._delegate.hasChild(c)}getPriority(){return(0,se.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(c){return(0,se.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,se.Wj)("DataSnapshot.forEach","action",c,!1),this._delegate.forEach(d=>c(new ic(this._database,d)))}hasChildren(){return(0,se.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,se.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,se.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ja(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Sa{constructor(c,d){this.database=c,this._delegate=d}on(c,d,_,D){var F;(0,se.Dv)("Query.on",2,4,arguments.length),(0,se.Wj)("Query.on","callback",d,!1);const W=Sa.getCancelAndContextArgs_("Query.on",_,D),re=(Se,pt)=>{d.call(W.context,new ic(this.database,Se),pt)};re.userCallback=d,re.context=W.context;const me=null===(F=W.cancel)||void 0===F?void 0:F.bind(W.context);switch(c){case"value":return th(this._delegate,re,me),d;case"child_added":return Ku(this._delegate,re,me),d;case"child_removed":return Sd(this._delegate,re,me),d;case"child_changed":return Hc(this._delegate,re,me),d;case"child_moved":return cu(this._delegate,re,me),d;default:throw new Error((0,se.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(c,d,_){if((0,se.Dv)("Query.off",0,3,arguments.length),function(f,c,d){if(void 0!==c)switch(c){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,se.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,c),(0,se.Wj)("Query.off","callback",d,!0),(0,se.lb)("Query.off","context",_,!0),d){const D=()=>{};D.userCallback=d,D.context=_,nh(this._delegate,c,D)}else nh(this._delegate,c)}get(){return mg(this._delegate).then(c=>new ic(this.database,c))}once(c,d,_,D){(0,se.Dv)("Query.once",1,4,arguments.length),(0,se.Wj)("Query.once","callback",d,!0);const F=Sa.getCancelAndContextArgs_("Query.once",_,D),W=new se.BH,re=(Se,pt)=>{const It=new ic(this.database,Se);d&&d.call(F.context,It,pt),W.resolve(It)};re.userCallback=d,re.context=F.context;const me=Se=>{F.cancel&&F.cancel.call(F.context,Se),W.reject(Se)};switch(c){case"value":th(this._delegate,re,me,{onlyOnce:!0});break;case"child_added":Ku(this._delegate,re,me,{onlyOnce:!0});break;case"child_removed":Sd(this._delegate,re,me,{onlyOnce:!0});break;case"child_changed":Hc(this._delegate,re,me,{onlyOnce:!0});break;case"child_moved":cu(this._delegate,re,me,{onlyOnce:!0});break;default:throw new Error((0,se.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return W.promise}limitToFirst(c){return(0,se.Dv)("Query.limitToFirst",1,1,arguments.length),new Sa(this.database,Es(this._delegate,function Af(f){if("number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new fp(f)}(c)))}limitToLast(c){return(0,se.Dv)("Query.limitToLast",1,1,arguments.length),new Sa(this.database,Es(this._delegate,function Dc(f){if("number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new xd(f)}(c)))}orderByChild(c){return(0,se.Dv)("Query.orderByChild",1,1,arguments.length),new Sa(this.database,Es(this._delegate,function gp(f){if("$key"===f)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===f)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===f)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ho("orderByChild","path",f,!1),new pp(f)}(c)))}orderByKey(){return(0,se.Dv)("Query.orderByKey",0,0,arguments.length),new Sa(this.database,Es(this._delegate,function du(){return new mp}()))}orderByPriority(){return(0,se.Dv)("Query.orderByPriority",0,0,arguments.length),new Sa(this.database,Es(this._delegate,function Rf(){return new cd}()))}orderByValue(){return(0,se.Dv)("Query.orderByValue",0,0,arguments.length),new Sa(this.database,Es(this._delegate,function _p(){return new yp}()))}startAt(c=null,d){return(0,se.Dv)("Query.startAt",0,2,arguments.length),new Sa(this.database,Es(this._delegate,function ih(f=null,c){return Du("startAt","key",c,!0),new rh(f,c)}(c,d)))}startAfter(c=null,d){return(0,se.Dv)("Query.startAfter",0,2,arguments.length),new Sa(this.database,Es(this._delegate,function ud(f,c){return Du("startAfter","key",c,!0),new Sf(f,c)}(c,d)))}endAt(c=null,d){return(0,se.Dv)("Query.endAt",0,2,arguments.length),new Sa(this.database,Es(this._delegate,function Ad(f,c){return Du("endAt","key",c,!0),new hp(f,c)}(c,d)))}endBefore(c=null,d){return(0,se.Dv)("Query.endBefore",0,2,arguments.length),new Sa(this.database,Es(this._delegate,function Rd(f,c){return Du("endBefore","key",c,!0),new $s(f,c)}(c,d)))}equalTo(c,d){return(0,se.Dv)("Query.equalTo",1,2,arguments.length),new Sa(this.database,Es(this._delegate,function Dm(f,c){return Du("equalTo","key",c,!0),new Cm(f,c)}(c,d)))}toString(){return(0,se.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,se.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(c){if((0,se.Dv)("Query.isEqual",1,1,arguments.length),!(c instanceof Sa))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(c._delegate)}static getCancelAndContextArgs_(c,d,_){const D={cancel:void 0,context:void 0};if(d&&_)D.cancel=d,(0,se.Wj)(c,"cancel",D.cancel,!0),D.context=_,(0,se.lb)(c,"context",D.context,!0);else if(d)if("object"==typeof d&&null!==d)D.context=d;else{if("function"!=typeof d)throw new Error((0,se.gK)(c,"cancelOrContext")+" must either be a cancel callback or a context object.");D.cancel=d}return D}get ref(){return new Ja(this.database,new Xa(this._delegate._repo,this._delegate._path))}}class Ja extends Sa{constructor(c,d){super(c,new mo(d._repo,d._path,new Oo,!1)),this.database=c,this._delegate=d}getKey(){return(0,se.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(c){return(0,se.Dv)("Reference.child",1,1,arguments.length),"number"==typeof c&&(c=String(c)),new Ja(this.database,vr(this._delegate,c))}getParent(){(0,se.Dv)("Reference.parent",0,0,arguments.length);const c=this._delegate.parent;return c?new Ja(this.database,c):null}getRoot(){return(0,se.Dv)("Reference.root",0,0,arguments.length),new Ja(this.database,this._delegate.root)}set(c,d){(0,se.Dv)("Reference.set",1,2,arguments.length),(0,se.Wj)("Reference.set","onComplete",d,!0);const _=bd(this._delegate,c);return d&&_.then(()=>d(null),D=>d(D)),_}update(c,d){if((0,se.Dv)("Reference.update",1,2,arguments.length),Array.isArray(c)){const D={};for(let F=0;F<c.length;++F)D[""+F]=c[F];c=D,oi("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}qa("Reference.update",this._delegate._path),(0,se.Wj)("Reference.update","onComplete",d,!0);const _=dp(this._delegate,c);return d&&_.then(()=>d(null),D=>d(D)),_}setWithPriority(c,d,_){(0,se.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,se.Wj)("Reference.setWithPriority","onComplete",_,!0);const D=function bm(f,c,d){if(qa("setWithPriority",f._path),qs("setWithPriority",c,f._path,!1),zl("setWithPriority",d,!1),".length"===f.key||".keys"===f.key)throw"setWithPriority failed: "+f.key+" is a read-only object.";const _=new se.BH;return wc(f._repo,f._path,c,d,_.wrapCallback(()=>{})),_.promise}(this._delegate,c,d);return _&&D.then(()=>_(null),F=>_(F)),D}remove(c){(0,se.Dv)("Reference.remove",0,1,arguments.length),(0,se.Wj)("Reference.remove","onComplete",c,!0);const d=function Uh(f){return qa("remove",f._path),bd(f,null)}(this._delegate);return c&&d.then(()=>c(null),_=>c(_)),d}transaction(c,d,_){(0,se.Dv)("Reference.transaction",1,3,arguments.length),(0,se.Wj)("Reference.transaction","transactionUpdate",c,!1),(0,se.Wj)("Reference.transaction","onComplete",d,!0),function(f,c,d,_){if(void 0!==d&&"boolean"!=typeof d)throw new Error((0,se.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,_);const D=function wg(f,c,d){var _;if(f=(0,se.m9)(f),qa("Reference.transaction",f._path),".length"===f.key||".keys"===f.key)throw"Reference.transaction failed: "+f.key+" is a read-only object.";const D=null===(_=d?.applyLocally)||void 0===_||_,F=new se.BH,re=th(f,()=>{});return function Jd(f,c,d,_,D,F){ul(f,"transaction on "+c);const W={path:c,update:d,onComplete:_,status:null,order:Le(),applyLocally:F,retryCount:0,unwatcher:D,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},re=lu(f,c,void 0);W.currentInputSnapshot=re;const me=W.update(re.val());if(void 0===me)W.unwatcher(),W.currentOutputSnapshotRaw=null,W.currentOutputSnapshotResolved=null,W.onComplete&&W.onComplete(null,!1,W.currentInputSnapshot);else{Ka("transaction failed: Data returned ",me,W.path),W.status=0;const Se=Iu(f.transactionQueueTree_,c),pt=Wa(Se)||[];let It;pt.push(W),Ta(Se,pt),"object"==typeof me&&null!==me&&(0,se.r3)(me,".priority")?(It=(0,se.DV)(me,".priority"),(0,se.hu)(Cu(It),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):It=(Yt(f.serverSyncTree_,c)||Bn.EMPTY_NODE).getPriority().val();const Tt=Zt(f),cn=Ri(me,It),Rn=za(cn,re,Tt);W.currentOutputSnapshotRaw=cn,W.currentOutputSnapshotResolved=Rn,W.currentWriteId=Vs(f);const Ti=sl(f.serverSyncTree_,c,Rn,W.currentWriteId,W.applyLocally);P(f.eventQueue_,c,Ti),Ic(f,f.transactionQueueTree_)}}(f._repo,f._path,c,(me,Se,pt)=>{let It=null;me?F.reject(me):(It=new cl(pt,new Xa(f._repo,f._path),ai),F.resolve(new Eg(Se,It)))},re,D),F.promise}(this._delegate,c,{applyLocally:_}).then(F=>new qu(F.committed,new ic(this.database,F.snapshot)));return d&&D.then(F=>d(null,F.committed,F.snapshot),F=>d(F,!1,null)),D}setPriority(c,d){(0,se.Dv)("Reference.setPriority",1,2,arguments.length),(0,se.Wj)("Reference.setPriority","onComplete",d,!0);const _=function Cd(f,c){f=(0,se.m9)(f),qa("setPriority",f._path),zl("setPriority",c,!1);const d=new se.BH;return wc(f._repo,hi(f._path,".priority"),c,null,d.wrapCallback(()=>{})),d.promise}(this._delegate,c);return d&&_.then(()=>d(null),D=>d(D)),_}push(c,d){(0,se.Dv)("Reference.push",0,2,arguments.length),(0,se.Wj)("Reference.push","onComplete",d,!0);const _=function ld(f,c){f=(0,se.m9)(f),qa("push",f._path),qs("push",c,f._path,!0);const d=ln(f._repo),_=jr(d),D=vr(f,_),F=vr(f,_);let W;return W=null!=c?bd(F,c).then(()=>F):Promise.resolve(F),D.then=W.then.bind(W),D.catch=W.then.bind(W,void 0),D}(this._delegate,c),D=_.then(W=>new Ja(this.database,W));d&&D.then(()=>d(null),W=>d(W));const F=new Ja(this.database,_);return F.then=D.then.bind(D),F.catch=D.catch.bind(D,void 0),F}onDisconnect(){return qa("Reference.onDisconnect",this._delegate._path),new dd(new Qa(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Od{constructor(c,d){this._delegate=c,this.app=d,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Md,forceLongPolling:$h}}useEmulator(c,d,_={}){!function jh(f,c,d,_={}){(f=(0,se.m9)(f))._checkNotDeleted("useEmulator"),f._instanceStarted&&qn("Cannot call useEmulator() after instance has already been initialized.");const D=f._repoInternal;let F;if(D.repoInfo_.nodeAdmin)_.mockUserToken&&qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),F=new cr(cr.OWNER);else if(_.mockUserToken){const W="string"==typeof _.mockUserToken?_.mockUserToken:(0,se.Sg)(_.mockUserToken,f.app.options.projectId);F=new cr(W)}!function Pf(f,c,d,_){f.repoInfo_=new de(`${c}:${d}`,!1,f.repoInfo_.namespace,f.repoInfo_.webSocketOnly,f.repoInfo_.nodeAdmin,f.repoInfo_.persistenceKey,f.repoInfo_.includeNamespaceInQueryParams,!0),_&&(f.authTokenProvider_=_)}(D,c,d,F)}(this._delegate,c,d,_)}ref(c){if((0,se.Dv)("database.ref",0,1,arguments.length),c instanceof Ja){const d=jc(this._delegate,c.toString());return new Ja(this,d)}{const d=ad(this._delegate,c);return new Ja(this,d)}}refFromURL(c){(0,se.Dv)("database.refFromURL",1,1,arguments.length);const _=jc(this._delegate,c);return new Ja(this,_)}goOffline(){return(0,se.Dv)("database.goOffline",0,0,arguments.length),function Hh(f){(f=(0,se.m9)(f))._checkNotDeleted("goOffline"),Wu(f._repo)}(this._delegate)}goOnline(){return(0,se.Dv)("database.goOnline",0,0,arguments.length),function zh(f){(f=(0,se.m9)(f))._checkNotDeleted("goOnline"),function Vc(f){f.persistentConnection_&&f.persistentConnection_.resume(he)}(f._repo)}(this._delegate)}}Od.ServerValue={TIMESTAMP:function vp(){return Of}(),increment:f=>function vg(f){return{".sv":{increment:f}}}(f)};var bg=Object.freeze({__proto__:null,initStandalone:function Lf({app:f,url:c,version:d,customAuthImpl:_,namespace:D,nodeAdmin:F=!1}){kn(d);const W=new Rt.zt("auth-internal",new Rt.H0("database-standalone"));return W.setComponent(new Rt.wA("auth-internal",()=>_,"PRIVATE")),{instance:new Od(sh(f,W,void 0,c,F),f),namespace:D}}});const Sm=Od.ServerValue;!function lh(f){f.INTERNAL.registerComponent(new Rt.wA("database-compat",(c,{instanceIdentifier:d})=>{const _=c.getProvider("app-compat").getImmediate(),D=c.getProvider("database").getImmediate({identifier:d});return new Od(D,_)},"PUBLIC").setServiceProps({Reference:Ja,Query:Sa,Database:Od,DataSnapshot:ic,enableLogging:yg,INTERNAL:bg,ServerValue:Sm}).setMultipleInstances(!0)),f.registerVersion("@firebase/database-compat","0.3.4")}(dt.Z);var Wl=q(1205),zc=q(2313),Gh=q(9260);function qh(f){return null==f}function Zh(f){return"function"==typeof f.set}function Rs(f,c){return Zh(c)?c:f.ref(c)}function fs(f,c){if(function uh(f){return"string"==typeof f}(f))return c.stringCase();if(Zh(f))return c.firebaseCase();if(function Kh(f){return"function"==typeof f.exportVal}(f))return c.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof f)}function hd(f,c,d="on",_=ee.z){return new $.y(D=>{let F=null;return F=f[d](c,(W,re)=>{_.schedule(()=>{D.next({snapshot:W,prevKey:re})}),"once"===d&&_.schedule(()=>D.complete())},W=>{_.schedule(()=>D.error(W))}),"on"===d?{unsubscribe(){null!=F&&f.off(c,F)}}:{unsubscribe(){}}}).pipe((0,Ke.U)(D=>{const{snapshot:F,prevKey:W}=D;let re=null;return F.exists()&&(re=F.key),{type:c,payload:F,prevKey:W,key:re}}),(0,qe.B)())}function sc(f,c){const d=f.length;for(let _=0;_<d;_++)if(f[_].payload.key===c)return _;return-1}function Yh(f,c){const{payload:d,prevKey:_,key:D}=c,F=sc(f,D),W=function Ac(f,c){if(qh(c))return 0;{const d=sc(f,c);return-1===d?f.length:d+1}}(f,_);switch(c.type){case"value":if(c.payload&&c.payload.exists()){let re=null;c.payload.forEach(me=>{const Se={payload:me,type:"value",prevKey:re,key:me.key};return re=me.key,f=[...f,Se],!1})}return f;case"child_added":if(F>-1){const re=f[F-1];(re&&re.key||null)!==_&&(f=f.filter(me=>me.payload.key!==d.key)).splice(W,0,c)}else{if(null==_)return[c,...f];(f=f.slice()).splice(W,0,c)}return f;case"child_removed":return f.filter(re=>re.payload.key!==d.key);case"child_changed":return f.map(re=>re.payload.key===D?c:re);case"child_moved":if(F>-1){const re=f.splice(F,1)[0];return(f=f.slice()).splice(W,0,re),f}return f;default:return f}}function Qh(f){return(qh(f)||0===f.length)&&(f=["child_added","child_removed","child_changed","child_moved"]),f}function oc(f,c,d){return function kd(f,c,d){return hd(f,"value","once",d).pipe((0,Ie.w)(_=>{const D=[(0,Me.of)(_)];return c.forEach(F=>D.push(hd(f,F,"on",d))),(0,xe.T)(...D).pipe((0,Ye.R)(Yh,[]))}),function ft(f,c=ge.y){return f=f??wt,(0,Te.e)((d,_)=>{let D,F=!0;d.subscribe((0,Ne.x)(_,W=>{const re=c(W);(F||!f(D,re))&&(F=!1,D=re,_.next(W))}))})}())}(f,c=Qh(c),d)}function xu(f,c,d){const _=(c=Qh(c)).map(D=>hd(f,D,"on",d));return(0,xe.T)(..._)}function Wc(f,c){return function(_,D){return fs(_,{stringCase:()=>f.child(_)[c](D),firebaseCase:()=>_[c](D),snapshotCase:()=>_.ref[c](D)})}}function Pu(f){return function(d){return d?fs(d,{stringCase:()=>f.child(d).remove(),firebaseCase:()=>d.remove(),snapshotCase:()=>d.ref.remove()}):f.remove()}}function ac(f,c){return function(){return hd(f,"value","on",c)}}const Kc=new R.OlP("angularfire2.realtimeDatabaseURL"),dh=new R.OlP("angularfire2.database.use-emulator");let fd=(()=>{class f{constructor(d,_,D,F,W,re,me,Se,pt,It,Tt,cn,Rn,Ti,ta){this.schedulers=re;const Al=me,lc=(0,Ze.on)(d,W,_);Se&&(0,Wl.nw)(lc,W,pt,Tt,cn,Rn,It,Ti),this.database=(0,Ze.cc)(`${lc.name}.database.${D}`,"AngularFireDatabase",lc.name,()=>{const uc=W.runOutsideAngular(()=>lc.database(D||void 0));return Al&&uc.useEmulator(...Al),uc},[Al])}list(d,_){const D=this.schedulers.ngZone.runOutsideAngular(()=>Rs(this.database,d));let F=D;return _&&(F=_(D)),function Gl(f,c){const d=c.schedulers.outsideAngular,_=c.schedulers.ngZone.run(()=>f.ref);return{query:f,update:Wc(_,"update"),set:Wc(_,"set"),push:D=>_.push(D),remove:Pu(_),snapshotChanges:D=>oc(f,D,d).pipe(mt.iC),stateChanges:D=>xu(f,D,d).pipe(mt.iC),auditTrail:D=>function Ld(f,c,d){return function Ff(f,c,d){return function ch(f,c){return hd(f,"value","on",c).pipe((0,Ke.U)(d=>{let _;return d.payload.forEach(D=>(_=D.key,!1)),{data:d,lastKeyToLoad:_}}))}(f,d).pipe(function ut(...f){const c=(0,lt.jO)(f);return(0,Te.e)((d,_)=>{const D=f.length,F=new Array(D);let W=f.map(()=>!1),re=!1;for(let me=0;me<D;me++)(0,Ot.Xf)(f[me]).subscribe((0,Ne.x)(_,Se=>{F[me]=Se,!re&&!W[me]&&(W[me]=!0,(re=W.every(ge.y))&&(W=null))},Xt.Z));d.subscribe((0,Ne.x)(_,me=>{if(re){const Se=[me,...F];_.next(c?c(...Se):Se)}}))})}(c),(0,Ke.U)(([D,F])=>{const W=D.lastKeyToLoad,re=F.map(me=>me.key);return{actions:F,lastKeyToLoad:W,loadedKeys:re}}),function At(f){return(0,Te.e)((c,d)=>{let _=!1,D=0;c.subscribe((0,Ne.x)(d,F=>(_||(_=!f(F,D++)))&&d.next(F)))})}(D=>-1===D.loadedKeys.indexOf(D.lastKeyToLoad)),(0,Ke.U)(D=>D.actions))}(f,xu(f,c).pipe((0,Ye.R)((D,F)=>[...D,F],[])),d)}(f,D,d).pipe(mt.iC),valueChanges:(D,F)=>oc(f,D,d).pipe((0,Ke.U)(re=>re.map(me=>F&&F.idField?Object.assign(Object.assign({},me.payload.val()),{[F.idField]:me.key}):me.payload.val())),mt.iC)}}(F,this)}object(d){return function Gc(f,c){return{query:f,snapshotChanges:()=>ac(f,c.schedulers.outsideAngular)().pipe(mt.iC),update:d=>f.ref.update(d),set:d=>f.ref.set(d),remove:()=>f.ref.remove(),valueChanges:()=>ac(f,c.schedulers.outsideAngular)().pipe(mt.iC,(0,Ke.U)(_=>_.payload.exists()?_.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Rs(this.database,d)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return f.\u0275fac=function(d){return new(d||f)(R.LFG(Ze.Dh),R.LFG(Ze.xv,8),R.LFG(Kc,8),R.LFG(R.Lbi),R.LFG(R.R0b),R.LFG(mt.HU),R.LFG(dh,8),R.LFG(Wl.zQ,8),R.LFG(Wl.Qv,8),R.LFG(Wl.L6,8),R.LFG(Wl._Q,8),R.LFG(Wl.rT,8),R.LFG(Wl.lh,8),R.LFG(Wl.f7,8),R.LFG(zc.nm,8))},f.\u0275prov=R.Yz7({token:f,factory:f.\u0275fac,providedIn:"any"}),f})(),Mu=(()=>{class f{constructor(){Gh.Z.registerVersion("angularfire",mt.q4.full,"rtdb-compat")}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275mod=R.oAB({type:f}),f.\u0275inj=R.cJS({providers:[fd]}),f})()},2011:(_n,at,q)=>{q.d(at,{Dh:()=>Ie,GT:()=>Ke,cc:()=>wt,hO:()=>ft,on:()=>ge,pX:()=>xe,xv:()=>Ye});var R=q(4650),ee=q(9260),$=q(4976);_n=q.hmd(_n);const Me=["ngOnDestroy"],xe=(ut,At,mt,Ze={})=>new Proxy(ut,{get:(Oe,dt)=>mt.runOutsideAngular(()=>{var Rt;if(ut[dt])return!(null===(Rt=Ze?.spy)||void 0===Rt)&&Rt.get&&Ze.spy.get(dt,ut[dt]),ut[dt];if(Me.indexOf(dt)>-1)return()=>{};const _t=At.toPromise().then(Be=>{const se=Be&&Be[dt];return"function"==typeof se?se.bind(Be):se&&se.then?se.then(Kt=>mt.run(()=>Kt)):mt.run(()=>se)});return new Proxy(()=>{},{get:(Be,se)=>_t[se],apply:(Be,se,Kt)=>_t.then($t=>{var hn;const jt=$t&&$t(...Kt);return!(null===(hn=Ze?.spy)||void 0===hn)&&hn.apply&&Ze.spy.apply(dt,Kt,jt),jt})})})}),Ke=(ut,At)=>{At.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(Ze=>{Object.defineProperty(ut.prototype,Ze,Object.getOwnPropertyDescriptor(mt.prototype||mt,Ze))})})};class qe{constructor(At){return At}}const Ie=new R.OlP("angularfire2.app.options"),Ye=new R.OlP("angularfire2.app.name");function ge(ut,At,mt){const Oe="object"==typeof mt&&mt||{};Oe.name=Oe.name||"string"==typeof mt&&mt||"[DEFAULT]";const Rt=ee.Z.apps.filter(_t=>_t&&_t.name===Oe.name)[0]||At.runOutsideAngular(()=>ee.Z.initializeApp(ut,Oe));try{JSON.stringify(ut)!==JSON.stringify(Rt.options)&&Te("error",`${Rt.name} Firebase App already initialized with different options${_n.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new qe(Rt)}const Te=(ut,...At)=>{(0,R.X6Q)()&&typeof console<"u"&&console[ut](...At)},Ne={provide:qe,useFactory:ge,deps:[Ie,R.R0b,[new R.FiY,Ye]]};let ft=(()=>{class ut{constructor(mt){ee.Z.registerVersion("angularfire",$.q4.full,"core"),ee.Z.registerVersion("angularfire",$.q4.full,"app-compat"),ee.Z.registerVersion("angular",R.q4F.full,mt.toString())}static initializeApp(mt,Ze){return{ngModule:ut,providers:[{provide:Ie,useValue:mt},{provide:Ye,useValue:Ze}]}}}return ut.\u0275fac=function(mt){return new(mt||ut)(R.LFG(R.Lbi))},ut.\u0275mod=R.oAB({type:ut}),ut.\u0275inj=R.cJS({providers:[Ne]}),ut})();function wt(ut,At,mt,Ze,Oe){const[,dt,Rt]=globalThis.\u0275AngularfireInstanceCache.find(_t=>_t[0]===ut)||[];if(dt)return function Ot(ut,At){try{return ut.toString()===At.toString()}catch{return ut===At}}(Oe,Rt)||(lt("error",`${At} was already initialized on the ${mt} Firebase App with different settings.${Xt?" You may need to reload as Firebase is not HMR aware.":""}`),lt("warn",{is:Oe,was:Rt})),dt;{const _t=Ze();return globalThis.\u0275AngularfireInstanceCache.push([ut,_t,Oe]),_t}}const Xt=!!_n.hot,lt=(ut,...At)=>{(0,R.X6Q)()&&typeof console<"u"&&console[ut](...At)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(_n,at,q)=>{q.d(at,{q4:()=>po,iC:()=>rs,fc:()=>Bs,HU:()=>nc,vb:()=>Cu,JM:()=>bu,u3:()=>al});var R=q(4650),ee=q(259),$=q(5861),Me=q(6881),xe=q(2090),Ke=q(4859),qe=q(1877);const Ie=(P,U)=>U.some(Y=>P instanceof Y);let Ye,ge;const ft=new WeakMap,wt=new WeakMap,Ot=new WeakMap,Xt=new WeakMap,lt=new WeakMap;let mt={get(P,U,Y){if(P instanceof IDBTransaction){if("done"===U)return wt.get(P);if("objectStoreNames"===U)return P.objectStoreNames||Ot.get(P);if("store"===U)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return Rt(P[U])},set:(P,U,Y)=>(P[U]=Y,!0),has:(P,U)=>P instanceof IDBTransaction&&("done"===U||"store"===U)||U in P};function dt(P){return"function"==typeof P?function Oe(P){return P!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ne(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(P)?function(...U){return P.apply(_t(this),U),Rt(ft.get(this))}:function(...U){return Rt(P.apply(_t(this),U))}:function(U,...Y){const he=P.call(_t(this),U,...Y);return Ot.set(he,U.sort?U.sort():[U]),Rt(he)}}(P):(P instanceof IDBTransaction&&function At(P){if(wt.has(P))return;const U=new Promise((Y,he)=>{const be=()=>{P.removeEventListener("complete",Ue),P.removeEventListener("error",ht),P.removeEventListener("abort",ht)},Ue=()=>{Y(),be()},ht=()=>{he(P.error||new DOMException("AbortError","AbortError")),be()};P.addEventListener("complete",Ue),P.addEventListener("error",ht),P.addEventListener("abort",ht)});wt.set(P,U)}(P),Ie(P,function Te(){return Ye||(Ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(P,mt):P)}function Rt(P){if(P instanceof IDBRequest)return function ut(P){const U=new Promise((Y,he)=>{const be=()=>{P.removeEventListener("success",Ue),P.removeEventListener("error",ht)},Ue=()=>{Y(Rt(P.result)),be()},ht=()=>{he(P.error),be()};P.addEventListener("success",Ue),P.addEventListener("error",ht)});return U.then(Y=>{Y instanceof IDBCursor&&ft.set(Y,P)}).catch(()=>{}),lt.set(U,P),U}(P);if(Xt.has(P))return Xt.get(P);const U=dt(P);return U!==P&&(Xt.set(P,U),lt.set(U,P)),U}const _t=P=>lt.get(P),Kt=["get","getKey","getAll","getAllKeys","count"],$t=["put","add","delete","clear"],hn=new Map;function jt(P,U){if(!(P instanceof IDBDatabase)||U in P||"string"!=typeof U)return;if(hn.get(U))return hn.get(U);const Y=U.replace(/FromIndex$/,""),he=U!==Y,be=$t.includes(Y);if(!(Y in(he?IDBIndex:IDBObjectStore).prototype)||!be&&!Kt.includes(Y))return;const Ue=function(){var ht=(0,$.Z)(function*(ln,...Zt){const An=this.transaction(ln,be?"readwrite":"readonly");let _r=An.store;return he&&(_r=_r.index(Zt.shift())),(yield Promise.all([_r[Y](...Zt),be&&An.done]))[0]});return function(Zt){return ht.apply(this,arguments)}}();return hn.set(U,Ue),Ue}!function Ze(P){mt=P(mt)}(P=>({...P,get:(U,Y,he)=>jt(U,Y)||P.get(U,Y,he),has:(U,Y)=>!!jt(U,Y)||P.has(U,Y)}));const kn="@firebase/installations",zr="0.6.4",Sn=1e4,pr=`w:${zr}`,ze="FIS_v2",Ve="https://firebaseinstallations.googleapis.com/v1",Qe=36e5,Ft=new xe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rn(P){return P instanceof xe.ZR&&P.code.includes("request-failed")}function jn({projectId:P}){return`${Ve}/projects/${P}/installations`}function Jt(P){return{token:P.token,requestStatus:2,expiresIn:Or(P.expiresIn),creationTime:Date.now()}}function nr(P,U){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,$.Z)(function*(P,U){const he=(yield U.json()).error;return Ft.create("request-failed",{requestName:P,serverCode:he.code,serverMessage:he.message,serverStatus:he.status})})).apply(this,arguments)}function qn({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function Ar(P){return nn.apply(this,arguments)}function nn(){return(nn=(0,$.Z)(function*(P){const U=yield P();return U.status>=500&&U.status<600?P():U})).apply(this,arguments)}function Or(P){return Number(P.replace("s","000"))}function Ht(){return(Ht=(0,$.Z)(function*({appConfig:P,heartbeatServiceProvider:U},{fid:Y}){const he=jn(P),be=qn(P),Ue=U.getImmediate({optional:!0});if(Ue){const An=yield Ue.getHeartbeatsHeader();An&&be.append("x-firebase-client",An)}const ln={method:"POST",headers:be,body:JSON.stringify({fid:Y,authVersion:ze,appId:P.appId,sdkVersion:pr})},Zt=yield Ar(()=>fetch(he,ln));if(Zt.ok){const An=yield Zt.json();return{fid:An.fid||Y,registrationStatus:2,refreshToken:An.refreshToken,authToken:Jt(An.authToken)}}throw yield nr("Create Installation",Zt)})).apply(this,arguments)}function Zn(P){return new Promise(U=>{setTimeout(U,P)})}const Er=/^[cdef][\w-]{21}$/,Ur="";function Dr(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const Y=function gr(P){return function Cr(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return Er.test(Y)?Y:Ur}catch{return Ur}}function gn(P){return`${P.appName}!${P.appId}`}const tn=new Map;function Pn(P,U){const Y=gn(P);ei(Y,U),function Fi(P,U){const Y=function Hi(){return!ti&&"BroadcastChannel"in self&&(ti=new BroadcastChannel("[Firebase] FID Change"),ti.onmessage=P=>{ei(P.data.key,P.data.fid)}),ti}();Y&&Y.postMessage({key:P,fid:U}),function Vn(){0===tn.size&&ti&&(ti.close(),ti=null)}()}(Y,U)}function ei(P,U){const Y=tn.get(P);if(Y)for(const he of Y)he(U)}let ti=null;const as="firebase-installations-database",ir=1,cr="firebase-installations-store";let kt=null;function ii(){return kt||(kt=function Be(P,U,{blocked:Y,upgrade:he,blocking:be,terminated:Ue}={}){const ht=indexedDB.open(P,U),ln=Rt(ht);return he&&ht.addEventListener("upgradeneeded",Zt=>{he(Rt(ht.result),Zt.oldVersion,Zt.newVersion,Rt(ht.transaction))}),Y&&ht.addEventListener("blocked",()=>Y()),ln.then(Zt=>{Ue&&Zt.addEventListener("close",()=>Ue()),be&&Zt.addEventListener("versionchange",()=>be())}).catch(()=>{}),ln}(as,ir,{upgrade:(P,U)=>{0===U&&P.createObjectStore(cr)}})),kt}function pi(P,U){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,$.Z)(function*(P,U){const Y=gn(P),be=(yield ii()).transaction(cr,"readwrite"),Ue=be.objectStore(cr),ht=yield Ue.get(Y);return yield Ue.put(U,Y),yield be.done,(!ht||ht.fid!==U.fid)&&Pn(P,U.fid),U})).apply(this,arguments)}function Ui(P){return zi.apply(this,arguments)}function zi(){return(zi=(0,$.Z)(function*(P){const U=gn(P),he=(yield ii()).transaction(cr,"readwrite");yield he.objectStore(cr).delete(U),yield he.done})).apply(this,arguments)}function Wi(P,U){return es.apply(this,arguments)}function es(){return(es=(0,$.Z)(function*(P,U){const Y=gn(P),be=(yield ii()).transaction(cr,"readwrite"),Ue=be.objectStore(cr),ht=yield Ue.get(Y),ln=U(ht);return void 0===ln?yield Ue.delete(Y):yield Ue.put(ln,Y),yield be.done,ln&&(!ht||ht.fid!==ln.fid)&&Pn(P,ln.fid),ln})).apply(this,arguments)}function De(P){return we.apply(this,arguments)}function we(){return we=(0,$.Z)(function*(P){let U;const Y=yield Wi(P.appConfig,he=>{const be=function ae(P){return Pe(P||{fid:Dr(),registrationStatus:0})}(he),Ue=function de(P,U){if(0===U.registrationStatus){if(!navigator.onLine)return{installationEntry:U,registrationPromise:Promise.reject(Ft.create("app-offline"))};const Y={fid:U.fid,registrationStatus:1,registrationTime:Date.now()},he=function ne(P,U){return Re.apply(this,arguments)}(P,Y);return{installationEntry:Y,registrationPromise:he}}return 1===U.registrationStatus?{installationEntry:U,registrationPromise:ye(P)}:{installationEntry:U}}(P,be);return U=Ue.registrationPromise,Ue.installationEntry});return Y.fid===Ur?{installationEntry:yield U}:{installationEntry:Y,registrationPromise:U}}),we.apply(this,arguments)}function Re(){return Re=(0,$.Z)(function*(P,U){try{const Y=yield function Nn(P,U){return Ht.apply(this,arguments)}(P,U);return pi(P.appConfig,Y)}catch(Y){throw rn(Y)&&409===Y.customData.serverCode?yield Ui(P.appConfig):yield pi(P.appConfig,{fid:U.fid,registrationStatus:0}),Y}}),Re.apply(this,arguments)}function ye(P){return _e.apply(this,arguments)}function _e(){return(_e=(0,$.Z)(function*(P){let U=yield fe(P.appConfig);for(;1===U.registrationStatus;)yield Zn(100),U=yield fe(P.appConfig);if(0===U.registrationStatus){const{installationEntry:Y,registrationPromise:he}=yield De(P);return he||Y}return U})).apply(this,arguments)}function fe(P){return Wi(P,U=>{if(!U)throw Ft.create("installation-not-found");return Pe(U)})}function Pe(P){return function it(P){return 1===P.registrationStatus&&P.registrationTime+Sn<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function fn(){return(fn=(0,$.Z)(function*({appConfig:P,heartbeatServiceProvider:U},Y){const he=function bn(P,{fid:U}){return`${jn(P)}/${U}/authTokens:generate`}(P,Y),be=function Hn(P,{refreshToken:U}){const Y=qn(P);return Y.append("Authorization",function Jr(P){return`${ze} ${P}`}(U)),Y}(P,Y),Ue=U.getImmediate({optional:!0});if(Ue){const An=yield Ue.getHeartbeatsHeader();An&&be.append("x-firebase-client",An)}const ln={method:"POST",headers:be,body:JSON.stringify({installation:{sdkVersion:pr,appId:P.appId}})},Zt=yield Ar(()=>fetch(he,ln));if(Zt.ok)return Jt(yield Zt.json());throw yield nr("Generate Auth Token",Zt)})).apply(this,arguments)}function Wr(P){return xs.apply(this,arguments)}function xs(){return xs=(0,$.Z)(function*(P,U=!1){let Y;const he=yield Wi(P.appConfig,Ue=>{if(!rr(Ue))throw Ft.create("not-registered");const ht=Ue.authToken;if(!U&&function vn(P){return 2===P.requestStatus&&!function qr(P){const U=Date.now();return U<P.creationTime||P.creationTime+P.expiresIn<U+Qe}(P)}(ht))return Ue;if(1===ht.requestStatus)return Y=function ct(P,U){return Xe.apply(this,arguments)}(P,U),Ue;{if(!navigator.onLine)throw Ft.create("app-offline");const ln=function Tr(P){const U={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:U})}(Ue);return Y=function mn(P,U){return Kn.apply(this,arguments)}(P,ln),ln}});return Y?yield Y:he.authToken}),xs.apply(this,arguments)}function Xe(){return(Xe=(0,$.Z)(function*(P,U){let Y=yield Lt(P.appConfig);for(;1===Y.authToken.requestStatus;)yield Zn(100),Y=yield Lt(P.appConfig);const he=Y.authToken;return 0===he.requestStatus?Wr(P,U):he})).apply(this,arguments)}function Lt(P){return Wi(P,U=>{if(!rr(U))throw Ft.create("not-registered");return function Gi(P){return 1===P.requestStatus&&P.requestTime+Sn<Date.now()}(U.authToken)?Object.assign(Object.assign({},U),{authToken:{requestStatus:0}}):U})}function Kn(){return Kn=(0,$.Z)(function*(P,U){try{const Y=yield function xt(P,U){return fn.apply(this,arguments)}(P,U),he=Object.assign(Object.assign({},U),{authToken:Y});return yield pi(P.appConfig,he),Y}catch(Y){if(!rn(Y)||401!==Y.customData.serverCode&&404!==Y.customData.serverCode){const he=Object.assign(Object.assign({},U),{authToken:{requestStatus:0}});yield pi(P.appConfig,he)}else yield Ui(P.appConfig);throw Y}}),Kn.apply(this,arguments)}function rr(P){return void 0!==P&&2===P.registrationStatus}function Ro(){return(Ro=(0,$.Z)(function*(P){const U=P,{installationEntry:Y,registrationPromise:he}=yield De(U);return he?he.catch(console.error):Wr(U).catch(console.error),Y.fid})).apply(this,arguments)}function ts(){return ts=(0,$.Z)(function*(P,U=!1){const Y=P;return yield function Di(P){return on.apply(this,arguments)}(Y),(yield Wr(Y,U)).token}),ts.apply(this,arguments)}function on(){return(on=(0,$.Z)(function*(P){const{registrationPromise:U}=yield De(P);U&&(yield U)})).apply(this,arguments)}function ke(P){return Ft.create("missing-app-config-values",{valueName:P})}const Fe="installations",Nt=P=>{const U=P.getProvider("app").getImmediate(),Y=function je(P){if(!P||!P.options)throw ke("App Configuration");if(!P.name)throw ke("App Name");const U=["projectId","apiKey","appId"];for(const Y of U)if(!P.options[Y])throw ke(Y);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}(U);return{app:U,appConfig:Y,heartbeatServiceProvider:(0,Me._getProvider)(U,"heartbeat"),_delete:()=>Promise.resolve()}},Fn=P=>{const U=P.getProvider("app").getImmediate(),Y=(0,Me._getProvider)(U,Fe).getImmediate();return{getId:()=>function Mi(P){return Ro.apply(this,arguments)}(Y),getToken:be=>function ls(P){return ts.apply(this,arguments)}(Y,be)}};(function sr(){(0,Me._registerComponent)(new Ke.wA(Fe,Nt,"PUBLIC")),(0,Me._registerComponent)(new Ke.wA("installations-internal",Fn,"PRIVATE"))})(),(0,Me.registerVersion)(kn,zr),(0,Me.registerVersion)(kn,zr,"esm2017");const Tn="@firebase/remote-config",Ki=new xe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Qu{constructor(U,Y,he,be){this.client=U,this.storage=Y,this.storageCache=he,this.logger=be}isCachedDataFresh(U,Y){if(!Y)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const he=Date.now()-Y,be=he<=U;return this.logger.debug(`Config fetch cache check. Cache age millis: ${he}. Cache max age millis (minimumFetchIntervalMillis setting): ${U}. Is cache hit: ${be}.`),be}fetch(U){var Y=this;return(0,$.Z)(function*(){const[he,be]=yield Promise.all([Y.storage.getLastSuccessfulFetchTimestampMillis(),Y.storage.getLastSuccessfulFetchResponse()]);if(be&&Y.isCachedDataFresh(U.cacheMaxAgeMillis,he))return be;U.eTag=be&&be.eTag;const Ue=yield Y.client.fetch(U),ht=[Y.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ue.status&&ht.push(Y.storage.setLastSuccessfulFetchResponse(Ue)),yield Promise.all(ht),Ue})()}}function Zs(P=navigator){return P.languages&&P.languages[0]||P.language}class Eo{constructor(U,Y,he,be,Ue,ht){this.firebaseInstallations=U,this.sdkVersion=Y,this.namespace=he,this.projectId=be,this.apiKey=Ue,this.appId=ht}fetch(U){var Y=this;return(0,$.Z)(function*(){const[he,be]=yield Promise.all([Y.firebaseInstallations.getId(),Y.firebaseInstallations.getToken()]),ht=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Y.projectId}/namespaces/${Y.namespace}:fetch?key=${Y.apiKey}`,ln={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":U.eTag||"*"},Zt={sdk_version:Y.sdkVersion,app_instance_id:he,app_instance_id_token:be,app_id:Y.appId,language_code:Zs()},An={method:"POST",headers:ln,body:JSON.stringify(Zt)},_r=fetch(ht,An),ur=new Promise((Za,Ya)=>{U.signal.addEventListener(()=>{const od=new Error("The operation was aborted.");od.name="AbortError",Ya(od)})});let oo;try{yield Promise.race([_r,ur]),oo=yield _r}catch(Za){let Ya="fetch-client-network";throw"AbortError"===Za?.name&&(Ya="fetch-timeout"),Ki.create(Ya,{originalErrorMessage:Za?.message})}let Vs=oo.status;const zu=oo.headers.get("ETag")||void 0;let wc,Au;if(200===oo.status){let Za;try{Za=yield oo.json()}catch(Ya){throw Ki.create("fetch-client-parse",{originalErrorMessage:Ya?.message})}wc=Za.entries,Au=Za.state}if("INSTANCE_STATE_UNSPECIFIED"===Au?Vs=500:"NO_CHANGE"===Au?Vs=304:("NO_TEMPLATE"===Au||"EMPTY_CONFIG"===Au)&&(wc={}),304!==Vs&&200!==Vs)throw Ki.create("fetch-status",{httpStatus:Vs});return{status:Vs,eTag:zu,config:wc}})()}}class ml{constructor(U,Y){this.client=U,this.storage=Y}fetch(U){var Y=this;return(0,$.Z)(function*(){const he=(yield Y.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Y.attemptFetch(U,he)})()}attemptFetch(U,{throttleEndTimeMillis:Y,backoffCount:he}){var be=this;return(0,$.Z)(function*(){yield function Ml(P,U){return new Promise((Y,he)=>{const be=Math.max(U-Date.now(),0),Ue=setTimeout(Y,be);P.addEventListener(()=>{clearTimeout(Ue),he(Ki.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(U.signal,Y);try{const Ue=yield be.client.fetch(U);return yield be.storage.deleteThrottleMetadata(),Ue}catch(Ue){if(!function Yo(P){if(!(P instanceof xe.ZR&&P.customData))return!1;const U=Number(P.customData.httpStatus);return 429===U||500===U||503===U||504===U}(Ue))throw Ue;const ht={throttleEndTimeMillis:Date.now()+(0,xe.$s)(he),backoffCount:he+1};return yield be.storage.setThrottleMetadata(ht),be.attemptFetch(U,ht)}})()}}class Yl{constructor(U,Y,he,be,Ue){this.app=U,this._client=Y,this._storageCache=he,this._storage=be,this._logger=Ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function uo(P,U){const Y=P.target.error||void 0;return Ki.create(U,{originalErrorMessage:Y&&Y?.message})}const Qo="app_namespace_store";class dr{constructor(U,Y,he,be=function wo(){return new Promise((P,U)=>{try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=he=>{U(uo(he,"storage-open"))},Y.onsuccess=he=>{P(he.target.result)},Y.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore(Qo,{keyPath:"compositeKey"})}}catch(Y){U(Ki.create("storage-open",{originalErrorMessage:Y?.message}))}})}()){this.appId=U,this.appName=Y,this.namespace=he,this.openDbPromise=be}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(U){return this.set("last_fetch_status",U)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(U){return this.set("last_successful_fetch_timestamp_millis",U)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(U){return this.set("last_successful_fetch_response",U)}getActiveConfig(){return this.get("active_config")}setActiveConfig(U){return this.set("active_config",U)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(U){return this.set("active_config_etag",U)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(U){return this.set("throttle_metadata",U)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(U){var Y=this;return(0,$.Z)(function*(){const he=yield Y.openDbPromise;return new Promise((be,Ue)=>{const ln=he.transaction([Qo],"readonly").objectStore(Qo),Zt=Y.createCompositeKey(U);try{const An=ln.get(Zt);An.onerror=_r=>{Ue(uo(_r,"storage-get"))},An.onsuccess=_r=>{const ur=_r.target.result;be(ur?ur.value:void 0)}}catch(An){Ue(Ki.create("storage-get",{originalErrorMessage:An?.message}))}})})()}set(U,Y){var he=this;return(0,$.Z)(function*(){const be=yield he.openDbPromise;return new Promise((Ue,ht)=>{const Zt=be.transaction([Qo],"readwrite").objectStore(Qo),An=he.createCompositeKey(U);try{const _r=Zt.put({compositeKey:An,value:Y});_r.onerror=ur=>{ht(uo(ur,"storage-set"))},_r.onsuccess=()=>{Ue()}}catch(_r){ht(Ki.create("storage-set",{originalErrorMessage:_r?.message}))}})})()}delete(U){var Y=this;return(0,$.Z)(function*(){const he=yield Y.openDbPromise;return new Promise((be,Ue)=>{const ln=he.transaction([Qo],"readwrite").objectStore(Qo),Zt=Y.createCompositeKey(U);try{const An=ln.delete(Zt);An.onerror=_r=>{Ue(uo(_r,"storage-delete"))},An.onsuccess=()=>{be()}}catch(An){Ue(Ki.create("storage-delete",{originalErrorMessage:An?.message}))}})})()}createCompositeKey(U){return[this.appId,this.appName,this.namespace,U].join()}}class Po{constructor(U){this.storage=U}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var U=this;return(0,$.Z)(function*(){const Y=U.storage.getLastFetchStatus(),he=U.storage.getLastSuccessfulFetchTimestampMillis(),be=U.storage.getActiveConfig(),Ue=yield Y;Ue&&(U.lastFetchStatus=Ue);const ht=yield he;ht&&(U.lastSuccessfulFetchTimestampMillis=ht);const ln=yield be;ln&&(U.activeConfig=ln)})()}setLastFetchStatus(U){return this.lastFetchStatus=U,this.storage.setLastFetchStatus(U)}setLastSuccessfulFetchTimestampMillis(U){return this.lastSuccessfulFetchTimestampMillis=U,this.storage.setLastSuccessfulFetchTimestampMillis(U)}setActiveConfig(U){return this.activeConfig=U,this.storage.setActiveConfig(U)}}function Io(){return ms.apply(this,arguments)}function ms(){return(ms=(0,$.Z)(function*(){if(!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}!function Ws(){(0,Me._registerComponent)(new Ke.wA("remote-config",function P(U,{instanceIdentifier:Y}){const he=U.getProvider("app").getImmediate(),be=U.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ki.create("registration-window");if(!(0,xe.hl)())throw Ki.create("indexed-db-unavailable");const{projectId:Ue,apiKey:ht,appId:ln}=he.options;if(!Ue)throw Ki.create("registration-project-id");if(!ht)throw Ki.create("registration-api-key");if(!ln)throw Ki.create("registration-app-id");const Zt=new dr(ln,he.name,Y=Y||"firebase"),An=new Po(Zt),_r=new qe.Yd(Tn);_r.logLevel=qe.in.ERROR;const ur=new Eo(be,Me.SDK_VERSION,Y,Ue,ht,ln),oo=new ml(ur,Zt),Vs=new Qu(oo,Zt,An,_r),zu=new Yl(he,Vs,An,Zt,_r);return function ps(P){const U=(0,xe.m9)(P);U._initializePromise||(U._initializePromise=U._storageCache.loadFromStorage().then(()=>{U._isInitializationComplete=!0}))}(zu),zu},"PUBLIC").setMultipleInstances(!0)),(0,Me.registerVersion)(Tn,"0.4.4"),(0,Me.registerVersion)(Tn,"0.4.4","esm2017")}();const Ql=(P,U)=>U.some(Y=>P instanceof Y);let Vi,gu;const co=new WeakMap,ks=new WeakMap,Ni=new WeakMap,ca=new WeakMap,To=new WeakMap;let yl={get(P,U,Y){if(P instanceof IDBTransaction){if("done"===U)return ks.get(P);if("objectStoreNames"===U)return P.objectStoreNames||Ni.get(P);if("store"===U)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return Gs(P[U])},set:(P,U,Y)=>(P[U]=Y,!0),has:(P,U)=>P instanceof IDBTransaction&&("done"===U||"store"===U)||U in P};function ai(P){return"function"==typeof P?function Xu(P){return P!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ua(){return gu||(gu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(P)?function(...U){return P.apply(Ds(this),U),Gs(co.get(this))}:function(...U){return Gs(P.apply(Ds(this),U))}:function(U,...Y){const he=P.call(Ds(this),U,...Y);return Ni.set(he,U.sort?U.sort():[U]),Gs(he)}}(P):(P instanceof IDBTransaction&&function Mo(P){if(ks.has(P))return;const U=new Promise((Y,he)=>{const be=()=>{P.removeEventListener("complete",Ue),P.removeEventListener("error",ht),P.removeEventListener("abort",ht)},Ue=()=>{Y(),be()},ht=()=>{he(P.error||new DOMException("AbortError","AbortError")),be()};P.addEventListener("complete",Ue),P.addEventListener("error",ht),P.addEventListener("abort",ht)});ks.set(P,U)}(P),Ql(P,function la(){return Vi||(Vi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(P,yl):P)}function Gs(P){if(P instanceof IDBRequest)return function Ai(P){const U=new Promise((Y,he)=>{const be=()=>{P.removeEventListener("success",Ue),P.removeEventListener("error",ht)},Ue=()=>{Y(Gs(P.result)),be()},ht=()=>{he(P.error),be()};P.addEventListener("success",Ue),P.addEventListener("error",ht)});return U.then(Y=>{Y instanceof IDBCursor&&co.set(Y,P)}).catch(()=>{}),To.set(U,P),U}(P);if(ca.has(P))return ca.get(P);const U=ai(P);return U!==P&&(ca.set(P,U),To.set(U,P)),U}const Ds=P=>To.get(P);function Zr(P,U,{blocked:Y,upgrade:he,blocking:be,terminated:Ue}={}){const ht=indexedDB.open(P,U),ln=Gs(ht);return he&&ht.addEventListener("upgradeneeded",Zt=>{he(Gs(ht.result),Zt.oldVersion,Zt.newVersion,Gs(ht.transaction))}),Y&&ht.addEventListener("blocked",()=>Y()),ln.then(Zt=>{Ue&&Zt.addEventListener("close",()=>Ue()),be&&Zt.addEventListener("versionchange",()=>be())}).catch(()=>{}),ln}function bo(P,{blocked:U}={}){const Y=indexedDB.deleteDatabase(P);return U&&Y.addEventListener("blocked",()=>U()),Gs(Y).then(()=>{})}const ys=["get","getKey","getAll","getAllKeys","count"],hs=["put","add","delete","clear"],Ys=new Map;function Bn(P,U){if(!(P instanceof IDBDatabase)||U in P||"string"!=typeof U)return;if(Ys.get(U))return Ys.get(U);const Y=U.replace(/FromIndex$/,""),he=U!==Y,be=hs.includes(Y);if(!(Y in(he?IDBIndex:IDBObjectStore).prototype)||!be&&!ys.includes(Y))return;const Ue=function(){var ht=(0,$.Z)(function*(ln,...Zt){const An=this.transaction(ln,be?"readwrite":"readonly");let _r=An.store;return he&&(_r=_r.index(Zt.shift())),(yield Promise.all([_r[Y](...Zt),be&&An.done]))[0]});return function(Zt){return ht.apply(this,arguments)}}();return Ys.set(U,Ue),Ue}!function Vr(P){yl=P(yl)}(P=>({...P,get:(U,Y,he)=>Bn(U,Y)||P.get(U,Y,he),has:(U,Y)=>!!Bn(U,Y)||P.has(U,Y)}));const or="/firebase-messaging-sw.js",da="/firebase-cloud-messaging-push-scope",Nl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ri="https://fcmregistrations.googleapis.com/v1",ha="google.c.a.c_id",fa="google.c.a.c_l",Jo="google.c.a.ts",Ol="google.c.a.e";var ot=(()=>{return(P=ot||(ot={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",ot;var P})();function Gn(P){const U=new Uint8Array(P);return btoa(String.fromCharCode(...U)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xl(P){const Y=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),he=atob(Y),be=new Uint8Array(he.length);for(let Ue=0;Ue<he.length;++Ue)be[Ue]=he.charCodeAt(Ue);return be}const No="fcm_token_details_db",Oi=5,mu="fcm_token_object_Store";function Qs(){return Qs=(0,$.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ue=>Ue.name).includes(No))return null;let U=null;return(yield Zr(No,Oi,{upgrade:(he=(0,$.Z)(function*(be,Ue,ht,ln){var Zt;if(Ue<2||!be.objectStoreNames.contains(mu))return;const An=ln.objectStore(mu),_r=yield An.index("fcmSenderId").get(P);if(yield An.clear(),_r)if(2===Ue){const ur=_r;if(!ur.auth||!ur.p256dh||!ur.endpoint)return;U={token:ur.fcmToken,createTime:null!==(Zt=ur.createTime)&&void 0!==Zt?Zt:Date.now(),subscriptionOptions:{auth:ur.auth,p256dh:ur.p256dh,endpoint:ur.endpoint,swScope:ur.swScope,vapidKey:"string"==typeof ur.vapidKey?ur.vapidKey:Gn(ur.vapidKey)}}}else if(3===Ue){const ur=_r;U={token:ur.fcmToken,createTime:ur.createTime,subscriptionOptions:{auth:Gn(ur.auth),p256dh:Gn(ur.p256dh),endpoint:ur.endpoint,swScope:ur.swScope,vapidKey:Gn(ur.vapidKey)}}}else if(4===Ue){const ur=_r;U={token:ur.fcmToken,createTime:ur.createTime,subscriptionOptions:{auth:Gn(ur.auth),p256dh:Gn(ur.p256dh),endpoint:ur.endpoint,swScope:ur.swScope,vapidKey:Gn(ur.vapidKey)}}}}),function(Ue,ht,ln,Zt){return he.apply(this,arguments)})})).close(),yield bo(No),yield bo("fcm_vapid_details_db"),yield bo("undefined"),function Jl(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:U}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof U.auth&&U.auth.length>0&&"string"==typeof U.p256dh&&U.p256dh.length>0&&"string"==typeof U.endpoint&&U.endpoint.length>0&&"string"==typeof U.swScope&&U.swScope.length>0&&"string"==typeof U.vapidKey&&U.vapidKey.length>0}(U)?U:null;var he}),Qs.apply(this,arguments)}const kl="firebase-messaging-database",rl=1,Co="firebase-messaging-store";let Is=null;function Ss(){return Is||(Is=Zr(kl,rl,{upgrade:(P,U)=>{0===U&&P.createObjectStore(Co)}})),Is}function As(P){return ea.apply(this,arguments)}function ea(){return ea=(0,$.Z)(function*(P){const U=Pa(P),he=yield(yield Ss()).transaction(Co).objectStore(Co).get(U);if(he)return he;{const be=yield function Oo(P){return Qs.apply(this,arguments)}(P.appConfig.senderId);if(be)return yield ko(P,be),be}}),ea.apply(this,arguments)}function ko(P,U){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,$.Z)(function*(P,U){const Y=Pa(P),be=(yield Ss()).transaction(Co,"readwrite");return yield be.objectStore(Co).put(U,Y),yield be.done,U})).apply(this,arguments)}function Lo(){return(Lo=(0,$.Z)(function*(P){const U=Pa(P),he=(yield Ss()).transaction(Co,"readwrite");yield he.objectStore(Co).delete(U),yield he.done})).apply(this,arguments)}function Pa({appConfig:P}){return P.appId}const $i=new xe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Js(P,U){return pa.apply(this,arguments)}function pa(){return(pa=(0,$.Z)(function*(P,U){const Y=yield Fo(P),he=Do(U),be={method:"POST",headers:Y,body:JSON.stringify(he)};let Ue;try{Ue=yield(yield fetch(Ms(P.appConfig),be)).json()}catch(ht){throw $i.create("token-subscribe-failed",{errorInfo:ht?.toString()})}if(Ue.error)throw $i.create("token-subscribe-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw $i.create("token-subscribe-no-token");return Ue.token})).apply(this,arguments)}function ho(){return(ho=(0,$.Z)(function*(P,U){const Y=yield Fo(P),he=Do(U.subscriptionOptions),be={method:"PATCH",headers:Y,body:JSON.stringify(he)};let Ue;try{Ue=yield(yield fetch(`${Ms(P.appConfig)}/${U.token}`,be)).json()}catch(ht){throw $i.create("token-update-failed",{errorInfo:ht?.toString()})}if(Ue.error)throw $i.create("token-update-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw $i.create("token-update-no-token");return Ue.token})).apply(this,arguments)}function Ma(P,U){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,$.Z)(function*(P,U){const he={method:"DELETE",headers:yield Fo(P)};try{const Ue=yield(yield fetch(`${Ms(P.appConfig)}/${U}`,he)).json();if(Ue.error)throw $i.create("token-unsubscribe-failed",{errorInfo:Ue.error.message})}catch(be){throw $i.create("token-unsubscribe-failed",{errorInfo:be?.toString()})}})).apply(this,arguments)}function Ms({projectId:P}){return`${Ri}/projects/${P}/registrations`}function Fo(P){return ns.apply(this,arguments)}function ns(){return(ns=(0,$.Z)(function*({appConfig:P,installations:U}){const Y=yield U.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${Y}`})})).apply(this,arguments)}function Do({p256dh:P,auth:U,endpoint:Y,vapidKey:he}){const be={web:{endpoint:Y,auth:U,p256dh:P}};return he!==Nl&&(be.web.applicationPubKey=he),be}const ga=6048e5;function Zi(){return Zi=(0,$.Z)(function*(P){const U=yield function eu(P,U){return tu.apply(this,arguments)}(P.swRegistration,P.vapidKey),Y={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:U.endpoint,auth:Gn(U.getKey("auth")),p256dh:Gn(U.getKey("p256dh"))},he=yield As(P.firebaseDependencies);if(he){if(function nu(P,U){return U.vapidKey===P.vapidKey&&U.endpoint===P.endpoint&&U.auth===P.auth&&U.p256dh===P.p256dh}(he.subscriptionOptions,Y))return Date.now()>=he.createTime+ga?function li(P,U){return eo.apply(this,arguments)}(P,{token:he.token,createTime:Date.now(),subscriptionOptions:Y}):he.token;try{yield Ma(P.firebaseDependencies,he.token)}catch(be){console.warn(be)}return to(P.firebaseDependencies,Y)}return to(P.firebaseDependencies,Y)}),Zi.apply(this,arguments)}function _s(){return _s=(0,$.Z)(function*(P){const U=yield As(P.firebaseDependencies);U&&(yield Ma(P.firebaseDependencies,U.token),yield function Xs(P){return Lo.apply(this,arguments)}(P.firebaseDependencies));const Y=yield P.swRegistration.pushManager.getSubscription();return!Y||Y.unsubscribe()}),_s.apply(this,arguments)}function eo(){return eo=(0,$.Z)(function*(P,U){try{const Y=yield function Yr(P,U){return ho.apply(this,arguments)}(P.firebaseDependencies,U),he=Object.assign(Object.assign({},U),{token:Y,createTime:Date.now()});return yield ko(P.firebaseDependencies,he),Y}catch(Y){throw yield function br(P){return _s.apply(this,arguments)}(P),Y}}),eo.apply(this,arguments)}function to(P,U){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,$.Z)(function*(P,U){const he={token:yield Js(P,U),createTime:Date.now(),subscriptionOptions:U};return yield ko(P,he),he.token})).apply(this,arguments)}function tu(){return(tu=(0,$.Z)(function*(P,U){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xl(U)})})).apply(this,arguments)}function El(P){const U={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function ru(P,U){if(!U.notification)return;P.notification={};const Y=U.notification.title;Y&&(P.notification.title=Y);const he=U.notification.body;he&&(P.notification.body=he);const be=U.notification.image;be&&(P.notification.image=be);const Ue=U.notification.icon;Ue&&(P.notification.icon=Ue)}(U,P),function Na(P,U){U.data&&(P.data=U.data)}(U,P),function L(P,U){var Y,he,be,Ue,ht;if(!(U.fcmOptions||null!==(Y=U.notification)&&void 0!==Y&&Y.click_action))return;P.fcmOptions={};const ln=null!==(be=null===(he=U.fcmOptions)||void 0===he?void 0:he.link)&&void 0!==be?be:null===(Ue=U.notification)||void 0===Ue?void 0:Ue.click_action;ln&&(P.fcmOptions.link=ln);const Zt=null===(ht=U.fcmOptions)||void 0===ht?void 0:ht.analytics_label;Zt&&(P.fcmOptions.analyticsLabel=Zt)}(U,P),U}function B(P,U){const Y=[];for(let he=0;he<P.length;he++)Y.push(P.charAt(he)),he<U.length&&Y.push(U.charAt(he));return Y.join("")}function Ee(P){return $i.create("missing-app-config-values",{valueName:P})}B("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),B("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class st{constructor(U,Y,he){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const be=function te(P){if(!P||!P.options)throw Ee("App Configuration Object");if(!P.name)throw Ee("App Name");const U=["projectId","apiKey","appId","messagingSenderId"],{options:Y}=P;for(const he of U)if(!Y[he])throw Ee(he);return{appName:P.name,projectId:Y.projectId,apiKey:Y.apiKey,appId:Y.appId,senderId:Y.messagingSenderId}}(U);this.firebaseDependencies={app:U,appConfig:be,installations:Y,analyticsProvider:he}}_delete(){return Promise.resolve()}}function Ct(P){return qt.apply(this,arguments)}function qt(){return(qt=(0,$.Z)(function*(P){try{P.swRegistration=yield navigator.serviceWorker.register(or,{scope:da}),P.swRegistration.update().catch(()=>{})}catch(U){throw $i.create("failed-service-worker-registration",{browserErrorMessage:U?.message})}})).apply(this,arguments)}function mr(){return(mr=(0,$.Z)(function*(P,U){if(!U&&!P.swRegistration&&(yield Ct(P)),U||!P.swRegistration){if(!(U instanceof ServiceWorkerRegistration))throw $i.create("invalid-sw-registration");P.swRegistration=U}})).apply(this,arguments)}function wr(){return(wr=(0,$.Z)(function*(P,U){U?P.vapidKey=U:P.vapidKey||(P.vapidKey=Nl)})).apply(this,arguments)}function Qn(){return Qn=(0,$.Z)(function*(P,U){if(!navigator)throw $i.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $i.create("permission-blocked");return yield function tr(P,U){return wr.apply(this,arguments)}(P,U?.vapidKey),yield function Sr(P,U){return mr.apply(this,arguments)}(P,U?.serviceWorkerRegistration),function Ns(P){return Zi.apply(this,arguments)}(P)}),Qn.apply(this,arguments)}function no(){return(no=(0,$.Z)(function*(P,U,Y){const he=function an(P){switch(P){case ot.NOTIFICATION_CLICKED:return"notification_open";case ot.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(U);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(he,{message_id:Y[ha],message_name:Y[fa],message_time:Y[Jo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Yi(){return Yi=(0,$.Z)(function*(P,U){const Y=U.data;if(!Y.isFirebaseMessaging)return;P.onMessageHandler&&Y.messageType===ot.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(El(Y)):P.onMessageHandler.next(El(Y)));const he=Y.data;(function G(P){return"object"==typeof P&&!!P&&ha in P})(he)&&"1"===he[Ol]&&(yield function Qr(P,U,Y){return no.apply(this,arguments)}(P,Y.messageType,he))}),Yi.apply(this,arguments)}const zt="@firebase/messaging",Et=P=>{const U=new st(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Y=>function En(P,U){return Yi.apply(this,arguments)}(U,Y)),U},Ii=P=>{const U=P.getProvider("messaging").getImmediate();return{getToken:he=>function bt(P,U){return Qn.apply(this,arguments)}(U,he)}};function yc(){return wl.apply(this,arguments)}function wl(){return(wl=(0,$.Z)(function*(){try{yield(0,xe.eu)()}catch{return!1}return typeof window<"u"&&(0,xe.hl)()&&(0,xe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Oa(){(0,Me._registerComponent)(new Ke.wA("messaging",Et,"PUBLIC")),(0,Me._registerComponent)(new Ke.wA("messaging-internal",Ii,"PRIVATE")),(0,Me.registerVersion)(zt,"0.12.4"),(0,Me.registerVersion)(zt,"0.12.4","esm2017")}();const Cn="analytics",ma="firebase_id",Bl="origin",ui=6e4,Ln="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vl="https://www.googletagmanager.com/gtag/js",Xn=new qe.Yd("@firebase/analytics"),Wn=new xe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function sn(P){if(!P.startsWith(Vl)){const U=Wn.create("invalid-gtag-resource",{gtagURL:P});return Xn.warn(U.message),""}return P}function Uo(P){return Promise.all(P.map(U=>U.catch(Y=>Y)))}function bl(){return(bl=(0,$.Z)(function*(P,U,Y,he,be,Ue){const ht=he[be];try{if(ht)yield U[ht];else{const Zt=(yield Uo(Y)).find(An=>An.measurementId===be);Zt&&(yield U[Zt.appId])}}catch(ln){Xn.error(ln)}P("config",be,Ue)})).apply(this,arguments)}function Ua(){return(Ua=(0,$.Z)(function*(P,U,Y,he,be){try{let Ue=[];if(be&&be.send_to){let ht=be.send_to;Array.isArray(ht)||(ht=[ht]);const ln=yield Uo(Y);for(const Zt of ht){const An=ln.find(ur=>ur.measurementId===Zt),_r=An&&U[An.appId];if(!_r){Ue=[];break}Ue.push(_r)}}0===Ue.length&&(Ue=Object.values(U)),yield Promise.all(Ue),P("event",he,be||{})}catch(Ue){Xn.error(Ue)}})).apply(this,arguments)}const ya=30,io=new class _a{constructor(U={},Y=1e3){this.throttleMetadata=U,this.intervalMillis=Y}getThrottleMetadata(U){return this.throttleMetadata[U]}setThrottleMetadata(U,Y){this.throttleMetadata[U]=Y}deleteThrottleMetadata(U){delete this.throttleMetadata[U]}};function et(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function $r(){return($r=(0,$.Z)(function*(P){var U;const{appId:Y,apiKey:he}=P,be={method:"GET",headers:et(he)},Ue=Ln.replace("{app-id}",Y),ht=yield fetch(Ue,be);if(200!==ht.status&&304!==ht.status){let ln="";try{const Zt=yield ht.json();null!==(U=Zt.error)&&void 0!==U&&U.message&&(ln=Zt.error.message)}catch{}throw Wn.create("config-fetch-failed",{httpStatus:ht.status,responseMessage:ln})}return ht.json()})).apply(this,arguments)}function Ea(){return(Ea=(0,$.Z)(function*(P,U=io,Y){const{appId:he,apiKey:be,measurementId:Ue}=P.options;if(!he)throw Wn.create("no-app-id");if(!be){if(Ue)return{measurementId:Ue,appId:he};throw Wn.create("no-api-key")}const ht=U.getThrottleMetadata(he)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ln=new Ec;return setTimeout((0,$.Z)(function*(){ln.abort()}),void 0!==Y?Y:ui),il({appId:he,apiKey:be,measurementId:Ue},ht,ln,U)})).apply(this,arguments)}function il(P,U,Y){return vu.apply(this,arguments)}function vu(){return vu=(0,$.Z)(function*(P,{throttleEndTimeMillis:U,backoffCount:Y},he,be=io){var Ue;const{appId:ht,measurementId:ln}=P;try{yield function wa(P,U){return new Promise((Y,he)=>{const be=Math.max(U-Date.now(),0),Ue=setTimeout(Y,be);P.addEventListener(()=>{clearTimeout(Ue),he(Wn.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(he,U)}catch(Zt){if(ln)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${Zt?.message}]`),{appId:ht,measurementId:ln};throw Zt}try{const Zt=yield function va(P){return $r.apply(this,arguments)}(P);return be.deleteThrottleMetadata(ht),Zt}catch(Zt){const An=Zt;if(!function vc(P){if(!(P instanceof xe.ZR&&P.customData))return!1;const U=Number(P.customData.httpStatus);return 429===U||500===U||503===U||504===U}(An)){if(be.deleteThrottleMetadata(ht),ln)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${An?.message}]`),{appId:ht,measurementId:ln};throw Zt}const _r=503===Number(null===(Ue=An?.customData)||void 0===Ue?void 0:Ue.httpStatus)?(0,xe.$s)(Y,be.intervalMillis,ya):(0,xe.$s)(Y,be.intervalMillis),ur={throttleEndTimeMillis:Date.now()+_r,backoffCount:Y+1};return be.setThrottleMetadata(ht,ur),Xn.debug(`Calling attemptFetch again in ${_r} millis`),il(P,ur,he,be)}}),vu.apply(this,arguments)}class Ec{constructor(){this.listeners=[]}addEventListener(U){this.listeners.push(U)}abort(){this.listeners.forEach(U=>U())}}let Va,Eu;function Fs(){return(Fs=(0,$.Z)(function*(P,U,Y,he,be){if(be&&be.global)P("event",Y,he);else{const Ue=yield U;P("event",Y,Object.assign(Object.assign({},he),{send_to:Ue}))}})).apply(this,arguments)}function sl(){return(sl=(0,$.Z)(function*(){if(!(0,xe.hl)())return Xn.warn(Wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,xe.eu)()}catch(P){return Xn.warn(Wn.create("indexeddb-unavailable",{errorInfo:P?.toString()}).message),!1}return!0})).apply(this,arguments)}function C(){return C=(0,$.Z)(function*(P,U,Y,he,be,Ue,ht){var ln;const Zt=function _u(P){return Ea.apply(this,arguments)}(P);Zt.then(Vs=>{Y[Vs.measurementId]=Vs.appId,P.options.measurementId&&Vs.measurementId!==P.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${Vs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Vs=>Xn.error(Vs)),U.push(Zt);const An=function So(){return sl.apply(this,arguments)}().then(Vs=>{if(Vs)return he.getId()}),[_r,ur]=yield Promise.all([Zt,An]);(function Cl(P){const U=window.document.getElementsByTagName("script");for(const Y of Object.values(U))if(Y.src&&Y.src.includes(Vl)&&Y.src.includes(P))return Y;return null})(Ue)||function Bo(P,U){const Y=function Tl(P,U){let Y;return window.trustedTypes&&(Y=window.trustedTypes.createPolicy(P,U)),Y}("firebase-js-sdk-policy",{createScriptURL:sn}),he=document.createElement("script"),be=`${Vl}?l=${P}&id=${U}`;he.src=Y?Y?.createScriptURL(be):be,he.async=!0,document.head.appendChild(he)}(Ue,_r.measurementId),Eu&&(be("consent","default",Eu),function jl(P){Eu=P}(void 0)),be("js",new Date);const oo=null!==(ln=ht?.config)&&void 0!==ln?ln:{};return oo[Bl]="firebase",oo.update=!0,null!=ur&&(oo[ma]=ur),be("config",_r.measurementId,oo),Va&&(be("set",Va),function Fu(P){Va=P}(void 0)),_r.measurementId}),C.apply(this,arguments)}class A{constructor(U){this.app=U}_delete(){return delete T[this.app.options.appId],Promise.resolve()}}let T={},k=[];const z={};let We,yt,J="dataLayer",ce="gtag",Yt=!1;function Ts(P,U,Y){!function yr(){const P=[];if((0,xe.ru)()&&P.push("This is a browser extension environment."),(0,xe.zI)()||P.push("Cookies are not available."),P.length>0){const U=P.map((he,be)=>`(${be+1}) ${he}`).join(" "),Y=Wn.create("invalid-analytics-context",{errorInfo:U});Xn.warn(Y.message)}}();const he=P.options.appId;if(!he)throw Wn.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw Wn.create("no-api-key");Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=T[he])throw Wn.create("already-exists",{id:he});if(!Yt){!function La(P){let U=[];Array.isArray(window[P])?U=window[P]:window[P]=U}(J);const{wrappedGtag:Ue,gtagCore:ht}=function yi(P,U,Y,he,be){let Ue=function(...ht){window[he].push(arguments)};return window[be]&&"function"==typeof window[be]&&(Ue=window[be]),window[be]=function Ba(P,U,Y,he){function Ue(){return Ue=(0,$.Z)(function*(ht,...ln){try{if("event"===ht){const[Zt,An]=ln;yield function iu(P,U,Y,he,be){return Ua.apply(this,arguments)}(P,U,Y,Zt,An)}else if("config"===ht){const[Zt,An]=ln;yield function Fa(P,U,Y,he,be,Ue){return bl.apply(this,arguments)}(P,U,Y,he,Zt,An)}else if("consent"===ht){const[Zt]=ln;P("consent","update",Zt)}else if("get"===ht){const[Zt,An,_r]=ln;P("get",Zt,An,_r)}else if("set"===ht){const[Zt]=ln;P("set",Zt)}else P(ht,...ln)}catch(Zt){Xn.error(Zt)}}),Ue.apply(this,arguments)}return function be(ht){return Ue.apply(this,arguments)}}(Ue,P,U,Y),{gtagCore:Ue,wrappedGtag:window[be]}}(T,k,z,J,ce);yt=Ue,We=ht,Yt=!0}return T[he]=function wu(P,U,Y,he,be,Ue,ht){return C.apply(this,arguments)}(P,k,z,U,We,J,Y),new A(P)}function xi(){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,$.Z)(function*(){if((0,xe.ru)()||!(0,xe.zI)()||!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}const ec="@firebase/analytics";!function bs(){(0,Me._registerComponent)(new Ke.wA(Cn,(U,{options:Y})=>Ts(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),Y),"PUBLIC")),(0,Me._registerComponent)(new Ke.wA("analytics-internal",function P(U){try{const Y=U.getProvider(Cn).getImmediate();return{logEvent:(he,be,Ue)=>function Uu(P,U,Y,he){P=(0,xe.m9)(P),function rd(P,U,Y,he,be){return Fs.apply(this,arguments)}(yt,T[P.app.options.appId],U,Y,he).catch(be=>Xn.error(be))}(Y,he,be,Ue)}}catch(Y){throw Wn.create("interop-component-reg-failed",{reason:Y})}},"PRIVATE")),(0,Me.registerVersion)(ec,"0.10.0"),(0,Me.registerVersion)(ec,"0.10.0","esm2017")}();var sd=q(4408),_i=q(7565);const Bu=new class za extends _i.v{}(class Ks extends sd.o{constructor(U,Y){super(U,Y),this.scheduler=U,this.work=Y}schedule(U,Y=0){return Y>0?super.schedule(U,Y):(this.delay=Y,this.state=U,this.scheduler.flush(this),this)}execute(U,Y){return Y>0||this.closed?super.execute(U,Y):this._execute(U,Y)}requestAsyncId(U,Y,he=0){return null!=he&&he>0||null==he&&this.delay>0?super.requestAsyncId(U,Y,he):(U.flush(this),0)}});var Iu=q(4986),Wa=q(9751),Ta=q(8505),ba=q(5363),Vu=q(9468);const po=new R.GfV("7.6.1"),Ga="__angularfire_symbol__analyticsIsSupportedValue",su="__angularfire_symbol__analyticsIsSupported",go="__angularfire_symbol__remoteConfigIsSupportedValue",$u="__angularfire_symbol__remoteConfigIsSupported",Tu="__angularfire_symbol__messagingIsSupportedValue",tc="__angularfire_symbol__messagingIsSupported";function bu(P,U,Y){if(U){if(1===U.length)return U[0];const Ue=U.filter(ht=>ht.app===Y);if(1===Ue.length)return Ue[0]}return Y.container.getProvider(P).getImmediate({optional:!0})}globalThis[su]||(globalThis[su]=xi().then(P=>globalThis[Ga]=P).catch(()=>globalThis[Ga]=!1)),globalThis[tc]||(globalThis[tc]=yc().then(P=>globalThis[Tu]=P).catch(()=>globalThis[Tu]=!1)),globalThis[$u]||(globalThis[$u]=Io().then(P=>globalThis[go]=P).catch(()=>globalThis[go]=!1));const Cu=(P,U)=>{const Y=U?[U]:(0,ee.C6)(),he=[];return Y.forEach(be=>{be.container.getProvider(P).instances.forEach(ht=>{he.includes(ht)||he.push(ht)})}),he};function qs(){}class Ka{constructor(U,Y=Bu){this.zone=U,this.delegate=Y}now(){return this.delegate.now()}schedule(U,Y,he){const be=this.zone;return this.delegate.schedule(function(ht){be.runGuarded(()=>{U.apply(this,[ht])})},Y,he)}}class ol{constructor(U){this.zone=U,this.task=null}call(U,Y){const he=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qs,{},qs,qs)),Y.pipe((0,Ta.b)({next:he,complete:he,error:he})).subscribe(U).add(he)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let nc=(()=>{class P{constructor(Y){this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new Ka(Zone.current)),this.insideAngular=Y.run(()=>new Ka(Zone.current,Iu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(Y){return new(Y||P)(R.LFG(R.R0b))},P.\u0275prov=R.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function zl(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function Ho(P){return zl().ngZone.run(()=>P())}function Bs(P){return P.pipe((0,ba.Q)(zl().outsideAngular))}function rs(P){return zl(),function Su(P){return function(Y){return(Y=Y.lift(new ol(P.ngZone))).pipe((0,Vu.R)(P.outsideAngular),(0,ba.Q)(P.insideAngular))}}(zl())(P)}const rc=(P,U)=>function(){const he=arguments;return U&&setTimeout(()=>{"scheduled"===U.state&&U.invoke()},10),Ho(()=>P.apply(void 0,he))},al=(P,U)=>function(){let Y;const he=arguments;for(let Ue=0;Ue<arguments.length;Ue++)"function"==typeof he[Ue]&&(U&&(Y||(Y=Ho(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qs,{},qs,qs)))),he[Ue]=rc(he[Ue],Y));const be=function Du(P){return zl().ngZone.runOutsideAngular(()=>P())}(()=>P.apply(this,he));if(!U){if(be instanceof Wa.y){const Ue=zl();return be.pipe((0,Vu.R)(Ue.outsideAngular),(0,ba.Q)(Ue.insideAngular))}return Ho(()=>be)}return be instanceof Wa.y?be.pipe(rs):be instanceof Promise?Ho(()=>new Promise((Ue,ht)=>be.then(ln=>Ho(()=>Ue(ln)),ln=>Ho(()=>ht(ln))))):"function"==typeof be&&Y?function(){return setTimeout(()=>{Y&&"scheduled"===Y.state&&Y.invoke()},10),be.apply(this,arguments)}:Ho(()=>be)}},1389:(_n,at,q)=>{q.d(at,{$:()=>or,A:()=>Te,D:()=>wt,I:()=>wi,J:()=>Nt,L:()=>mi,N:()=>Wi,P:()=>wu,Q:()=>dr,R:()=>$a,U:()=>gs,V:()=>Io,W:()=>ms,X:()=>Xo,Y:()=>la,Z:()=>ua,_:()=>To,a:()=>ro,a0:()=>Nl,a1:()=>ha,a2:()=>_l,a3:()=>mu,a4:()=>Qs,a5:()=>kl,a6:()=>Co,a7:()=>Ss,a8:()=>ea,a9:()=>Ls,aA:()=>Be,aB:()=>su,aC:()=>Ui,aD:()=>es,aE:()=>Ta,aF:()=>id,aG:()=>ki,aH:()=>Rr,aL:()=>ka,aO:()=>Vi,aa:()=>Xs,ab:()=>Pa,ac:()=>vl,ad:()=>Yr,ae:()=>Ma,af:()=>Ms,ai:()=>ga,aj:()=>Zi,ak:()=>br,an:()=>Xu,ao:()=>ru,aq:()=>wr,ar:()=>zt,as:()=>Kt,at:()=>Pe,au:()=>ye,av:()=>Ze,aw:()=>ur,ax:()=>tc,ay:()=>it,az:()=>Oe,b:()=>Fl,c:()=>yt,d:()=>Ts,e:()=>yn,f:()=>ec,g:()=>za,h:()=>sd,i:()=>Bc,j:()=>Iu,k:()=>Au,l:()=>Vo,m:()=>od,p:()=>Ie,r:()=>$l,s:()=>ja,u:()=>So});var R=q(5861),ee=q(2090),$=q(6881),Me=q(7582),xe=q(1877),Ke=q(4859);const Ie={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Te={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const wt=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ot=function ft(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Xt=new ee.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ut=new xe.Yd("@firebase/auth");function mt(x,...y){ut.logLevel<=xe.in.ERROR&&ut.error(`Auth (${$.SDK_VERSION}): ${x}`,...y)}function Ze(x,...y){throw _t(x,...y)}function Oe(x,...y){return _t(x,...y)}function dt(x,y,I){const M=Object.assign(Object.assign({},Ot()),{[y]:I});return new ee.LL("auth","Firebase",M).create(y,{appName:x.name})}function Rt(x,y,I){if(!(y instanceof I))throw I.name!==y.constructor.name&&Ze(x,"argument-error"),dt(x,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _t(x,...y){if("string"!=typeof x){const I=y[0],M=[...y.slice(1)];return M[0]&&(M[0].appName=x.name),x._errorFactory.create(I,...M)}return Xt.create(x,...y)}function Be(x,y,...I){if(!x)throw _t(y,...I)}function se(x){const y="INTERNAL ASSERTION FAILED: "+x;throw mt(y),new Error(y)}function Kt(x,y){x||se(y)}function $t(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function hn(){return"http:"===jt()||"https:"===jt()}function jt(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class Sn{constructor(y,I){this.shortDelay=y,this.longDelay=I,Kt(I>y,"Short delay should be less than long delay!"),this.isMobile=(0,ee.uI)()||(0,ee.b$)()}get(){return function kn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(hn()||(0,ee.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pr(x,y){Kt(x.emulator,"Emulator should always be set here");const{url:I}=x.emulator;return y?`${I}${y.startsWith("/")?y.slice(1):y}`:I}class ze{static initialize(y,I,M){this.fetchImpl=y,I&&(this.headersImpl=I),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ve={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qe=new Sn(3e4,6e4);function Le(x,y){return x.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:x.tenantId}):y}function nt(x,y,I,M){return vt.apply(this,arguments)}function vt(){return(vt=(0,R.Z)(function*(x,y,I,M,Q={}){return Ft(x,Q,(0,R.Z)(function*(){let ue={},$e={};M&&("GET"===y?$e=M:ue={body:JSON.stringify(M)});const gt=(0,ee.xO)(Object.assign({key:x.config.apiKey},$e)).slice(1),Qt=yield x._getAdditionalHeaders();return Qt["Content-Type"]="application/json",x.languageCode&&(Qt["X-Firebase-Locale"]=x.languageCode),ze.fetch()(nr(x,x.config.apiHost,I,gt),Object.assign({method:y,headers:Qt,referrerPolicy:"no-referrer"},ue))}))})).apply(this,arguments)}function Ft(x,y,I){return rn.apply(this,arguments)}function rn(){return(rn=(0,R.Z)(function*(x,y,I){x._canInitEmulator=!1;const M=Object.assign(Object.assign({},Ve),y);try{const Q=new Fr(x),ue=yield Promise.race([I(),Q.promise]);Q.clearNetworkTimeout();const $e=yield ue.json();if("needConfirmation"in $e)throw qn(x,"account-exists-with-different-credential",$e);if(ue.ok&&!("errorMessage"in $e))return $e;{const gt=ue.ok?$e.errorMessage:$e.error.message,[Qt,pn]=gt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qt)throw qn(x,"credential-already-in-use",$e);if("EMAIL_EXISTS"===Qt)throw qn(x,"email-already-in-use",$e);if("USER_DISABLED"===Qt)throw qn(x,"user-disabled",$e);const zn=M[Qt]||Qt.toLowerCase().replace(/[_\s]+/g,"-");if(pn)throw dt(x,zn,pn);Ze(x,zn)}}catch(Q){if(Q instanceof ee.ZR)throw Q;Ze(x,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function jn(x,y,I,M){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,R.Z)(function*(x,y,I,M,Q={}){const ue=yield nt(x,y,I,M,Q);return"mfaPendingCredential"in ue&&Ze(x,"multi-factor-auth-required",{_serverResponse:ue}),ue})).apply(this,arguments)}function nr(x,y,I,M){const Q=`${y}${I}?${M}`;return x.config.emulator?pr(x.config,Q):`${x.config.apiScheme}://${Q}`}class Fr{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((I,M)=>{this.timer=setTimeout(()=>M(Oe(this.auth,"network-request-failed")),Qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(x,y,I){const M={appName:x.name};I.email&&(M.email=I.email),I.phoneNumber&&(M.phoneNumber=I.phoneNumber);const Q=Oe(x,y,M);return Q.customData._tokenResponse=I,Q}function Ar(){return(Ar=(0,R.Z)(function*(x,y){return nt(x,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function Or(){return(Or=(0,R.Z)(function*(x,y){return nt(x,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Nn(){return(Nn=(0,R.Z)(function*(x,y){return nt(x,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Ht(x){if(x)try{const y=new Date(Number(x));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function Er(){return(Er=(0,R.Z)(function*(x,y=!1){const I=(0,ee.m9)(x),M=yield I.getIdToken(y),Q=Dr(M);Be(Q&&Q.exp&&Q.auth_time&&Q.iat,I.auth,"internal-error");const ue="object"==typeof Q.firebase?Q.firebase:void 0,$e=ue?.sign_in_provider;return{claims:Q,token:M,authTime:Ht(Ur(Q.auth_time)),issuedAtTime:Ht(Ur(Q.iat)),expirationTime:Ht(Ur(Q.exp)),signInProvider:$e||null,signInSecondFactor:ue?.sign_in_second_factor||null}})).apply(this,arguments)}function Ur(x){return 1e3*Number(x)}function Dr(x){const[y,I,M]=x.split(".");if(void 0===y||void 0===I||void 0===M)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,ee.tV)(I);return Q?JSON.parse(Q):(mt("Failed to decode base64 JWT payload"),null)}catch(Q){return mt("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function gn(x,y){return tn.apply(this,arguments)}function tn(){return(tn=(0,R.Z)(function*(x,y,I=!1){if(I)return y;try{return yield y}catch(M){throw M instanceof ee.ZR&&function Pn({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}(M)&&x.auth.currentUser===x&&(yield x.auth.signOut()),M}})).apply(this,arguments)}class vi{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var I;if(y){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const Q=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(y=!1){var I=this;if(!this.isRunning)return;const M=this.getInterval(y);this.timerId=setTimeout((0,R.Z)(function*(){yield I.iteration()}),M)}iteration(){var y=this;return(0,R.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===I?.code&&y.schedule(!0))}y.schedule()})()}}class fi{constructor(y,I){this.createdAt=y,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ht(this.lastLoginAt),this.creationTime=Ht(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ei(x){return Fi.apply(this,arguments)}function Fi(){return Fi=(0,R.Z)(function*(x){var y;const I=x.auth,M=yield x.getIdToken(),Q=yield gn(x,function Jr(x,y){return Nn.apply(this,arguments)}(I,{idToken:M}));Be(Q?.users.length,I,"internal-error");const ue=Q.users[0];x._notifyReloadListener(ue);const $e=null!==(y=ue.providerUserInfo)&&void 0!==y&&y.length?function as(x){return x.map(y=>{var{providerId:I}=y,M=(0,Me._T)(y,["providerId"]);return{providerId:I,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}(ue.providerUserInfo):[],gt=function Vn(x,y){return[...x.filter(M=>!y.some(Q=>Q.providerId===M.providerId)),...y]}(x.providerData,$e),zn=!!x.isAnonymous&&!(x.email&&ue.passwordHash||gt?.length),jr={uid:ue.localId,displayName:ue.displayName||null,photoURL:ue.photoUrl||null,email:ue.email||null,emailVerified:ue.emailVerified||!1,phoneNumber:ue.phoneNumber||null,tenantId:ue.tenantId||null,providerData:gt,metadata:new fi(ue.createdAt,ue.lastLoginAt),isAnonymous:zn};Object.assign(x,jr)}),Fi.apply(this,arguments)}function Hi(){return(Hi=(0,R.Z)(function*(x){const y=(0,ee.m9)(x);yield ei(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function cr(){return(cr=(0,R.Z)(function*(x,y){const I=yield Ft(x,{},(0,R.Z)(function*(){const M=(0,ee.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:Q,apiKey:ue}=x.config,$e=nr(x,Q,"/v1/token",`key=${ue}`),gt=yield x._getAdditionalHeaders();return gt["Content-Type"]="application/x-www-form-urlencoded",ze.fetch()($e,{method:"POST",headers:gt,body:M})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}class kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Be(y.idToken,"internal-error"),Be(typeof y.idToken<"u","internal-error"),Be(typeof y.refreshToken<"u","internal-error");const I="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function gr(x){const y=Dr(x);return Be(y,"internal-error"),Be(typeof y.exp<"u","internal-error"),Be(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,I)}getToken(y,I=!1){var M=this;return(0,R.Z)(function*(){return Be(!M.accessToken||M.refreshToken,y,"user-token-expired"),I||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(y,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,I){var M=this;return(0,R.Z)(function*(){const{accessToken:Q,refreshToken:ue,expiresIn:$e}=yield function ir(x,y){return cr.apply(this,arguments)}(y,I);M.updateTokensAndExpiration(Q,ue,Number($e))})()}updateTokensAndExpiration(y,I,M){this.refreshToken=I||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(y,I){const{refreshToken:M,accessToken:Q,expirationTime:ue}=I,$e=new kt;return M&&(Be("string"==typeof M,"internal-error",{appName:y}),$e.refreshToken=M),Q&&(Be("string"==typeof Q,"internal-error",{appName:y}),$e.accessToken=Q),ue&&(Be("number"==typeof ue,"internal-error",{appName:y}),$e.expirationTime=ue),$e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new kt,this.toJSON())}_performRefresh(){return se("not implemented")}}function ii(x,y){Be("string"==typeof x||typeof x>"u","internal-error",{appName:y})}class pi{constructor(y){var{uid:I,auth:M,stsTokenManager:Q}=y,ue=(0,Me._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=M,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new fi(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(y){var I=this;return(0,R.Z)(function*(){const M=yield gn(I,I.stsTokenManager.getToken(I.auth,y));return Be(M,I.auth,"internal-error"),I.accessToken!==M&&(I.accessToken=M,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),M})()}getIdTokenResult(y){return function Cr(x){return Er.apply(this,arguments)}(this,y)}reload(){return function ti(x){return Hi.apply(this,arguments)}(this)}_assign(y){this!==y&&(Be(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(I=>Object.assign({},I)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){const I=new pi(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}));return I.metadata._copy(this.metadata),I}_onReload(y){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,I=!1){var M=this;return(0,R.Z)(function*(){let Q=!1;y.idToken&&y.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(y),Q=!0),I&&(yield ei(M)),yield M.auth._persistUserIfCurrent(M),Q&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var y=this;return(0,R.Z)(function*(){const I=yield y.getIdToken();return yield gn(y,function Hn(x,y){return Ar.apply(this,arguments)}(y.auth,{idToken:I})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,I){var M,Q,ue,$e,gt,Qt,pn,zn;const jr=null!==(M=I.displayName)&&void 0!==M?M:void 0,Ca=null!==(Q=I.email)&&void 0!==Q?Q:void 0,zo=null!==(ue=I.phoneNumber)&&void 0!==ue?ue:void 0,$c=null!==($e=I.photoURL)&&void 0!==$e?$e:void 0,Qa=null!==(gt=I.tenantId)&&void 0!==gt?gt:void 0,mo=null!==(Qt=I._redirectEventId)&&void 0!==Qt?Qt:void 0,Gu=null!==(pn=I.createdAt)&&void 0!==pn?pn:void 0,uu=null!==(zn=I.lastLoginAt)&&void 0!==zn?zn:void 0,{uid:Da,emailVerified:Xa,isAnonymous:cl,providerData:ad,stsTokenManager:jc}=I;Be(Da&&jc,y,"internal-error");const vr=kt.fromJSON(this.name,jc);Be("string"==typeof Da,y,"internal-error"),ii(jr,y.name),ii(Ca,y.name),Be("boolean"==typeof Xa,y,"internal-error"),Be("boolean"==typeof cl,y,"internal-error"),ii(zo,y.name),ii($c,y.name),ii(Qa,y.name),ii(mo,y.name),ii(Gu,y.name),ii(uu,y.name);const eh=new pi({uid:Da,auth:y,email:Ca,emailVerified:Xa,displayName:jr,isAnonymous:cl,photoURL:$c,phoneNumber:zo,tenantId:Qa,stsTokenManager:vr,createdAt:Gu,lastLoginAt:uu});return ad&&Array.isArray(ad)&&(eh.providerData=ad.map(ld=>Object.assign({},ld))),mo&&(eh._redirectEventId=mo),eh}static _fromIdTokenResponse(y,I,M=!1){return(0,R.Z)(function*(){const Q=new kt;Q.updateFromServerResponse(I);const ue=new pi({uid:I.localId,auth:y,stsTokenManager:Q,isAnonymous:M});return yield ei(ue),ue})()}}const Ei=new Map;function Ui(x){Kt(x instanceof Function,"Expected a class definition");let y=Ei.get(x);return y?(Kt(y instanceof x,"Instance stored in cache mismatched with class"),y):(y=new x,Ei.set(x,y),y)}const Wi=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,R.Z)(function*(){return!0})()}_set(I,M){var Q=this;return(0,R.Z)(function*(){Q.storage[I]=M})()}_get(I){var M=this;return(0,R.Z)(function*(){const Q=M.storage[I];return void 0===Q?null:Q})()}_remove(I){var M=this;return(0,R.Z)(function*(){delete M.storage[I]})()}_addListener(I,M){}_removeListener(I,M){}}return x.type="NONE",x})();function es(x,y,I){return`firebase:${x}:${y}:${I}`}class De{constructor(y,I,M){this.persistence=y,this.auth=I,this.userKey=M;const{config:Q,name:ue}=this.auth;this.fullUserKey=es(this.userKey,Q.apiKey,ue),this.fullPersistenceKey=es("persistence",Q.apiKey,ue),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,R.Z)(function*(){const I=yield y.persistence._get(y.fullUserKey);return I?pi._fromJSON(y.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var I=this;return(0,R.Z)(function*(){if(I.persistence===y)return;const M=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=y,M?I.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,I,M="authUser"){return(0,R.Z)(function*(){if(!I.length)return new De(Ui(Wi),y,M);const Q=(yield Promise.all(I.map(function(){var pn=(0,R.Z)(function*(zn){if(yield zn._isAvailable())return zn});return function(zn){return pn.apply(this,arguments)}}()))).filter(pn=>pn);let ue=Q[0]||Ui(Wi);const $e=es(M,y.config.apiKey,y.name);let gt=null;for(const pn of I)try{const zn=yield pn._get($e);if(zn){const jr=pi._fromJSON(y,zn);pn!==ue&&(gt=jr),ue=pn;break}}catch{}const Qt=Q.filter(pn=>pn._shouldAllowMigration);return ue._shouldAllowMigration&&Qt.length?(ue=Qt[0],gt&&(yield ue._set($e,gt.toJSON())),yield Promise.all(I.map(function(){var pn=(0,R.Z)(function*(zn){if(zn!==ue)try{yield zn._remove($e)}catch{}});return function(zn){return pn.apply(this,arguments)}}())),new De(ue,y,M)):new De(ue,y,M)})()}}function we(x){const y=x.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Re(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(ae(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(_e(y))return"Blackberry";if(fe(y))return"Webos";if(de(y))return"Safari";if((y.includes("chrome/")||ne(y))&&!y.includes("edge/"))return"Chrome";if(ye(y))return"Android";{const M=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function ae(x=(0,ee.z$)()){return/firefox\//i.test(x)}function de(x=(0,ee.z$)()){const y=x.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function ne(x=(0,ee.z$)()){return/crios\//i.test(x)}function Re(x=(0,ee.z$)()){return/iemobile/i.test(x)}function ye(x=(0,ee.z$)()){return/android/i.test(x)}function _e(x=(0,ee.z$)()){return/blackberry/i.test(x)}function fe(x=(0,ee.z$)()){return/webos/i.test(x)}function Pe(x=(0,ee.z$)()){return/iphone|ipad|ipod/i.test(x)||/macintosh/i.test(x)&&/mobile/i.test(x)}function it(x=(0,ee.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(x)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(x)}function bn(x=(0,ee.z$)()){return Pe(x)||ye(x)||fe(x)||_e(x)||/windows phone/i.test(x)||Re(x)}function xs(x,y=[]){let I;switch(x){case"Browser":I=we((0,ee.z$)());break;case"Worker":I=`${we((0,ee.z$)())}-${x}`;break;default:I=x}const M=y.length?y.join(","):"FirebaseCore-web";return`${I}/JsCore/${$.SDK_VERSION}/${M}`}function Xe(){return(Xe=(0,R.Z)(function*(x){return(yield nt(x,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Lt(x,y){return mn.apply(this,arguments)}function mn(){return(mn=(0,R.Z)(function*(x,y){return nt(x,"GET","/v2/recaptchaConfig",Le(x,y))})).apply(this,arguments)}function Kn(x){return void 0!==x&&void 0!==x.getResponse}function rr(x){return void 0!==x&&void 0!==x.enterprise}class vn{constructor(y){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===y.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=y.recaptchaKey.split("/")[3],this.emailPasswordEnabled=y.recaptchaEnforcementState.some(I=>"EMAIL_PASSWORD_PROVIDER"===I.provider&&"OFF"!==I.enforcementState)}}function Tr(x){return new Promise((y,I)=>{const M=document.createElement("script");M.setAttribute("src",x),M.onload=y,M.onerror=Q=>{const ue=Oe("internal-error");ue.customData=Q,I(ue)},M.type="text/javascript",M.charset="UTF-8",function qr(){var x,y;return null!==(y=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==y?y:document}().appendChild(M)})}function Gi(x){return`__${x}${Math.floor(1e6*Math.random())}`}const ls="NO_RECAPTCHA";class ts{constructor(y){this.type="recaptcha-enterprise",this.auth=Rr(y)}verify(y="verify",I=!1){var M=this;return(0,R.Z)(function*(){function ue(){return ue=(0,R.Z)(function*(gt){if(!I){if(null==gt.tenantId&&null!=gt._agentRecaptchaConfig)return gt._agentRecaptchaConfig.siteKey;if(null!=gt.tenantId&&void 0!==gt._tenantRecaptchaConfigs[gt.tenantId])return gt._tenantRecaptchaConfigs[gt.tenantId].siteKey}return new Promise(function(){var Qt=(0,R.Z)(function*(pn,zn){Lt(gt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(jr=>{if(void 0!==jr.recaptchaKey){const Ca=new vn(jr);return null==gt.tenantId?gt._agentRecaptchaConfig=Ca:gt._tenantRecaptchaConfigs[gt.tenantId]=Ca,pn(Ca.siteKey)}zn(new Error("recaptcha Enterprise site key undefined"))}).catch(jr=>{zn(jr)})});return function(pn,zn){return Qt.apply(this,arguments)}}())}),ue.apply(this,arguments)}function $e(gt,Qt,pn){const zn=window.grecaptcha;rr(zn)?zn.enterprise.ready(()=>{zn.enterprise.execute(gt,{action:y}).then(jr=>{Qt(jr)}).catch(()=>{Qt(ls)})}):pn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((gt,Qt)=>{(function Q(gt){return ue.apply(this,arguments)})(M.auth).then(pn=>{if(!I&&rr(window.grecaptcha))$e(pn,gt,Qt);else{if(typeof window>"u")return void Qt(new Error("RecaptchaVerifier is only supported in browser"));Tr("https://www.google.com/recaptcha/enterprise.js?render="+pn).then(()=>{$e(pn,gt,Qt)}).catch(zn=>{Qt(zn)})}}).catch(pn=>{Qt(pn)})})})()}}function Di(x,y,I){return on.apply(this,arguments)}function on(){return(on=(0,R.Z)(function*(x,y,I,M=!1){const Q=new ts(x);let ue;try{ue=yield Q.verify(I)}catch{ue=yield Q.verify(I,!0)}const $e=Object.assign({},y);return Object.assign($e,M?{captchaResp:ue}:{captchaResponse:ue}),Object.assign($e,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($e,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$e})).apply(this,arguments)}class ar{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,I){const M=ue=>new Promise(($e,gt)=>{try{$e(y(ue))}catch(Qt){gt(Qt)}});M.onAbort=I,this.queue.push(M);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(y){var I=this;return(0,R.Z)(function*(){if(I.auth.currentUser===y)return;const M=[];try{for(const Q of I.queue)yield Q(y),Q.onAbort&&M.push(Q.onAbort)}catch(Q){M.reverse();for(const ue of M)try{ue()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}class Gr{constructor(y,I,M,Q){this.app=y,this.heartbeatServiceProvider=I,this.appCheckServiceProvider=M,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xo(this),this.idTokenSubscription=new xo(this),this.beforeStateQueue=new ar(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(y,I){var M=this;return I&&(this._popupRedirectResolver=Ui(I)),this._initializationPromise=this.queue((0,R.Z)(function*(){var Q,ue;if(!M._deleted&&(M.persistenceManager=yield De.create(M,y),!M._deleted)){if(null!==(Q=M._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(I),M.lastNotifiedUid=(null===(ue=M.currentUser)||void 0===ue?void 0:ue.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,R.Z)(function*(){if(y._deleted)return;const I=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||I){if(y.currentUser&&I&&y.currentUser.uid===I.uid)return y._currentUser._assign(I),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(I,!0)}})()}initializeCurrentUser(y){var I=this;return(0,R.Z)(function*(){var M;const Q=yield I.assertedPersistence.getCurrentUser();let ue=Q,$e=!1;if(y&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const gt=null===(M=I.redirectUser)||void 0===M?void 0:M._redirectEventId,Qt=ue?._redirectEventId,pn=yield I.tryRedirectSignIn(y);(!gt||gt===Qt)&&pn?.user&&(ue=pn.user,$e=!0)}if(!ue)return I.directlySetCurrentUser(null);if(!ue._redirectEventId){if($e)try{yield I.beforeStateQueue.runMiddleware(ue)}catch(gt){ue=Q,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(gt))}return ue?I.reloadAndSetCurrentUserOrClear(ue):I.directlySetCurrentUser(null)}return Be(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===ue._redirectEventId?I.directlySetCurrentUser(ue):I.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(y){var I=this;return(0,R.Z)(function*(){let M=null;try{M=yield I._popupRedirectResolver._completeRedirectFn(I,y,!0)}catch{yield I._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(y){var I=this;return(0,R.Z)(function*(){try{yield ei(y)}catch(M){if("auth/network-request-failed"!==M?.code)return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function zr(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var y=this;return(0,R.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var I=this;return(0,R.Z)(function*(){const M=y?(0,ee.m9)(y):null;return M&&Be(M.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(M&&M._clone(I))})()}_updateCurrentUser(y,I=!1){var M=this;return(0,R.Z)(function*(){if(!M._deleted)return y&&Be(M.tenantId===y.tenantId,M,"tenant-id-mismatch"),I||(yield M.beforeStateQueue.runMiddleware(y)),M.queue((0,R.Z)(function*(){yield M.directlySetCurrentUser(y),M.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,R.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var I=this;return this.queue((0,R.Z)(function*(){yield I.assertedPersistence.setPersistence(Ui(y))}))}initializeRecaptchaConfig(){var y=this;return(0,R.Z)(function*(){const I=yield Lt(y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),M=new vn(I);null==y.tenantId?y._agentRecaptchaConfig=M:y._tenantRecaptchaConfigs[y.tenantId]=M,M.emailPasswordEnabled&&new ts(y).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new ee.LL("auth","Firebase",y())}onAuthStateChanged(y,I,M){return this.registerStateListener(this.authStateSubscription,y,I,M)}beforeAuthStateChanged(y,I){return this.beforeStateQueue.pushCallback(y,I)}onIdTokenChanged(y,I,M){return this.registerStateListener(this.idTokenSubscription,y,I,M)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,I){var M=this;return(0,R.Z)(function*(){const Q=yield M.getOrInitRedirectPersistenceManager(I);return null===y?Q.removeCurrentUser():Q.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var I=this;return(0,R.Z)(function*(){if(!I.redirectPersistenceManager){const M=y&&Ui(y)||I._popupRedirectResolver;Be(M,I,"argument-error"),I.redirectPersistenceManager=yield De.create(I,[Ui(M._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(y){var I=this;return(0,R.Z)(function*(){var M,Q;return I._isInitialized&&(yield I.queue((0,R.Z)(function*(){}))),(null===(M=I._currentUser)||void 0===M?void 0:M._redirectEventId)===y?I._currentUser:(null===(Q=I.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===y?I.redirectUser:null})()}_persistUserIfCurrent(y){var I=this;return(0,R.Z)(function*(){if(y===I.currentUser)return I.queue((0,R.Z)(function*(){return I.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(I=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,I,M,Q){if(this._deleted)return()=>{};const ue="function"==typeof I?I:I.next.bind(I),$e=this._isInitialized?Promise.resolve():this._initializationPromise;return Be($e,this,"internal-error"),$e.then(()=>ue(this.currentUser)),"function"==typeof I?y.addObserver(I,M,Q):y.addObserver(I)}directlySetCurrentUser(y){var I=this;return(0,R.Z)(function*(){I.currentUser&&I.currentUser!==y&&I._currentUser._stopProactiveRefresh(),y&&I.isProactiveRefreshEnabled&&y._startProactiveRefresh(),I.currentUser=y,y?yield I.assertedPersistence.setCurrentUser(y):yield I.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=xs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,R.Z)(function*(){var I;const M={"X-Client-Version":y.clientVersion};y.app.options.appId&&(M["X-Firebase-gmpid"]=y.app.options.appId);const Q=yield null===(I=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();Q&&(M["X-Firebase-Client"]=Q);const ue=yield y._getAppCheckToken();return ue&&(M["X-Firebase-AppCheck"]=ue),M})()}_getAppCheckToken(){var y=this;return(0,R.Z)(function*(){var I;const M=yield null===(I=y.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getToken();return M?.error&&function At(x,...y){ut.logLevel<=xe.in.WARN&&ut.warn(`Auth (${$.SDK_VERSION}): ${x}`,...y)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function Rr(x){return(0,ee.m9)(x)}class xo{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,ee.ne)(I=>this.observer=I)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wi(x,y,I){const M=Rr(x);Be(M._canInitEmulator,M,"emulator-config-failed"),Be(/^https?:\/\//.test(y),M,"invalid-emulator-scheme");const Q=!!I?.disableWarnings,ue=je(y),{host:$e,port:gt}=function ke(x){const y=je(x),I=/(\/\/)?([^?#/]+)/.exec(x.substr(y.length));if(!I)return{host:"",port:null};const M=I[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(M);if(Q){const ue=Q[1];return{host:ue,port:Fe(M.substr(ue.length+1))}}{const[ue,$e]=M.split(":");return{host:ue,port:Fe($e)}}}(y);M.config.emulator={url:`${ue}//${$e}${null===gt?"":`:${gt}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:$e,port:gt,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function Dt(){function x(){const y=document.createElement("p"),I=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}function je(x){const y=x.indexOf(":");return y<0?"":x.substr(0,y+1)}function Fe(x){if(!x)return null;const y=Number(x);return isNaN(y)?null:y}class Nt{constructor(y,I){this.providerId=y,this.signInMethod=I}toJSON(){return se("not implemented")}_getIdTokenResponse(y){return se("not implemented")}_linkToIdToken(y,I){return se("not implemented")}_getReauthenticationResolver(y){return se("not implemented")}}function Fn(x,y){return sr.apply(this,arguments)}function sr(){return(sr=(0,R.Z)(function*(x,y){return nt(x,"POST","/v1/accounts:resetPassword",Le(x,y))})).apply(this,arguments)}function Tn(x,y){return xr.apply(this,arguments)}function xr(){return(xr=(0,R.Z)(function*(x,y){return nt(x,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ws(){return(ws=(0,R.Z)(function*(x,y){return nt(x,"POST","/v1/accounts:update",Le(x,y))})).apply(this,arguments)}function cs(x,y){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,R.Z)(function*(x,y){return jn(x,"POST","/v1/accounts:signInWithPassword",Le(x,y))})).apply(this,arguments)}function gi(x,y){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,R.Z)(function*(x,y){return nt(x,"POST","/v1/accounts:sendOobCode",Le(x,y))})).apply(this,arguments)}function ao(){return(ao=(0,R.Z)(function*(x,y){return gi(x,y)})).apply(this,arguments)}function Br(x,y){return kr.apply(this,arguments)}function kr(){return(kr=(0,R.Z)(function*(x,y){return gi(x,y)})).apply(this,arguments)}function lr(x,y){return Si.apply(this,arguments)}function Si(){return(Si=(0,R.Z)(function*(x,y){return gi(x,y)})).apply(this,arguments)}function ps(){return(ps=(0,R.Z)(function*(x,y){return gi(x,y)})).apply(this,arguments)}function ds(){return(ds=(0,R.Z)(function*(x,y){return jn(x,"POST","/v1/accounts:signInWithEmailLink",Le(x,y))})).apply(this,arguments)}function hi(){return(hi=(0,R.Z)(function*(x,y){return jn(x,"POST","/v1/accounts:signInWithEmailLink",Le(x,y))})).apply(this,arguments)}class Un extends Nt{constructor(y,I,M,Q=null){super("password",M),this._email=y,this._password=I,this._tenantId=Q}static _fromEmailAndPassword(y,I){return new Un(y,I,"password")}static _fromEmailAndCode(y,I,M=null){return new Un(y,I,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const I="string"==typeof y?JSON.parse(y):y;if(I?.email&&I?.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(y){var I=this;return(0,R.Z)(function*(){var M;switch(I.signInMethod){case"password":const Q={returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=y._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const ue=yield Di(y,Q,"signInWithPassword");return cs(y,ue)}return cs(y,Q).catch(function(){var ue=(0,R.Z)(function*($e){if("auth/missing-recaptcha-token"===$e.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const gt=yield Di(y,Q,"signInWithPassword");return cs(y,gt)}return Promise.reject($e)});return function($e){return ue.apply(this,arguments)}}());case"emailLink":return function qi(x,y){return ds.apply(this,arguments)}(y,{email:I._email,oobCode:I._password});default:Ze(y,"internal-error")}})()}_linkToIdToken(y,I){var M=this;return(0,R.Z)(function*(){switch(M.signInMethod){case"password":return Tn(y,{idToken:I,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function Ko(x,y){return hi.apply(this,arguments)}(y,{idToken:I,email:M._email,oobCode:M._password});default:Ze(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Yn(x,y){return qo.apply(this,arguments)}function qo(){return(qo=(0,R.Z)(function*(x,y){return jn(x,"POST","/v1/accounts:signInWithIdp",Le(x,y))})).apply(this,arguments)}class mi extends Nt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const I=new mi(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(I.idToken=y.idToken),y.accessToken&&(I.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(I.nonce=y.nonce),y.pendingToken&&(I.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(I.accessToken=y.oauthToken,I.secret=y.oauthTokenSecret):Ze("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const I="string"==typeof y?JSON.parse(y):y,{providerId:M,signInMethod:Q}=I,ue=(0,Me._T)(I,["providerId","signInMethod"]);if(!M||!Q)return null;const $e=new mi(M,Q);return $e.idToken=ue.idToken||void 0,$e.accessToken=ue.accessToken||void 0,$e.secret=ue.secret,$e.nonce=ue.nonce,$e.pendingToken=ue.pendingToken||null,$e}_getIdTokenResponse(y){return Yn(y,this.buildRequest())}_linkToIdToken(y,I){const M=this.buildRequest();return M.idToken=I,Yn(y,M)}_getReauthenticationResolver(y){const I=this.buildRequest();return I.autoCreate=!1,Yn(y,I)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),y.postBody=(0,ee.xO)(I)}return y}}function Zs(){return(Zs=(0,R.Z)(function*(x,y){return nt(x,"POST","/v1/accounts:sendVerificationCode",Le(x,y))})).apply(this,arguments)}function Ml(){return(Ml=(0,R.Z)(function*(x,y){return jn(x,"POST","/v1/accounts:signInWithPhoneNumber",Le(x,y))})).apply(this,arguments)}function ml(){return(ml=(0,R.Z)(function*(x,y){const I=yield jn(x,"POST","/v1/accounts:signInWithPhoneNumber",Le(x,y));if(I.temporaryProof)throw qn(x,"account-exists-with-different-credential",I);return I})).apply(this,arguments)}const Hs={USER_NOT_FOUND:"user-not-found"};function Yl(){return(Yl=(0,R.Z)(function*(x,y){return jn(x,"POST","/v1/accounts:signInWithPhoneNumber",Le(x,Object.assign(Object.assign({},y),{operation:"REAUTH"})),Hs)})).apply(this,arguments)}class uo extends Nt{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,I){return new uo({verificationId:y,verificationCode:I})}static _fromTokenResponse(y,I){return new uo({phoneNumber:y,temporaryProof:I})}_getIdTokenResponse(y){return function Eo(x,y){return Ml.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,I){return function Yo(x,y){return ml.apply(this,arguments)}(y,Object.assign({idToken:I},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function lo(x,y){return Yl.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:I,verificationId:M,verificationCode:Q}=this.params;return y&&I?{temporaryProof:y,phoneNumber:I}:{sessionInfo:M,code:Q}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:I,verificationCode:M,phoneNumber:Q,temporaryProof:ue}=y;return M||I||Q||ue?new uo({verificationId:I,verificationCode:M,phoneNumber:Q,temporaryProof:ue}):null}}class zs{constructor(y){var I,M,Q,ue,$e,gt;const Qt=(0,ee.zd)((0,ee.pd)(y)),pn=null!==(I=Qt.apiKey)&&void 0!==I?I:null,zn=null!==(M=Qt.oobCode)&&void 0!==M?M:null,jr=function Qo(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=Qt.mode)&&void 0!==Q?Q:null);Be(pn&&zn&&jr,"argument-error"),this.apiKey=pn,this.operation=jr,this.code=zn,this.continueUrl=null!==(ue=Qt.continueUrl)&&void 0!==ue?ue:null,this.languageCode=null!==($e=Qt.languageCode)&&void 0!==$e?$e:null,this.tenantId=null!==(gt=Qt.tenantId)&&void 0!==gt?gt:null}static parseLink(y){const I=function nl(x){const y=(0,ee.zd)((0,ee.pd)(x)).link,I=y?(0,ee.zd)((0,ee.pd)(y)).deep_link_id:null,M=(0,ee.zd)((0,ee.pd)(x)).deep_link_id;return(M?(0,ee.zd)((0,ee.pd)(M)).link:null)||M||I||y||x}(y);try{return new zs(I)}catch{return null}}}let dr=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(I,M){return Un._fromEmailAndPassword(I,M)}static credentialWithLink(I,M){const Q=zs.parseLink(M);return Be(Q,"argument-error"),Un._fromEmailAndCode(I,Q.code,Q.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class Po{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Ws extends Po{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Xo extends Ws{static credentialFromJSON(y){const I="string"==typeof y?JSON.parse(y):y;return Be("providerId"in I&&"signInMethod"in I,"argument-error"),mi._fromParams(I)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return Be(y.idToken||y.accessToken,"argument-error"),mi._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Xo.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Xo.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:I,oauthAccessToken:M,oauthTokenSecret:Q,pendingToken:ue,nonce:$e,providerId:gt}=y;if(!M&&!Q&&!I&&!ue||!gt)return null;try{return new Xo(gt)._credential({idToken:I,accessToken:M,nonce:$e,pendingToken:ue})}catch{return null}}}let gs=(()=>{class x extends Ws{constructor(){super("facebook.com")}static credential(I){return mi._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return x.credentialFromTaggedObject(I)}static credentialFromError(I){return x.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return x.credential(I.oauthAccessToken)}catch{return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),Io=(()=>{class x extends Ws{constructor(){super("google.com"),this.addScope("profile")}static credential(I,M){return mi._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:M})}static credentialFromResult(I){return x.credentialFromTaggedObject(I)}static credentialFromError(I){return x.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:M,oauthAccessToken:Q}=I;if(!M&&!Q)return null;try{return x.credential(M,Q)}catch{return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})(),ms=(()=>{class x extends Ws{constructor(){super("github.com")}static credential(I){return mi._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GITHUB_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return x.credentialFromTaggedObject(I)}static credentialFromError(I){return x.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return x.credential(I.oauthAccessToken)}catch{return null}}}return x.GITHUB_SIGN_IN_METHOD="github.com",x.PROVIDER_ID="github.com",x})();class Vi extends Nt{constructor(y,I){super(y,y),this.pendingToken=I}_getIdTokenResponse(y){return Yn(y,this.buildRequest())}_linkToIdToken(y,I){const M=this.buildRequest();return M.idToken=I,Yn(y,M)}_getReauthenticationResolver(y){const I=this.buildRequest();return I.autoCreate=!1,Yn(y,I)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const I="string"==typeof y?JSON.parse(y):y,{providerId:M,signInMethod:Q,pendingToken:ue}=I;return M&&Q&&ue&&M===Q?new Vi(M,ue):null}static _create(y,I){return new Vi(y,I)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class la extends Po{constructor(y){Be(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return la.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return la.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const I=Vi.fromJSON(y);return Be(I,"argument-error"),I}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:I,providerId:M}=y;if(!I||!M)return null;try{return Vi._create(M,I)}catch{return null}}}let ua=(()=>{class x extends Ws{constructor(){super("twitter.com")}static credential(I,M){return mi._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.TWITTER_SIGN_IN_METHOD,oauthToken:I,oauthTokenSecret:M})}static credentialFromResult(I){return x.credentialFromTaggedObject(I)}static credentialFromError(I){return x.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthAccessToken:M,oauthTokenSecret:Q}=I;if(!M||!Q)return null;try{return x.credential(M,Q)}catch{return null}}}return x.TWITTER_SIGN_IN_METHOD="twitter.com",x.PROVIDER_ID="twitter.com",x})();function co(x,y){return ks.apply(this,arguments)}function ks(){return(ks=(0,R.Z)(function*(x,y){return jn(x,"POST","/v1/accounts:signUp",Le(x,y))})).apply(this,arguments)}class Ni{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,I,M,Q=!1){return(0,R.Z)(function*(){const ue=yield pi._fromIdTokenResponse(y,M,Q),$e=ca(M);return new Ni({user:ue,providerId:$e,_tokenResponse:M,operationType:I})})()}static _forOperation(y,I,M){return(0,R.Z)(function*(){yield y._updateTokensIfNecessary(M,!0);const Q=ca(M);return new Ni({user:y,providerId:Q,_tokenResponse:M,operationType:I})})()}}function ca(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}function To(x){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,R.Z)(function*(x){var y;const I=Rr(x);if(yield I._initializationPromise,null!==(y=I.currentUser)&&void 0!==y&&y.isAnonymous)return new Ni({user:I.currentUser,providerId:null,operationType:"signIn"});const M=yield co(I,{returnSecureToken:!0}),Q=yield Ni._fromIdTokenResponse(I,"signIn",M,!0);return yield I._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class Mo extends ee.ZR{constructor(y,I,M,Q){var ue;super(I.code,I.message),this.operationType=M,this.user=Q,Object.setPrototypeOf(this,Mo.prototype),this.customData={appName:y.name,tenantId:null!==(ue=y.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:I.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(y,I,M,Q){return new Mo(y,I,M,Q)}}function yl(x,y,I,M){return("reauthenticate"===y?I._getReauthenticationResolver(x):I._getIdTokenResponse(x)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?Mo._fromErrorAndOperation(x,ue,y,M):ue})}function Vr(x){return new Set(x.map(({providerId:y})=>y).filter(y=>!!y))}function Xu(x,y){return ai.apply(this,arguments)}function ai(){return ai=(0,R.Z)(function*(x,y){const I=(0,ee.m9)(x);yield Zr(!0,I,y);const{providerUserInfo:M}=yield function nn(x,y){return Or.apply(this,arguments)}(I.auth,{idToken:yield I.getIdToken(),deleteProvider:[y]}),Q=Vr(M||[]);return I.providerData=I.providerData.filter(ue=>Q.has(ue.providerId)),Q.has("phone")||(I.phoneNumber=null),yield I.auth._persistUserIfCurrent(I),I}),ai.apply(this,arguments)}function Gs(x,y){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,R.Z)(function*(x,y,I=!1){const M=yield gn(x,y._linkToIdToken(x.auth,yield x.getIdToken()),I);return Ni._forOperation(x,"link",M)})).apply(this,arguments)}function Zr(x,y,I){return bo.apply(this,arguments)}function bo(){return(bo=(0,R.Z)(function*(x,y,I){yield ei(y);const Q=!1===x?"provider-already-linked":"no-such-provider";Be(Vr(y.providerData).has(I)===x,y.auth,Q)})).apply(this,arguments)}function ys(x,y){return hs.apply(this,arguments)}function hs(){return(hs=(0,R.Z)(function*(x,y,I=!1){const{auth:M}=x,Q="reauthenticate";try{const ue=yield gn(x,yl(M,Q,y,x),I);Be(ue.idToken,M,"internal-error");const $e=Dr(ue.idToken);Be($e,M,"internal-error");const{sub:gt}=$e;return Be(x.uid===gt,M,"user-mismatch"),Ni._forOperation(x,Q,ue)}catch(ue){throw"auth/user-not-found"===ue?.code&&Ze(M,"user-mismatch"),ue}})).apply(this,arguments)}function Ys(x,y){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,R.Z)(function*(x,y,I=!1){const M="signIn",Q=yield yl(x,M,y),ue=yield Ni._fromIdTokenResponse(x,M,Q);return I||(yield x._updateCurrentUser(ue.user)),ue})).apply(this,arguments)}function or(x,y){return da.apply(this,arguments)}function da(){return(da=(0,R.Z)(function*(x,y){return Ys(Rr(x),y)})).apply(this,arguments)}function Nl(x,y){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,R.Z)(function*(x,y){const I=(0,ee.m9)(x);return yield Zr(!1,I,y.providerId),Gs(I,y)})).apply(this,arguments)}function ha(x,y){return fa.apply(this,arguments)}function fa(){return(fa=(0,R.Z)(function*(x,y){return ys((0,ee.m9)(x),y)})).apply(this,arguments)}function Ol(){return(Ol=(0,R.Z)(function*(x,y){return jn(x,"POST","/v1/accounts:signInWithCustomToken",Le(x,y))})).apply(this,arguments)}function _l(x,y){return ot.apply(this,arguments)}function ot(){return ot=(0,R.Z)(function*(x,y){const I=Rr(x),M=yield function Jo(x,y){return Ol.apply(this,arguments)}(I,{token:y,returnSecureToken:!0}),Q=yield Ni._fromIdTokenResponse(I,"signIn",M);return yield I._updateCurrentUser(Q.user),Q}),ot.apply(this,arguments)}class Gn{constructor(y,I){this.factorId=y,this.uid=I.mfaEnrollmentId,this.enrollmentTime=new Date(I.enrolledAt).toUTCString(),this.displayName=I.displayName}static _fromServerResponse(y,I){return"phoneInfo"in I?Xl._fromServerResponse(y,I):"totpInfo"in I?No._fromServerResponse(y,I):Ze(y,"internal-error")}}class Xl extends Gn{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,I){return new Xl(I)}}class No extends Gn{constructor(y){super("totp",y)}static _fromServerResponse(y,I){return new No(I)}}function Oi(x,y,I){var M;Be((null===(M=I.url)||void 0===M?void 0:M.length)>0,x,"invalid-continue-uri"),Be(typeof I.dynamicLinkDomain>"u"||I.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),y.continueUrl=I.url,y.dynamicLinkDomain=I.dynamicLinkDomain,y.canHandleCodeInApp=I.handleCodeInApp,I.iOS&&(Be(I.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),y.iOSBundleId=I.iOS.bundleId),I.android&&(Be(I.android.packageName.length>0,x,"missing-android-pkg-name"),y.androidInstallApp=I.android.installApp,y.androidMinimumVersionCode=I.android.minimumVersion,y.androidPackageName=I.android.packageName)}function mu(x,y,I){return Oo.apply(this,arguments)}function Oo(){return Oo=(0,R.Z)(function*(x,y,I){var M;const Q=Rr(x),ue={requestType:"PASSWORD_RESET",email:y,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=Q._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const $e=yield Di(Q,ue,"getOobCode",!0);I&&Oi(Q,$e,I),yield Br(Q,$e)}else I&&Oi(Q,ue,I),yield Br(Q,ue).catch(function(){var $e=(0,R.Z)(function*(gt){if("auth/missing-recaptcha-token"!==gt.code)return Promise.reject(gt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Qt=yield Di(Q,ue,"getOobCode",!0);I&&Oi(Q,Qt,I),yield Br(Q,Qt)}});return function(gt){return $e.apply(this,arguments)}}())}),Oo.apply(this,arguments)}function Qs(x,y,I){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,R.Z)(function*(x,y,I){yield Fn((0,ee.m9)(x),{oobCode:y,newPassword:I})})).apply(this,arguments)}function kl(x,y){return rl.apply(this,arguments)}function rl(){return rl=(0,R.Z)(function*(x,y){yield function us(x,y){return ws.apply(this,arguments)}((0,ee.m9)(x),{oobCode:y})}),rl.apply(this,arguments)}function Co(x,y){return Is.apply(this,arguments)}function Is(){return(Is=(0,R.Z)(function*(x,y){const I=(0,ee.m9)(x),M=yield Fn(I,{oobCode:y}),Q=M.requestType;switch(Be(Q,I,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Be(M.newEmail,I,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Be(M.mfaInfo,I,"internal-error");default:Be(M.email,I,"internal-error")}let ue=null;return M.mfaInfo&&(ue=Gn._fromServerResponse(Rr(I),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:ue},operation:Q}})).apply(this,arguments)}function Ss(x,y){return As.apply(this,arguments)}function As(){return(As=(0,R.Z)(function*(x,y){const{data:I}=yield Co((0,ee.m9)(x),y);return I.email})).apply(this,arguments)}function ea(x,y,I){return ko.apply(this,arguments)}function ko(){return ko=(0,R.Z)(function*(x,y,I){var M;const Q=Rr(x),ue={returnSecureToken:!0,email:y,password:I,clientType:"CLIENT_TYPE_WEB"};let $e;if(null!==(M=Q._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const pn=yield Di(Q,ue,"signUpPassword");$e=co(Q,pn)}else $e=co(Q,ue).catch(function(){var pn=(0,R.Z)(function*(zn){if("auth/missing-recaptcha-token"===zn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const jr=yield Di(Q,ue,"signUpPassword");return co(Q,jr)}return Promise.reject(zn)});return function(zn){return pn.apply(this,arguments)}}());const gt=yield $e.catch(pn=>Promise.reject(pn)),Qt=yield Ni._fromIdTokenResponse(Q,"signIn",gt);return yield Q._updateCurrentUser(Qt.user),Qt}),ko.apply(this,arguments)}function Ls(x,y,I){return or((0,ee.m9)(x),dr.credential(y,I))}function Xs(x,y,I){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,R.Z)(function*(x,y,I){var M;const Q=Rr(x),ue={requestType:"EMAIL_SIGNIN",email:y,clientType:"CLIENT_TYPE_WEB"};function $e(gt,Qt){Be(Qt.handleCodeInApp,Q,"argument-error"),Qt&&Oi(Q,gt,Qt)}if(null!==(M=Q._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const gt=yield Di(Q,ue,"getOobCode",!0);$e(gt,I),yield lr(Q,gt)}else $e(ue,I),yield lr(Q,ue).catch(function(){var gt=(0,R.Z)(function*(Qt){if("auth/missing-recaptcha-token"!==Qt.code)return Promise.reject(Qt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const pn=yield Di(Q,ue,"getOobCode",!0);$e(pn,I),yield lr(Q,pn)}});return function(Qt){return gt.apply(this,arguments)}}())}),Lo.apply(this,arguments)}function Pa(x,y){return"EMAIL_SIGNIN"===zs.parseLink(y)?.operation}function vl(x,y,I){return $i.apply(this,arguments)}function $i(){return($i=(0,R.Z)(function*(x,y,I){const M=(0,ee.m9)(x),Q=dr.credentialWithLink(y,I||$t());return Be(Q._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),or(M,Q)})).apply(this,arguments)}function pa(){return(pa=(0,R.Z)(function*(x,y){return nt(x,"POST","/v1/accounts:createAuthUri",Le(x,y))})).apply(this,arguments)}function Yr(x,y){return ho.apply(this,arguments)}function ho(){return ho=(0,R.Z)(function*(x,y){const M={identifier:y,continueUri:hn()?$t():"http://localhost"},{signinMethods:Q}=yield function Js(x,y){return pa.apply(this,arguments)}((0,ee.m9)(x),M);return Q||[]}),ho.apply(this,arguments)}function Ma(x,y){return Ps.apply(this,arguments)}function Ps(){return Ps=(0,R.Z)(function*(x,y){const I=(0,ee.m9)(x),Q={requestType:"VERIFY_EMAIL",idToken:yield x.getIdToken()};y&&Oi(I.auth,Q,y);const{email:ue}=yield function aa(x,y){return ao.apply(this,arguments)}(I.auth,Q);ue!==x.email&&(yield x.reload())}),Ps.apply(this,arguments)}function Ms(x,y,I){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,R.Z)(function*(x,y,I){const M=(0,ee.m9)(x),ue={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield x.getIdToken(),newEmail:y};I&&Oi(M.auth,ue,I);const{email:$e}=yield function Kr(x,y){return ps.apply(this,arguments)}(M.auth,ue);$e!==x.email&&(yield x.reload())}),Fo.apply(this,arguments)}function Do(){return(Do=(0,R.Z)(function*(x,y){return nt(x,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ga(x,y){return Ns.apply(this,arguments)}function Ns(){return Ns=(0,R.Z)(function*(x,{displayName:y,photoURL:I}){if(void 0===y&&void 0===I)return;const M=(0,ee.m9)(x),ue={idToken:yield M.getIdToken(),displayName:y,photoUrl:I,returnSecureToken:!0},$e=yield gn(M,function ns(x,y){return Do.apply(this,arguments)}(M.auth,ue));M.displayName=$e.displayName||null,M.photoURL=$e.photoUrl||null;const gt=M.providerData.find(({providerId:Qt})=>"password"===Qt);gt&&(gt.displayName=M.displayName,gt.photoURL=M.photoURL),yield M._updateTokensIfNecessary($e)}),Ns.apply(this,arguments)}function Zi(x,y){return _s((0,ee.m9)(x),y,null)}function br(x,y){return _s((0,ee.m9)(x),null,y)}function _s(x,y,I){return li.apply(this,arguments)}function li(){return(li=(0,R.Z)(function*(x,y,I){const{auth:M}=x,ue={idToken:yield x.getIdToken(),returnSecureToken:!0};y&&(ue.email=y),I&&(ue.password=I);const $e=yield gn(x,Tn(M,ue));yield x._updateTokensIfNecessary($e,!0)})).apply(this,arguments)}class to{constructor(y,I,M={}){this.isNewUser=y,this.providerId=I,this.profile=M}}class Ll extends to{constructor(y,I,M,Q){super(y,I,M),this.username=Q}}class eu extends to{constructor(y,I){super(y,"facebook.com",I)}}class tu extends Ll{constructor(y,I){super(y,"github.com",I,"string"==typeof I?.login?I?.login:null)}}class nu extends to{constructor(y,I){super(y,"google.com",I)}}class El extends Ll{constructor(y,I,M){super(y,"twitter.com",I,M)}}function ru(x){const{user:y,_tokenResponse:I}=x;return y.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function eo(x){var y,I;if(!x)return null;const{providerId:M}=x,Q=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},ue=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!M&&x?.idToken){const $e=null===(I=null===(y=Dr(x.idToken))||void 0===y?void 0:y.firebase)||void 0===I?void 0:I.sign_in_provider;if($e)return new to(ue,"anonymous"!==$e&&"custom"!==$e?$e:null)}if(!M)return null;switch(M){case"facebook.com":return new eu(ue,Q);case"github.com":return new tu(ue,Q);case"google.com":return new nu(ue,Q);case"twitter.com":return new El(ue,Q,x.screenName||null);case"custom":case"anonymous":return new to(ue,null);default:return new to(ue,M,Q)}}(I)}class mr{constructor(y,I,M){this.type=y,this.credential=I,this.auth=M}static _fromIdtoken(y,I){return new mr("enroll",y,I)}static _fromMfaPendingCredential(y){return new mr("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var I,M;if(y?.multiFactorSession){if(null!==(I=y.multiFactorSession)&&void 0!==I&&I.pendingCredential)return mr._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(M=y.multiFactorSession)&&void 0!==M&&M.idToken)return mr._fromIdtoken(y.multiFactorSession.idToken)}return null}}class tr{constructor(y,I,M){this.session=y,this.hints=I,this.signInResolver=M}static _fromError(y,I){const M=Rr(y),Q=I.customData._serverResponse,ue=(Q.mfaInfo||[]).map(gt=>Gn._fromServerResponse(M,gt));Be(Q.mfaPendingCredential,M,"internal-error");const $e=mr._fromMfaPendingCredential(Q.mfaPendingCredential);return new tr($e,ue,function(){var gt=(0,R.Z)(function*(Qt){const pn=yield Qt._process(M,$e);delete Q.mfaInfo,delete Q.mfaPendingCredential;const zn=Object.assign(Object.assign({},Q),{idToken:pn.idToken,refreshToken:pn.refreshToken});switch(I.operationType){case"signIn":const jr=yield Ni._fromIdTokenResponse(M,I.operationType,zn);return yield M._updateCurrentUser(jr.user),jr;case"reauthenticate":return Be(I.user,M,"internal-error"),Ni._forOperation(I.user,I.operationType,zn);default:Ze(M,"internal-error")}});return function(Qt){return gt.apply(this,arguments)}}())}resolveSignIn(y){var I=this;return(0,R.Z)(function*(){return I.signInResolver(y)})()}}function wr(x,y){var I;const M=(0,ee.m9)(x),Q=y;return Be(y.customData.operationType,M,"argument-error"),Be(null===(I=Q.customData._serverResponse)||void 0===I?void 0:I.mfaPendingCredential,M,"argument-error"),tr._fromError(M,Q)}class En{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(I=>{I.mfaInfo&&(this.enrolledFactors=I.mfaInfo.map(M=>Gn._fromServerResponse(y.auth,M)))})}static _fromUser(y){return new En(y)}getSession(){var y=this;return(0,R.Z)(function*(){return mr._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,I){var M=this;return(0,R.Z)(function*(){const Q=y,ue=yield M.getSession(),$e=yield gn(M.user,Q._process(M.user.auth,ue,I));return yield M.user._updateTokensIfNecessary($e),M.user.reload()})()}unenroll(y){var I=this;return(0,R.Z)(function*(){const M="string"==typeof y?y:y.uid,Q=yield I.user.getIdToken();try{const ue=yield gn(I.user,function an(x,y){return nt(x,"POST","/v2/accounts/mfaEnrollment:withdraw",Le(x,y))}(I.user.auth,{idToken:Q,mfaEnrollmentId:M}));I.enrolledFactors=I.enrolledFactors.filter(({uid:$e})=>$e!==M),yield I.user._updateTokensIfNecessary(ue),yield I.user.reload()}catch(ue){throw ue}})()}}const Yi=new WeakMap;function zt(x){const y=(0,ee.m9)(x);return Yi.has(y)||Yi.set(y,En._fromUser(y)),Yi.get(y)}const Je="__sak";class Et{constructor(y,I){this.storageRetriever=y,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(Je,"1"),this.storage.removeItem(Je),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,I){return this.storage.setItem(y,JSON.stringify(I)),Promise.resolve()}_get(y){const I=this.storage.getItem(y);return Promise.resolve(I?JSON.parse(I):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fl=(()=>{class x extends Et{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,M)=>this.onStorageEvent(I,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ii(){const x=(0,ee.z$)();return de(x)||Pe(x)}()&&function Wr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=bn(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const M of Object.keys(this.listeners)){const Q=this.storage.getItem(M),ue=this.localCache[M];Q!==ue&&I(M,ue,Q)}}onStorageEvent(I,M=!1){if(!I.key)return void this.forAllChangedKeys((gt,Qt,pn)=>{this.notifyListeners(gt,pn)});const Q=I.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const gt=this.storage.getItem(Q);if(I.newValue!==gt)null!==I.newValue?this.storage.setItem(Q,I.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===I.newValue&&!M)return}const ue=()=>{const gt=this.storage.getItem(Q);!M&&this.localCache[Q]===gt||this.notifyListeners(Q,gt)},$e=this.storage.getItem(Q);!function fn(){return(0,ee.w1)()&&10===document.documentMode}()||$e===I.newValue||I.newValue===I.oldValue?ue():setTimeout(ue,10)}notifyListeners(I,M){this.localCache[I]=M;const Q=this.listeners[I];if(Q)for(const ue of Array.from(Q))ue(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,M,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:M,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(M)}_removeListener(I,M){this.listeners[I]&&(this.listeners[I].delete(M),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,M){var Q=()=>super._set,ue=this;return(0,R.Z)(function*(){yield Q().call(ue,I,M),ue.localCache[I]=JSON.stringify(M)})()}_get(I){var M=()=>super._get,Q=this;return(0,R.Z)(function*(){const ue=yield M().call(Q,I);return Q.localCache[I]=JSON.stringify(ue),ue})()}_remove(I){var M=()=>super._remove,Q=this;return(0,R.Z)(function*(){yield M().call(Q,I),delete Q.localCache[I]})()}}return x.type="LOCAL",x})(),ro=(()=>{class x extends Et{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,M){}_removeListener(I,M){}}return x.type="SESSION",x})();let Il=(()=>{class x{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const M=this.receivers.find(ue=>ue.isListeningto(I));if(M)return M;const Q=new x(I);return this.receivers.push(Q),Q}isListeningto(I){return this.eventTarget===I}handleEvent(I){var M=this;return(0,R.Z)(function*(){const Q=I,{eventId:ue,eventType:$e,data:gt}=Q.data,Qt=M.handlersMap[$e];if(!Qt?.size)return;Q.ports[0].postMessage({status:"ack",eventId:ue,eventType:$e});const pn=Array.from(Qt).map(function(){var jr=(0,R.Z)(function*(Ca){return Ca(Q.origin,gt)});return function(Ca){return jr.apply(this,arguments)}}()),zn=yield function Uc(x){return Promise.all(x.map(function(){var y=(0,R.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(M){return{fulfilled:!1,reason:M}}});return function(I){return y.apply(this,arguments)}}()))}(pn);Q.ports[0].postMessage({status:"done",eventId:ue,eventType:$e,response:zn})})()}_subscribe(I,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(M)}_unsubscribe(I,M){this.handlersMap[I]&&M&&this.handlersMap[I].delete(M),(!M||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function ka(x="",y=10){let I="";for(let M=0;M<y;M++)I+=Math.floor(10*Math.random());return x+I}class _c{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,I,M=50){var Q=this;return(0,R.Z)(function*(){const ue=typeof MessageChannel<"u"?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let $e,gt;return new Promise((Qt,pn)=>{const zn=ka("",20);ue.port1.start();const jr=setTimeout(()=>{pn(new Error("unsupported_event"))},M);gt={messageChannel:ue,onMessage(Ca){const zo=Ca;if(zo.data.eventId===zn)switch(zo.data.status){case"ack":clearTimeout(jr),$e=setTimeout(()=>{pn(new Error("timeout"))},3e3);break;case"done":clearTimeout($e),Qt(zo.data.response);break;default:clearTimeout(jr),clearTimeout($e),pn(new Error("invalid_response"))}}},Q.handlers.add(gt),ue.port1.addEventListener("message",gt.onMessage),Q.target.postMessage({eventType:y,eventId:zn,data:I},[ue.port2])}).finally(()=>{gt&&Q.removeMessageHandler(gt)})})()}}function Qi(){return window}function ma(){return typeof Qi().WorkerGlobalScope<"u"&&"function"==typeof Qi().importScripts}function ui(){return(ui=(0,R.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Xn="firebaseLocalStorageDb",yu=1,Wn="firebaseLocalStorage",sn="fbase_key";class Uo{constructor(y){this.request=y}toPromise(){return new Promise((y,I)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function Tl(x,y){return x.transaction([Wn],y?"readwrite":"readonly").objectStore(Wn)}function La(){const x=indexedDB.open(Xn,yu);return new Promise((y,I)=>{x.addEventListener("error",()=>{I(x.error)}),x.addEventListener("upgradeneeded",()=>{const M=x.result;try{M.createObjectStore(Wn,{keyPath:sn})}catch(Q){I(Q)}}),x.addEventListener("success",(0,R.Z)(function*(){const M=x.result;M.objectStoreNames.contains(Wn)?y(M):(M.close(),yield function Bo(){const x=indexedDB.deleteDatabase(Xn);return new Uo(x).toPromise()}(),y(yield La()))}))})}function Fa(x,y,I){return bl.apply(this,arguments)}function bl(){return(bl=(0,R.Z)(function*(x,y,I){const M=Tl(x,!0).put({[sn]:y,value:I});return new Uo(M).toPromise()})).apply(this,arguments)}function Ua(){return(Ua=(0,R.Z)(function*(x,y){const I=Tl(x,!1).get(y),M=yield new Uo(I).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Ba(x,y){const I=Tl(x,!0).delete(y);return new Uo(I).toPromise()}const Bc=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,R.Z)(function*(){return I.db||(I.db=yield La()),I.db})()}_withRetries(I){var M=this;return(0,R.Z)(function*(){let Q=0;for(;;)try{const ue=yield M._openDb();return yield I(ue)}catch(ue){if(Q++>3)throw ue;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,R.Z)(function*(){return ma()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,R.Z)(function*(){I.receiver=Il._getInstance(function Vl(){return ma()?self:null}()),I.receiver._subscribe("keyChanged",function(){var M=(0,R.Z)(function*(Q,ue){return{keyProcessed:(yield I._poll()).includes(ue.key)}});return function(Q,ue){return M.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var M=(0,R.Z)(function*(Q,ue){return["keyChanged"]});return function(Q,ue){return M.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,R.Z)(function*(){var M,Q;if(I.activeServiceWorker=yield function Bl(){return ui.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new _c(I.activeServiceWorker);const ue=yield I.sender._send("ping",{},800);ue&&null!==(M=ue[0])&&void 0!==M&&M.fulfilled&&null!==(Q=ue[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var M=this;return(0,R.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Ln(){var x;return(null===(x=navigator?.serviceWorker)||void 0===x?void 0:x.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:I},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,R.Z)(function*(){try{if(!indexedDB)return!1;const I=yield La();return yield Fa(I,Je,"1"),yield Ba(I,Je),!0}catch{}return!1})()}_withPendingWrite(I){var M=this;return(0,R.Z)(function*(){M.pendingWrites++;try{yield I()}finally{M.pendingWrites--}})()}_set(I,M){var Q=this;return(0,R.Z)(function*(){return Q._withPendingWrite((0,R.Z)(function*(){return yield Q._withRetries(ue=>Fa(ue,I,M)),Q.localCache[I]=M,Q.notifyServiceWorker(I)}))})()}_get(I){var M=this;return(0,R.Z)(function*(){const Q=yield M._withRetries(ue=>function iu(x,y){return Ua.apply(this,arguments)}(ue,I));return M.localCache[I]=Q,Q})()}_remove(I){var M=this;return(0,R.Z)(function*(){return M._withPendingWrite((0,R.Z)(function*(){return yield M._withRetries(Q=>Ba(Q,I)),delete M.localCache[I],M.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,R.Z)(function*(){const M=yield I._withRetries($e=>{const gt=Tl($e,!1).getAll();return new Uo(gt).toPromise()});if(!M)return[];if(0!==I.pendingWrites)return[];const Q=[],ue=new Set;for(const{fbase_key:$e,value:gt}of M)ue.add($e),JSON.stringify(I.localCache[$e])!==JSON.stringify(gt)&&(I.notifyListeners($e,gt),Q.push($e));for(const $e of Object.keys(I.localCache))I.localCache[$e]&&!ue.has($e)&&(I.notifyListeners($e,null),Q.push($e));return Q})()}notifyListeners(I,M){this.localCache[I]=M;const Q=this.listeners[I];if(Q)for(const ue of Array.from(Q))ue(M)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,R.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(M)}_removeListener(I,M){this.listeners[I]&&(this.listeners[I].delete(M),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})(),_u=1e12;class Ea{constructor(y){this.auth=y,this.counter=_u,this._widgets=new Map}render(y,I){const M=this.counter;return this._widgets.set(M,new il(y,this.auth.name,I||{})),this.counter++,M}reset(y){var I;const M=y||_u;null===(I=this._widgets.get(M))||void 0===I||I.delete(),this._widgets.delete(M)}getResponse(y){var I;return(null===(I=this._widgets.get(y||_u))||void 0===I?void 0:I.getResponse())||""}execute(y){var I=this;return(0,R.Z)(function*(){var M;return null===(M=I._widgets.get(y||_u))||void 0===M||M.execute(),""})()}}class il{constructor(y,I,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof y?document.getElementById(y):y;Be(Q,"argument-error",{appName:I}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function vu(x){const y=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<x;M++)y.push(I.charAt(Math.floor(Math.random()*I.length)));return y.join("")}(50);const{callback:y,"expired-callback":I}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,I)try{I()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wa=Gi("rcb"),vc=new Sn(3e4,6e4);class Va{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=Qi().grecaptcha)||void 0===y||!y.render)}load(y,I=""){return Be(function rd(x){return x.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(x)}(I),y,"argument-error"),this.shouldResolveImmediately(I)&&Kn(Qi().grecaptcha)?Promise.resolve(Qi().grecaptcha):new Promise((M,Q)=>{const ue=Qi().setTimeout(()=>{Q(Oe(y,"network-request-failed"))},vc.get());Qi()[wa]=()=>{Qi().clearTimeout(ue),delete Qi()[wa];const gt=Qi().grecaptcha;if(!gt||!Kn(gt))return void Q(Oe(y,"internal-error"));const Qt=gt.render;gt.render=(pn,zn)=>{const jr=Qt(pn,zn);return this.counter++,jr},this.hostLanguage=I,M(gt)},Tr(`https://www.google.com/recaptcha/api.js??${(0,ee.xO)({onload:wa,render:"explicit",hl:I})}`).catch(()=>{clearTimeout(ue),Q(Oe(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var I;return!(null===(I=Qi().grecaptcha)||void 0===I||!I.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fs{load(y){return(0,R.Z)(function*(){return new Ea(y)})()}clearedOneInstance(){}}const ji="recaptcha",Ia={theme:"light",type:"image"};class $a{constructor(y,I=Object.assign({},Ia),M){this.parameters=I,this.type=ji,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rr(M),this.isInvisible="invisible"===this.parameters.size,Be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof y?document.getElementById(y):y;Be(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fs:new Va,this.validateStartingState()}verify(){var y=this;return(0,R.Z)(function*(){y.assertNotDestroyed();const I=yield y.render(),M=y.getAssertedRecaptcha();return M.getResponse(I)||new Promise(ue=>{const $e=gt=>{gt&&(y.tokenChangeListeners.delete($e),ue(gt))};y.tokenChangeListeners.add($e),y.isInvisible&&M.execute(I)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Be(!this.parameters.sitekey,this.auth,"argument-error"),Be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return I=>{if(this.tokenChangeListeners.forEach(M=>M(I)),"function"==typeof y)y(I);else if("string"==typeof y){const M=Qi()[y];"function"==typeof M&&M(I)}}}assertNotDestroyed(){Be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,R.Z)(function*(){if(yield y.init(),!y.widgetId){let I=y.container;if(!y.isInvisible){const M=document.createElement("div");I.appendChild(M),I=M}y.widgetId=y.getAssertedRecaptcha().render(I,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,R.Z)(function*(){Be(hn()&&!ma(),y.auth,"internal-error"),yield function Os(){let x=null;return new Promise(y=>{"complete"!==document.readyState?(x=()=>y(),window.addEventListener("load",x)):y()}).catch(y=>{throw x&&window.removeEventListener("load",x),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const I=yield function ct(x){return Xe.apply(this,arguments)}(y.auth);Be(I,y.auth,"internal-error"),y.parameters.sitekey=I})()}getAssertedRecaptcha(){return Be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vs{constructor(y,I){this.verificationId=y,this.onConfirmation=I}confirm(y){const I=uo._fromVerification(this.verificationId,y);return this.onConfirmation(I)}}function ja(x,y,I){return so.apply(this,arguments)}function so(){return(so=(0,R.Z)(function*(x,y,I){const M=Rr(x),Q=yield jl(M,y,(0,ee.m9)(I));return new vs(Q,ue=>or(M,ue))})).apply(this,arguments)}function Vo(x,y,I){return $o.apply(this,arguments)}function $o(){return($o=(0,R.Z)(function*(x,y,I){const M=(0,ee.m9)(x);yield Zr(!1,M,"phone");const Q=yield jl(M.auth,y,(0,ee.m9)(I));return new vs(Q,ue=>Nl(M,ue))})).apply(this,arguments)}function $l(x,y,I){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,R.Z)(function*(x,y,I){const M=(0,ee.m9)(x),Q=yield jl(M.auth,y,(0,ee.m9)(I));return new vs(Q,ue=>ha(M,ue))})).apply(this,arguments)}function jl(x,y,I){return Fu.apply(this,arguments)}function Fu(){return Fu=(0,R.Z)(function*(x,y,I){var M;const Q=yield I.verify();try{let ue;if(Be("string"==typeof Q,x,"argument-error"),Be(I.type===ji,x,"argument-error"),ue="string"==typeof y?{phoneNumber:y}:y,"session"in ue){const $e=ue.session;if("phoneNumber"in ue)return Be("enroll"===$e.type,x,"internal-error"),(yield function bt(x,y){return nt(x,"POST","/v2/accounts/mfaEnrollment:start",Le(x,y))}(x,{idToken:$e.credential,phoneEnrollmentInfo:{phoneNumber:ue.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{Be("signin"===$e.type,x,"internal-error");const gt=(null===(M=ue.multiFactorHint)||void 0===M?void 0:M.uid)||ue.multiFactorUid;return Be(gt,x,"missing-multi-factor-info"),(yield function _a(x,y){return nt(x,"POST","/v2/accounts/mfaSignIn:start",Le(x,y))}(x,{mfaPendingCredential:$e.credential,mfaEnrollmentId:gt,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$e}=yield function Qu(x,y){return Zs.apply(this,arguments)}(x,{phoneNumber:ue.phoneNumber,recaptchaToken:Q});return $e}}finally{I._reset()}}),Fu.apply(this,arguments)}function So(x,y){return sl.apply(this,arguments)}function sl(){return(sl=(0,R.Z)(function*(x,y){yield Gs((0,ee.m9)(x),y)})).apply(this,arguments)}let wu=(()=>{class x{constructor(I){this.providerId=x.PROVIDER_ID,this.auth=Rr(I)}verifyPhoneNumber(I,M){return jl(this.auth,I,(0,ee.m9)(M))}static credential(I,M){return uo._fromVerification(I,M)}static credentialFromResult(I){return x.credentialFromTaggedObject(I)}static credentialFromError(I){return x.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{phoneNumber:M,temporaryProof:Q}=I;return M&&Q?uo._fromTokenResponse(M,Q):null}}return x.PROVIDER_ID="phone",x.PHONE_SIGN_IN_METHOD="phone",x})();function C(x,y){return y?Ui(y):(Be(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}class A extends Nt{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Yn(y,this._buildIdpRequest())}_linkToIdToken(y,I){return Yn(y,this._buildIdpRequest(I))}_getReauthenticationResolver(y){return Yn(y,this._buildIdpRequest())}_buildIdpRequest(y){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(I.idToken=y),I}}function T(x){return Ys(x.auth,new A(x),x.bypassAuthState)}function k(x){const{auth:y,user:I}=x;return Be(I,y,"internal-error"),ys(I,new A(x),x.bypassAuthState)}function z(x){return J.apply(this,arguments)}function J(){return(J=(0,R.Z)(function*(x){const{auth:y,user:I}=x;return Be(I,y,"internal-error"),Gs(I,new A(x),x.bypassAuthState)})).apply(this,arguments)}class ce{constructor(y,I,M,Q,ue=!1){this.auth=y,this.resolver=M,this.user=Q,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var y=this;return new Promise(function(){var I=(0,R.Z)(function*(M,Q){y.pendingPromise={resolve:M,reject:Q};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(ue){y.reject(ue)}});return function(M,Q){return I.apply(this,arguments)}}())}onAuthEvent(y){var I=this;return(0,R.Z)(function*(){const{urlResponse:M,sessionId:Q,postBody:ue,tenantId:$e,error:gt,type:Qt}=y;if(gt)return void I.reject(gt);const pn={auth:I.auth,requestUri:M,sessionId:Q,tenantId:$e||void 0,postBody:ue||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(Qt)(pn))}catch(zn){I.reject(zn)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return T;case"linkViaPopup":case"linkViaRedirect":return z;case"reauthViaPopup":case"reauthViaRedirect":return k;default:Ze(this.auth,"internal-error")}}resolve(y){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const We=new Sn(2e3,1e4);function yt(x,y,I){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,R.Z)(function*(x,y,I){const M=Rr(x);Rt(x,y,Po);const Q=C(M,I);return new fo(M,"signInViaPopup",y,Q).executeNotNull()})).apply(this,arguments)}function yn(x,y,I){return yr.apply(this,arguments)}function yr(){return(yr=(0,R.Z)(function*(x,y,I){const M=(0,ee.m9)(x);Rt(M.auth,y,Po);const Q=C(M.auth,I);return new fo(M.auth,"reauthViaPopup",y,Q,M).executeNotNull()})).apply(this,arguments)}function Ts(x,y,I){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,R.Z)(function*(x,y,I){const M=(0,ee.m9)(x);Rt(M.auth,y,Po);const Q=C(M.auth,I);return new fo(M.auth,"linkViaPopup",y,Q,M).executeNotNull()})).apply(this,arguments)}let fo=(()=>{class x extends ce{constructor(I,M,Q,ue,$e){super(I,M,ue,$e),this.provider=Q,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var I=this;return(0,R.Z)(function*(){const M=yield I.execute();return Be(M,I.auth,"internal-error"),M})()}onExecution(){var I=this;return(0,R.Z)(function*(){Kt(1===I.filter.length,"Popup operations only handle one event");const M=ka();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],M),I.authWindow.associatedEvent=M,I.resolver._originValidation(I.auth).catch(Q=>{I.reject(Q)}),I.resolver._isIframeWebStorageSupported(I.auth,Q=>{Q||I.reject(Oe(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const I=()=>{var M,Q;this.pollId=null!==(Q=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(I,We.get())};I()}}return x.currentPopupAction=null,x})();const xi="pendingRedirect",Xr=new Map;class jo extends ce{constructor(y,I,M=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,M),this.eventId=null}execute(){var y=()=>super.execute,I=this;return(0,R.Z)(function*(){let M=Xr.get(I.auth._key());if(!M){try{const ue=(yield function Ha(x,y){return si.apply(this,arguments)}(I.resolver,I.auth))?yield y().call(I):null;M=()=>Promise.resolve(ue)}catch(Q){M=()=>Promise.reject(Q)}Xr.set(I.auth._key(),M)}return I.bypassAuthState||Xr.set(I.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(y){var I=()=>super.onAuthEvent,M=this;return(0,R.Z)(function*(){if("signInViaRedirect"===y.type)return I().call(M,y);if("unknown"!==y.type){if(y.eventId){const Q=yield M.auth._redirectUserForId(y.eventId);if(Q)return M.user=Q,I().call(M,y);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,R.Z)(function*(){})()}cleanUp(){}}function si(){return(si=(0,R.Z)(function*(x,y){const I=Us(y),M=Uu(x);if(!(yield M._isAvailable()))return!1;const Q="true"===(yield M._get(I));return yield M._remove(I),Q})).apply(this,arguments)}function Ju(x,y){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,R.Z)(function*(x,y){return Uu(x)._set(Us(y),"true")})).apply(this,arguments)}function ki(){Xr.clear()}function id(x,y){Xr.set(x._key(),y)}function Uu(x){return Ui(x._redirectPersistence)}function Us(x){return es(xi,x.config.apiKey,x.name)}function ec(x,y,I){return function wd(x,y,I){return bs.apply(this,arguments)}(x,y,I)}function bs(){return(bs=(0,R.Z)(function*(x,y,I){const M=Rr(x);Rt(x,y,Po),yield M._initializationPromise;const Q=C(M,I);return yield Ju(Q,M),Q._openRedirect(M,y,"signInViaRedirect")})).apply(this,arguments)}function sd(x,y,I){return function Ks(x,y,I){return _i.apply(this,arguments)}(x,y,I)}function _i(){return(_i=(0,R.Z)(function*(x,y,I){const M=(0,ee.m9)(x);Rt(M.auth,y,Po),yield M.auth._initializationPromise;const Q=C(M.auth,I);yield Ju(Q,M.auth);const ue=yield Vu(M);return Q._openRedirect(M.auth,y,"reauthViaRedirect",ue)})).apply(this,arguments)}function za(x,y,I){return function Bu(x,y,I){return Hl.apply(this,arguments)}(x,y,I)}function Hl(){return(Hl=(0,R.Z)(function*(x,y,I){const M=(0,ee.m9)(x);Rt(M.auth,y,Po),yield M.auth._initializationPromise;const Q=C(M.auth,I);yield Zr(!1,M,y.providerId),yield Ju(Q,M.auth);const ue=yield Vu(M);return Q._openRedirect(M.auth,y,"linkViaRedirect",ue)})).apply(this,arguments)}function Iu(x,y){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,R.Z)(function*(x,y){return yield Rr(x)._initializationPromise,Ta(x,y,!1)})).apply(this,arguments)}function Ta(x,y){return ba.apply(this,arguments)}function ba(){return(ba=(0,R.Z)(function*(x,y,I=!1){const M=Rr(x),Q=C(M,y),$e=yield new jo(M,Q,I).execute();return $e&&!I&&(delete $e.user._redirectEventId,yield M._persistUserIfCurrent($e.user),yield M._setRedirectUser(null,y)),$e})).apply(this,arguments)}function Vu(x){return po.apply(this,arguments)}function po(){return(po=(0,R.Z)(function*(x){const y=ka(`${x.uid}:::`);return x._redirectEventId=y,yield x.auth._setRedirectUser(x),yield x.auth._persistUserIfCurrent(x),y})).apply(this,arguments)}class su{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let I=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(y,M)&&(I=!0,this.sendToConsumer(y,M),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function Tu(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $u(x);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=y,I=!0)),I}sendToConsumer(y,I){var M;if(y.error&&!$u(y)){const Q=(null===(M=y.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";I.onError(Oe(this.auth,Q))}else I.onAuthEvent(y)}isEventForConsumer(y,I){const M=null===I.eventId||!!y.eventId&&y.eventId===I.eventId;return I.filter.includes(y.type)&&M}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(go(y))}saveEventToCache(y){this.cachedEventUids.add(go(y)),this.lastProcessedEventTime=Date.now()}}function go(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(y=>y).join("-")}function $u({type:x,error:y}){return"unknown"===x&&"auth/no-auth-event"===y?.code}function tc(x){return ou.apply(this,arguments)}function ou(){return(ou=(0,R.Z)(function*(x,y={}){return nt(x,"GET","/v1/projects",y)})).apply(this,arguments)}const Dl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ju=/^https?/;function bu(){return(bu=(0,R.Z)(function*(x){if(x.config.emulator)return;const{authorizedDomains:y}=yield tc(x);for(const I of y)try{if(Cu(I))return}catch{}Ze(x,"unauthorized-domain")})).apply(this,arguments)}function Cu(x){const y=$t(),{protocol:I,hostname:M}=new URL(y);if(x.startsWith("chrome-extension://")){const $e=new URL(x);return""===$e.hostname&&""===M?"chrome-extension:"===I&&x.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===I&&$e.hostname===M}if(!ju.test(I))return!1;if(Dl.test(x))return M===x;const Q=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(M)}const qs=new Sn(3e4,6e4);function Ka(){const x=Qi().___jsl;if(x?.H)for(const y of Object.keys(x.H))if(x.H[y].r=x.H[y].r||[],x.H[y].L=x.H[y].L||[],x.H[y].r=[...x.H[y].L],x.CP)for(let I=0;I<x.CP.length;I++)x.CP[I]=null}let nc=null;const Du=new Sn(5e3,15e3),Ho="__/auth/iframe",Bs="emulator/auth/iframe",qa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Su(x){const y=x.config;Be(y.authDomain,x,"auth-domain-config-required");const I=y.emulator?pr(y,Bs):`https://${x.config.authDomain}/${Ho}`,M={apiKey:y.apiKey,appName:x.name,v:$.SDK_VERSION},Q=rs.get(x.config.apiHost);Q&&(M.eid=Q);const ue=x._getFrameworks();return ue.length&&(M.fw=ue.join(",")),`${I}?${(0,ee.xO)(M).slice(1)}`}function al(){return al=(0,R.Z)(function*(x){const y=yield function zl(x){return nc=nc||function ol(x){return new Promise((y,I)=>{var M,Q,ue;function $e(){Ka(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Ka(),I(Oe(x,"network-request-failed"))},timeout:qs.get()})}if(null!==(Q=null===(M=Qi().gapi)||void 0===M?void 0:M.iframes)&&void 0!==Q&&Q.Iframe)y(gapi.iframes.getContext());else{if(null===(ue=Qi().gapi)||void 0===ue||!ue.load){const gt=Gi("iframefcb");return Qi()[gt]=()=>{gapi.load?$e():I(Oe(x,"network-request-failed"))},Tr(`https://apis.google.com/js/api.js?onload=${gt}`).catch(Qt=>I(Qt))}$e()}}).catch(y=>{throw nc=null,y})}(x),nc}(x),I=Qi().gapi;return Be(I,x,"internal-error"),y.open({where:document.body,url:Su(x),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qa,dontclear:!0},M=>new Promise(function(){var Q=(0,R.Z)(function*(ue,$e){yield M.restyle({setHideOnLeave:!1});const gt=Oe(x,"network-request-failed"),Qt=Qi().setTimeout(()=>{$e(gt)},Du.get());function pn(){Qi().clearTimeout(Qt),ue(M)}M.ping(pn).then(pn,()=>{$e(gt)})});return function(ue,$e){return Q.apply(this,arguments)}}()))}),al.apply(this,arguments)}const P={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U=500,Y=600,he="_blank",be="http://localhost";class Ue{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Zt="__/auth/handler",An="emulator/auth/handler",_r=encodeURIComponent("fac");function ur(x,y,I,M,Q,ue){return oo.apply(this,arguments)}function oo(){return(oo=(0,R.Z)(function*(x,y,I,M,Q,ue){Be(x.config.authDomain,x,"auth-domain-config-required"),Be(x.config.apiKey,x,"invalid-api-key");const $e={apiKey:x.config.apiKey,appName:x.name,authType:I,redirectUrl:M,v:$.SDK_VERSION,eventId:Q};if(y instanceof Po){y.setDefaultLanguage(x.languageCode),$e.providerId=y.providerId||"",(0,ee.xb)(y.getCustomParameters())||($e.customParameters=JSON.stringify(y.getCustomParameters()));for(const[zn,jr]of Object.entries(ue||{}))$e[zn]=jr}if(y instanceof Ws){const zn=y.getScopes().filter(jr=>""!==jr);zn.length>0&&($e.scopes=zn.join(","))}x.tenantId&&($e.tid=x.tenantId);const gt=$e;for(const zn of Object.keys(gt))void 0===gt[zn]&&delete gt[zn];const Qt=yield x._getAppCheckToken(),pn=Qt?`#${_r}=${encodeURIComponent(Qt)}`:"";return`${function Vs({config:x}){return x.emulator?pr(x,An):`https://${x.authDomain}/${Zt}`}(x)}?${(0,ee.xO)(gt).slice(1)}${pn}`})).apply(this,arguments)}const zu="webStorageSupport",Au=class wc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ro,this._completeRedirectFn=Ta,this._overrideRedirectResult=id}_openPopup(y,I,M,Q){var ue=this;return(0,R.Z)(function*(){var $e;Kt(null===($e=ue.eventManagers[y._key()])||void 0===$e?void 0:$e.manager,"_initialize() not called before _openPopup()");const gt=yield ur(y,I,M,$t(),Q);return function ht(x,y,I,M=U,Q=Y){const ue=Math.max((window.screen.availHeight-Q)/2,0).toString(),$e=Math.max((window.screen.availWidth-M)/2,0).toString();let gt="";const Qt=Object.assign(Object.assign({},P),{width:M.toString(),height:Q.toString(),top:ue,left:$e}),pn=(0,ee.z$)().toLowerCase();I&&(gt=ne(pn)?he:I),ae(pn)&&(y=y||be,Qt.scrollbars="yes");const zn=Object.entries(Qt).reduce((Ca,[zo,$c])=>`${Ca}${zo}=${$c},`,"");if(function xt(x=(0,ee.z$)()){var y;return Pe(x)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(pn)&&"_self"!==gt)return function ln(x,y){const I=document.createElement("a");I.href=x,I.target=y;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(M)}(y||"",gt),new Ue(null);const jr=window.open(y||"",gt,zn);Be(jr,x,"popup-blocked");try{jr.focus()}catch{}return new Ue(jr)}(y,gt,ka())})()}_openRedirect(y,I,M,Q){var ue=this;return(0,R.Z)(function*(){return yield ue._originValidation(y),function Cn(x){Qi().location.href=x}(yield ur(y,I,M,$t(),Q)),new Promise(()=>{})})()}_initialize(y){const I=y._key();if(this.eventManagers[I]){const{manager:Q,promise:ue}=this.eventManagers[I];return Q?Promise.resolve(Q):(Kt(ue,"If manager is not set, promise should be"),ue)}const M=this.initAndGetManager(y);return this.eventManagers[I]={promise:M},M.catch(()=>{delete this.eventManagers[I]}),M}initAndGetManager(y){var I=this;return(0,R.Z)(function*(){const M=yield function rc(x){return al.apply(this,arguments)}(y),Q=new su(y);return M.register("authEvent",ue=>(Be(ue?.authEvent,y,"invalid-auth-event"),{status:Q.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[y._key()]={manager:Q},I.iframes[y._key()]=M,Q})()}_isIframeWebStorageSupported(y,I){this.iframes[y._key()].send(zu,{type:zu},Q=>{var ue;const $e=null===(ue=Q?.[0])||void 0===ue?void 0:ue[zu];void 0!==$e&&I(!!$e),Ze(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const I=y._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function Hu(x){return bu.apply(this,arguments)}(y)),this.originValidationPromises[I]}get _shouldInitProactively(){return bn()||de()||Pe()}};class Za{constructor(y){this.factorId=y}_process(y,I,M){switch(I.type){case"enroll":return this._finalizeEnroll(y,I.credential,M);case"signin":return this._finalizeSignIn(y,I.credential);default:return se("unexpected MultiFactorSessionType")}}}class Ya extends Za{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Ya(y)}_finalizeEnroll(y,I,M){return function Qn(x,y){return nt(x,"POST","/v2/accounts/mfaEnrollment:finalize",Le(x,y))}(y,{idToken:I,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,I){return function io(x,y){return nt(x,"POST","/v2/accounts/mfaSignIn:finalize",Le(x,y))}(y,{mfaPendingCredential:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let od=(()=>{class x{constructor(){}static assertion(I){return Ya._fromCredential(I)}}return x.FACTOR_ID="phone",x})();var Wu="@firebase/auth";class ul{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var I=this;return(0,R.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const I=this.auth.onIdTokenChanged(M=>{y(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(y,I),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const I=this.internalListeners.get(y);I&&(this.internalListeners.delete(y),I(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,ee.Pz)("authIdTokenMaxAge"),function Jd(x){(0,$._registerComponent)(new Ke.wA("auth",(y,{options:I})=>{const M=y.getProvider("app").getImmediate(),Q=y.getProvider("heartbeat"),ue=y.getProvider("app-check-internal"),{apiKey:$e,authDomain:gt}=M.options;Be($e&&!$e.includes(":"),"invalid-api-key",{appName:M.name});const Qt={apiKey:$e,authDomain:gt,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xs(x)},pn=new Gr(M,Q,ue,Qt);return function Go(x,y){const I=y?.persistence||[],M=(Array.isArray(I)?I:[I]).map(Ui);y?.errorMap&&x._updateErrorMap(y.errorMap),x._initializeWithPersistence(M,y?.popupRedirectResolver)}(pn,I),pn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,I,M)=>{y.getProvider("auth-internal").initialize()})),(0,$._registerComponent)(new Ke.wA("auth-internal",y=>{const I=Rr(y.getProvider("auth").getImmediate());return new ul(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$.registerVersion)(Wu,"0.23.2",function au(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,$.registerVersion)(Wu,"0.23.2","esm2017")}("Browser")},2090:(_n,at,q)=>{q.d(at,{$s:()=>Ui,BH:()=>dt,DV:()=>Or,Dv:()=>ei,GJ:()=>Ar,L:()=>Ye,LL:()=>vt,P0:()=>mt,Pz:()=>Oe,Sg:()=>Rt,UG:()=>se,UI:()=>Nn,US:()=>Ke,Wj:()=>Hi,Wl:()=>Jt,Yr:()=>Sn,ZB:()=>Ne,ZR:()=>nt,aH:()=>Ze,b$:()=>hn,cI:()=>jn,dS:()=>as,eu:()=>Ve,g5:()=>$,gK:()=>Fi,gQ:()=>gr,h$:()=>Ie,hl:()=>ze,hu:()=>ee,jU:()=>Kt,lb:()=>Vn,m9:()=>es,ne:()=>gn,p$:()=>Te,pd:()=>Dr,r3:()=>nn,ru:()=>$t,tV:()=>ge,uI:()=>Be,ug:()=>ir,vZ:()=>Ht,w1:()=>kn,w9:()=>Hn,xO:()=>Er,xb:()=>Jr,z$:()=>_t,zI:()=>Qe,zd:()=>Ur});const R={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ee=function(De,we){if(!De)throw $(we)},$=function(De){return new Error("Firebase Database ("+R.SDK_VERSION+") INTERNAL ASSERT FAILED: "+De)},Me=function(De){const we=[];let ae=0;for(let de=0;de<De.length;de++){let ne=De.charCodeAt(de);ne<128?we[ae++]=ne:ne<2048?(we[ae++]=ne>>6|192,we[ae++]=63&ne|128):55296==(64512&ne)&&de+1<De.length&&56320==(64512&De.charCodeAt(de+1))?(ne=65536+((1023&ne)<<10)+(1023&De.charCodeAt(++de)),we[ae++]=ne>>18|240,we[ae++]=ne>>12&63|128,we[ae++]=ne>>6&63|128,we[ae++]=63&ne|128):(we[ae++]=ne>>12|224,we[ae++]=ne>>6&63|128,we[ae++]=63&ne|128)}return we},Ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(De,we){if(!Array.isArray(De))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ae=we?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let ne=0;ne<De.length;ne+=3){const Re=De[ne],ye=ne+1<De.length,_e=ye?De[ne+1]:0,fe=ne+2<De.length,Pe=fe?De[ne+2]:0;let fn=(15&_e)<<2|Pe>>6,bn=63&Pe;fe||(bn=64,ye||(fn=64)),de.push(ae[Re>>2],ae[(3&Re)<<4|_e>>4],ae[fn],ae[bn])}return de.join("")},encodeString(De,we){return this.HAS_NATIVE_SUPPORT&&!we?btoa(De):this.encodeByteArray(Me(De),we)},decodeString(De,we){return this.HAS_NATIVE_SUPPORT&&!we?atob(De):function(De){const we=[];let ae=0,de=0;for(;ae<De.length;){const ne=De[ae++];if(ne<128)we[de++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Re=De[ae++];we[de++]=String.fromCharCode((31&ne)<<6|63&Re)}else if(ne>239&&ne<365){const fe=((7&ne)<<18|(63&De[ae++])<<12|(63&De[ae++])<<6|63&De[ae++])-65536;we[de++]=String.fromCharCode(55296+(fe>>10)),we[de++]=String.fromCharCode(56320+(1023&fe))}else{const Re=De[ae++],ye=De[ae++];we[de++]=String.fromCharCode((15&ne)<<12|(63&Re)<<6|63&ye)}}return we.join("")}(this.decodeStringToByteArray(De,we))},decodeStringToByteArray(De,we){this.init_();const ae=we?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let ne=0;ne<De.length;){const Re=ae[De.charAt(ne++)],_e=ne<De.length?ae[De.charAt(ne)]:0;++ne;const Pe=ne<De.length?ae[De.charAt(ne)]:64;++ne;const xt=ne<De.length?ae[De.charAt(ne)]:64;if(++ne,null==Re||null==_e||null==Pe||null==xt)throw new qe;de.push(Re<<2|_e>>4),64!==Pe&&(de.push(_e<<4&240|Pe>>2),64!==xt&&de.push(Pe<<6&192|xt))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let De=0;De<this.ENCODED_VALS.length;De++)this.byteToCharMap_[De]=this.ENCODED_VALS.charAt(De),this.charToByteMap_[this.byteToCharMap_[De]]=De,this.byteToCharMapWebSafe_[De]=this.ENCODED_VALS_WEBSAFE.charAt(De),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[De]]=De,De>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(De)]=De,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(De)]=De)}}};class qe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(De){const we=Me(De);return Ke.encodeByteArray(we,!0)},Ye=function(De){return Ie(De).replace(/\./g,"")},ge=function(De){try{return Ke.decodeString(De,!0)}catch(we){console.error("base64Decode failed: ",we)}return null};function Te(De){return Ne(void 0,De)}function Ne(De,we){if(!(we instanceof Object))return we;switch(we.constructor){case Date:return new Date(we.getTime());case Object:void 0===De&&(De={});break;case Array:De=[];break;default:return we}for(const ae in we)!we.hasOwnProperty(ae)||!ft(ae)||(De[ae]=Ne(De[ae],we[ae]));return De}function ft(De){return"__proto__"!==De}const ut=()=>{try{return function wt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const De=process.env.__FIREBASE_DEFAULTS__;return De?JSON.parse(De):void 0})()||(()=>{if(typeof document>"u")return;let De;try{De=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const we=De&&ge(De[1]);return we&&JSON.parse(we)})()}catch(De){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${De}`)}},mt=De=>{const we=(De=>{var we,ae;return null===(ae=null===(we=ut())||void 0===we?void 0:we.emulatorHosts)||void 0===ae?void 0:ae[De]})(De);if(!we)return;const ae=we.lastIndexOf(":");if(ae<=0||ae+1===we.length)throw new Error(`Invalid host ${we} with no separate hostname and port!`);const de=parseInt(we.substring(ae+1),10);return"["===we[0]?[we.substring(1,ae-1),de]:[we.substring(0,ae),de]},Ze=()=>{var De;return null===(De=ut())||void 0===De?void 0:De.config},Oe=De=>{var we;return null===(we=ut())||void 0===we?void 0:we[`_${De}`]};class dt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((we,ae)=>{this.resolve=we,this.reject=ae})}wrapCallback(we){return(ae,de)=>{ae?this.reject(ae):this.resolve(de),"function"==typeof we&&(this.promise.catch(()=>{}),1===we.length?we(ae):we(ae,de))}}}function Rt(De,we){if(De.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=we||"demo-project",ne=De.iat||0,Re=De.sub||De.user_id;if(!Re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ye=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:ne,exp:ne+3600,auth_time:ne,sub:Re,user_id:Re,firebase:{sign_in_provider:"custom",identities:{}}},De);return[Ye(JSON.stringify({alg:"none",type:"JWT"})),Ye(JSON.stringify(ye)),""].join(".")}function _t(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function se(){var De;const we=null===(De=ut())||void 0===De?void 0:De.forceEnvironment;if("node"===we)return!0;if("browser"===we)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Kt(){return"object"==typeof self&&self.self===self}function $t(){const De="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof De&&void 0!==De.id}function hn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function kn(){const De=_t();return De.indexOf("MSIE ")>=0||De.indexOf("Trident/")>=0}function Sn(){return!0===R.NODE_CLIENT||!0===R.NODE_ADMIN}function ze(){try{return"object"==typeof indexedDB}catch{return!1}}function Ve(){return new Promise((De,we)=>{try{let ae=!0;const de="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(de);ne.onsuccess=()=>{ne.result.close(),ae||self.indexedDB.deleteDatabase(de),De(!0)},ne.onupgradeneeded=()=>{ae=!1},ne.onerror=()=>{var Re;we((null===(Re=ne.error)||void 0===Re?void 0:Re.message)||"")}}catch(ae){we(ae)}})}function Qe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class nt extends Error{constructor(we,ae,de){super(ae),this.code=we,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vt.prototype.create)}}class vt{constructor(we,ae,de){this.service=we,this.serviceName=ae,this.errors=de}create(we,...ae){const de=ae[0]||{},ne=`${this.service}/${we}`,Re=this.errors[we],ye=Re?function Ft(De,we){return De.replace(rn,(ae,de)=>{const ne=we[de];return null!=ne?String(ne):`<${de}?>`})}(Re,de):"Error";return new nt(ne,`${this.serviceName}: ${ye} (${ne}).`,de)}}const rn=/\{\$([^}]+)}/g;function jn(De){return JSON.parse(De)}function Jt(De){return JSON.stringify(De)}const nr=function(De){let we={},ae={},de={},ne="";try{const Re=De.split(".");we=jn(ge(Re[0])||""),ae=jn(ge(Re[1])||""),ne=Re[2],de=ae.d||{},delete ae.d}catch{}return{header:we,claims:ae,data:de,signature:ne}},Hn=function(De){const ae=nr(De).claims;return!!ae&&"object"==typeof ae&&ae.hasOwnProperty("iat")},Ar=function(De){const we=nr(De).claims;return"object"==typeof we&&!0===we.admin};function nn(De,we){return Object.prototype.hasOwnProperty.call(De,we)}function Or(De,we){if(Object.prototype.hasOwnProperty.call(De,we))return De[we]}function Jr(De){for(const we in De)if(Object.prototype.hasOwnProperty.call(De,we))return!1;return!0}function Nn(De,we,ae){const de={};for(const ne in De)Object.prototype.hasOwnProperty.call(De,ne)&&(de[ne]=we.call(ae,De[ne],ne,De));return de}function Ht(De,we){if(De===we)return!0;const ae=Object.keys(De),de=Object.keys(we);for(const ne of ae){if(!de.includes(ne))return!1;const Re=De[ne],ye=we[ne];if(Zn(Re)&&Zn(ye)){if(!Ht(Re,ye))return!1}else if(Re!==ye)return!1}for(const ne of de)if(!ae.includes(ne))return!1;return!0}function Zn(De){return null!==De&&"object"==typeof De}function Er(De){const we=[];for(const[ae,de]of Object.entries(De))Array.isArray(de)?de.forEach(ne=>{we.push(encodeURIComponent(ae)+"="+encodeURIComponent(ne))}):we.push(encodeURIComponent(ae)+"="+encodeURIComponent(de));return we.length?"&"+we.join("&"):""}function Ur(De){const we={};return De.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[ne,Re]=de.split("=");we[decodeURIComponent(ne)]=decodeURIComponent(Re)}}),we}function Dr(De){const we=De.indexOf("?");if(!we)return"";const ae=De.indexOf("#",we);return De.substring(we,ae>0?ae:void 0)}class gr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let we=1;we<this.blockSize;++we)this.pad_[we]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(we,ae){ae||(ae=0);const de=this.W_;if("string"==typeof we)for(let xt=0;xt<16;xt++)de[xt]=we.charCodeAt(ae)<<24|we.charCodeAt(ae+1)<<16|we.charCodeAt(ae+2)<<8|we.charCodeAt(ae+3),ae+=4;else for(let xt=0;xt<16;xt++)de[xt]=we[ae]<<24|we[ae+1]<<16|we[ae+2]<<8|we[ae+3],ae+=4;for(let xt=16;xt<80;xt++){const fn=de[xt-3]^de[xt-8]^de[xt-14]^de[xt-16];de[xt]=4294967295&(fn<<1|fn>>>31)}let Pe,it,ne=this.chain_[0],Re=this.chain_[1],ye=this.chain_[2],_e=this.chain_[3],fe=this.chain_[4];for(let xt=0;xt<80;xt++){xt<40?xt<20?(Pe=_e^Re&(ye^_e),it=1518500249):(Pe=Re^ye^_e,it=1859775393):xt<60?(Pe=Re&ye|_e&(Re|ye),it=2400959708):(Pe=Re^ye^_e,it=3395469782);const fn=(ne<<5|ne>>>27)+Pe+fe+it+de[xt]&4294967295;fe=_e,_e=ye,ye=4294967295&(Re<<30|Re>>>2),Re=ne,ne=fn}this.chain_[0]=this.chain_[0]+ne&4294967295,this.chain_[1]=this.chain_[1]+Re&4294967295,this.chain_[2]=this.chain_[2]+ye&4294967295,this.chain_[3]=this.chain_[3]+_e&4294967295,this.chain_[4]=this.chain_[4]+fe&4294967295}update(we,ae){if(null==we)return;void 0===ae&&(ae=we.length);const de=ae-this.blockSize;let ne=0;const Re=this.buf_;let ye=this.inbuf_;for(;ne<ae;){if(0===ye)for(;ne<=de;)this.compress_(we,ne),ne+=this.blockSize;if("string"==typeof we){for(;ne<ae;)if(Re[ye]=we.charCodeAt(ne),++ye,++ne,ye===this.blockSize){this.compress_(Re),ye=0;break}}else for(;ne<ae;)if(Re[ye]=we[ne],++ye,++ne,ye===this.blockSize){this.compress_(Re),ye=0;break}}this.inbuf_=ye,this.total_+=ae}digest(){const we=[];let ae=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&ae,ae/=256;this.compress_(this.buf_);let de=0;for(let ne=0;ne<5;ne++)for(let Re=24;Re>=0;Re-=8)we[de]=this.chain_[ne]>>Re&255,++de;return we}}function gn(De,we){const ae=new tn(De,we);return ae.subscribe.bind(ae)}class tn{constructor(we,ae){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ae,this.task.then(()=>{we(this)}).catch(de=>{this.error(de)})}next(we){this.forEachObserver(ae=>{ae.next(we)})}error(we){this.forEachObserver(ae=>{ae.error(we)}),this.close(we)}complete(){this.forEachObserver(we=>{we.complete()}),this.close()}subscribe(we,ae,de){let ne;if(void 0===we&&void 0===ae&&void 0===de)throw new Error("Missing Observer.");ne=function vi(De,we){if("object"!=typeof De||null===De)return!1;for(const ae of we)if(ae in De&&"function"==typeof De[ae])return!0;return!1}(we,["next","error","complete"])?we:{next:we,error:ae,complete:de},void 0===ne.next&&(ne.next=fi),void 0===ne.error&&(ne.error=fi),void 0===ne.complete&&(ne.complete=fi);const Re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),Re}unsubscribeOne(we){void 0===this.observers||void 0===this.observers[we]||(delete this.observers[we],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(we){if(!this.finalized)for(let ae=0;ae<this.observers.length;ae++)this.sendOne(ae,we)}sendOne(we,ae){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[we])try{ae(this.observers[we])}catch(de){typeof console<"u"&&console.error&&console.error(de)}})}close(we){this.finalized||(this.finalized=!0,void 0!==we&&(this.finalError=we),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fi(){}const ei=function(De,we,ae,de){let ne;if(de<we?ne="at least "+we:de>ae&&(ne=0===ae?"none":"no more than "+ae),ne)throw new Error(De+" failed: Was called with "+de+(1===de?" argument.":" arguments.")+" Expects "+ne+".")};function Fi(De,we){return`${De} failed: ${we} argument `}function Hi(De,we,ae,de){if((!de||ae)&&"function"!=typeof ae)throw new Error(Fi(De,we)+"must be a valid function.")}function Vn(De,we,ae,de){if((!de||ae)&&("object"!=typeof ae||null===ae))throw new Error(Fi(De,we)+"must be a valid context object.")}const as=function(De){const we=[];let ae=0;for(let de=0;de<De.length;de++){let ne=De.charCodeAt(de);if(ne>=55296&&ne<=56319){const Re=ne-55296;de++,ee(de<De.length,"Surrogate pair missing trail surrogate."),ne=65536+(Re<<10)+(De.charCodeAt(de)-56320)}ne<128?we[ae++]=ne:ne<2048?(we[ae++]=ne>>6|192,we[ae++]=63&ne|128):ne<65536?(we[ae++]=ne>>12|224,we[ae++]=ne>>6&63|128,we[ae++]=63&ne|128):(we[ae++]=ne>>18|240,we[ae++]=ne>>12&63|128,we[ae++]=ne>>6&63|128,we[ae++]=63&ne|128)}return we},ir=function(De){let we=0;for(let ae=0;ae<De.length;ae++){const de=De.charCodeAt(ae);de<128?we++:de<2048?we+=2:de>=55296&&de<=56319?(we+=4,ae++):we+=3}return we},kt=1e3,ii=2,pi=144e5,Ei=.5;function Ui(De,we=kt,ae=ii){const de=we*Math.pow(ae,De),ne=Math.round(Ei*de*(Math.random()-.5)*2);return Math.min(pi,de+ne)}function es(De){return De&&De._delegate?De._delegate:De}},8231:(_n,at,q)=>{var R=q(1481),ee=q(4778),$=q(4650);const Me=[{path:"inicio",loadChildren:()=>q.e(213).then(q.bind(q,8213)).then(m=>m.HomeModule)},{path:"receitas",loadChildren:()=>q.e(708).then(q.bind(q,4708)).then(m=>m.ReceitasModule)},{path:"imc",loadChildren:()=>Promise.all([q.e(447),q.e(123)]).then(q.bind(q,123)).then(m=>m.ImcModule)},{path:"lista-pre-treino",loadChildren:()=>Promise.all([q.e(447),q.e(136)]).then(q.bind(q,8136)).then(m=>m.ListaPreTreinoModule)},{path:"**",redirectTo:"inicio"}];let xe=(()=>{class m{}return m.\u0275fac=function(h){return new(h||m)},m.\u0275mod=$.oAB({type:m}),m.\u0275inj=$.cJS({imports:[ee.Bz.forRoot(Me),ee.Bz]}),m})();const qe=function(){function m(a,h){void 0===h&&(h=[]),this._eventType=a,this._eventFunctions=h}return m.prototype.init=function(){var a=this;this._eventFunctions.forEach(function(h){typeof window<"u"&&window.addEventListener(a._eventType,h)})},m}();var Ie=function(){return Ie=Object.assign||function(m){for(var a,h=1,w=arguments.length;h<w;h++)for(var S in a=arguments[h])Object.prototype.hasOwnProperty.call(a,S)&&(m[S]=a[S]);return m},Ie.apply(this,arguments)},Ye={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},ge=function(){function m(a,h){void 0===a&&(a=[]),void 0===h&&(h=Ye),this._items=a,this._options=Ie(Ie({},Ye),h),this._init()}return m.prototype._init=function(){var a=this;this._items.length&&this._items.map(function(h){h.active&&a.open(h.id),h.triggerEl.addEventListener("click",function(){a.toggle(h.id)})})},m.prototype.getItem=function(a){return this._items.filter(function(h){return h.id===a})[0]},m.prototype.open=function(a){var h,w,S=this,j=this.getItem(a);this._options.alwaysOpen||this._items.map(function(X){var ie,pe;X!==j&&((ie=X.triggerEl.classList).remove.apply(ie,S._options.activeClasses.split(" ")),(pe=X.triggerEl.classList).add.apply(pe,S._options.inactiveClasses.split(" ")),X.targetEl.classList.add("hidden"),X.triggerEl.setAttribute("aria-expanded","false"),X.active=!1,X.iconEl&&X.iconEl.classList.remove("rotate-180"))}),(h=j.triggerEl.classList).add.apply(h,this._options.activeClasses.split(" ")),(w=j.triggerEl.classList).remove.apply(w,this._options.inactiveClasses.split(" ")),j.triggerEl.setAttribute("aria-expanded","true"),j.targetEl.classList.remove("hidden"),j.active=!0,j.iconEl&&j.iconEl.classList.add("rotate-180"),this._options.onOpen(this,j)},m.prototype.toggle=function(a){var h=this.getItem(a);h.active?this.close(a):this.open(a),this._options.onToggle(this,h)},m.prototype.close=function(a){var h,w,S=this.getItem(a);(h=S.triggerEl.classList).remove.apply(h,this._options.activeClasses.split(" ")),(w=S.triggerEl.classList).add.apply(w,this._options.inactiveClasses.split(" ")),S.targetEl.classList.add("hidden"),S.triggerEl.setAttribute("aria-expanded","false"),S.active=!1,S.iconEl&&S.iconEl.classList.remove("rotate-180"),this._options.onClose(this,S)},m}();function Te(){document.querySelectorAll("[data-accordion]").forEach(function(m){var a=m.getAttribute("data-accordion"),h=m.getAttribute("data-active-classes"),w=m.getAttribute("data-inactive-classes"),S=[];m.querySelectorAll("[data-accordion-target]").forEach(function(j){if(j.closest("[data-accordion]")===m){var X={id:j.getAttribute("data-accordion-target"),triggerEl:j,targetEl:document.querySelector(j.getAttribute("data-accordion-target")),iconEl:j.querySelector("[data-accordion-icon]"),active:"true"===j.getAttribute("aria-expanded")};S.push(X)}}),new ge(S,{alwaysOpen:"open"===a,activeClasses:h||Ye.activeClasses,inactiveClasses:w||Ye.inactiveClasses})})}typeof window<"u"&&(window.Accordion=ge,window.initAccordions=Te);var ft=function(){return ft=Object.assign||function(m){for(var a,h=1,w=arguments.length;h<w;h++)for(var S in a=arguments[h])Object.prototype.hasOwnProperty.call(a,S)&&(m[S]=a[S]);return m},ft.apply(this,arguments)},wt={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},Ot=function(){function m(a,h,w){void 0===a&&(a=null),void 0===h&&(h=null),void 0===w&&(w=wt),this._targetEl=a,this._triggerEl=h,this._options=ft(ft({},wt),w),this._visible=!1,this._init()}return m.prototype._init=function(){var a=this;this._triggerEl&&(this._visible=this._triggerEl.hasAttribute("aria-expanded")?"true"===this._triggerEl.getAttribute("aria-expanded"):!this._targetEl.classList.contains("hidden"),this._triggerEl.addEventListener("click",function(){a.toggle()}))},m.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},m.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},m.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},m}();function Xt(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(m){var a=m.getAttribute("data-collapse-toggle"),h=document.getElementById(a);h?new Ot(h,m):console.error('The target element with id "'.concat(a,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=Ot,window.initCollapses=Xt);var ut=function(){return ut=Object.assign||function(m){for(var a,h=1,w=arguments.length;h<w;h++)for(var S in a=arguments[h])Object.prototype.hasOwnProperty.call(a,S)&&(m[S]=a[S]);return m},ut.apply(this,arguments)},At={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},mt=function(){function m(a,h){void 0===a&&(a=[]),void 0===h&&(h=At),this._items=a,this._options=ut(ut(ut({},At),h),{indicators:ut(ut({},At.indicators),h.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._init()}return m.prototype._init=function(){var a=this;this._items.map(function(h){h.el.classList.add("absolute","inset-0","transition-transform","transform")}),this._getActiveItem()?this.slideTo(this._getActiveItem().position):this.slideTo(0),this._indicators.map(function(h,w){h.el.addEventListener("click",function(){a.slideTo(w)})})},m.prototype.getItem=function(a){return this._items[a]},m.prototype.slideTo=function(a){var h=this._items[a];this._rotate({left:0===h.position?this._items[this._items.length-1]:this._items[h.position-1],middle:h,right:h.position===this._items.length-1?this._items[0]:this._items[h.position+1]}),this._setActiveItem(h),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},m.prototype.next=function(){var a=this._getActiveItem();this.slideTo((a.position===this._items.length-1?this._items[0]:this._items[a.position+1]).position),this._options.onNext(this)},m.prototype.prev=function(){var a=this._getActiveItem();this.slideTo((0===a.position?this._items[this._items.length-1]:this._items[a.position-1]).position),this._options.onPrev(this)},m.prototype._rotate=function(a){this._items.map(function(h){h.el.classList.add("hidden")}),a.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),a.left.el.classList.add("-translate-x-full","z-10"),a.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),a.middle.el.classList.add("translate-x-0","z-20"),a.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),a.right.el.classList.add("translate-x-full","z-10")},m.prototype.cycle=function(){var a=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){a.next()},this._intervalDuration))},m.prototype.pause=function(){clearInterval(this._intervalInstance)},m.prototype._getActiveItem=function(){return this._activeItem},m.prototype._setActiveItem=function(a){var h,w,S=this;this._activeItem=a;var j=a.position;this._indicators.length&&(this._indicators.map(function(X){var ie,pe;X.el.setAttribute("aria-current","false"),(ie=X.el.classList).remove.apply(ie,S._options.indicators.activeClasses.split(" ")),(pe=X.el.classList).add.apply(pe,S._options.indicators.inactiveClasses.split(" "))}),(h=this._indicators[j].el.classList).add.apply(h,this._options.indicators.activeClasses.split(" ")),(w=this._indicators[j].el.classList).remove.apply(w,this._options.indicators.inactiveClasses.split(" ")),this._indicators[j].el.setAttribute("aria-current","true"))},m}();function Ze(){document.querySelectorAll("[data-carousel]").forEach(function(m){var a=m.getAttribute("data-carousel-interval"),h="slide"===m.getAttribute("data-carousel"),w=[],S=0;m.querySelectorAll("[data-carousel-item]").length&&Array.from(m.querySelectorAll("[data-carousel-item]")).map(function(Ae,Ge){w.push({position:Ge,el:Ae}),"active"===Ae.getAttribute("data-carousel-item")&&(S=Ge)});var j=[];m.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(m.querySelectorAll("[data-carousel-slide-to]")).map(function(Ae){j.push({position:parseInt(Ae.getAttribute("data-carousel-slide-to")),el:Ae})});var X=new mt(w,{defaultPosition:S,indicators:{items:j},interval:a||At.interval});h&&X.cycle();var ie=m.querySelector("[data-carousel-next]"),pe=m.querySelector("[data-carousel-prev]");ie&&ie.addEventListener("click",function(){X.next()}),pe&&pe.addEventListener("click",function(){X.prev()})})}typeof window<"u"&&(window.Carousel=mt,window.initCarousels=Ze);var dt=function(){return dt=Object.assign||function(m){for(var a,h=1,w=arguments.length;h<w;h++)for(var S in a=arguments[h])Object.prototype.hasOwnProperty.call(a,S)&&(m[S]=a[S]);return m},dt.apply(this,arguments)},Rt={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},_t=function(){function m(a,h,w){void 0===a&&(a=null),void 0===h&&(h=null),void 0===w&&(w=Rt),this._targetEl=a,this._triggerEl=h,this._options=dt(dt({},Rt),w),this._init()}return m.prototype._init=function(){var a=this;this._triggerEl&&this._triggerEl.addEventListener("click",function(){a.hide()})},m.prototype.hide=function(){var a=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){a._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},m}();function Be(){document.querySelectorAll("[data-dismiss-target]").forEach(function(m){var a=m.getAttribute("data-dismiss-target"),h=document.querySelector(a);h?new _t(h,m):console.error('The dismiss element with id "'.concat(a,'" does not exist. Please check the data-dismiss-target attribute.'))})}function Kt(m){if(null==m)return window;if("[object Window]"!==m.toString()){var a=m.ownerDocument;return a&&a.defaultView||window}return m}function $t(m){return m instanceof Kt(m).Element||m instanceof Element}function hn(m){return m instanceof Kt(m).HTMLElement||m instanceof HTMLElement}function jt(m){return!(typeof ShadowRoot>"u")&&(m instanceof Kt(m).ShadowRoot||m instanceof ShadowRoot)}typeof window<"u"&&(window.Dismiss=_t,window.initDismisses=Be);var kn=Math.max,zr=Math.min,Sn=Math.round;function pr(){var m=navigator.userAgentData;return null!=m&&m.brands&&Array.isArray(m.brands)?m.brands.map(function(a){return a.brand+"/"+a.version}).join(" "):navigator.userAgent}function ze(){return!/^((?!chrome|android).)*safari/i.test(pr())}function Ve(m,a,h){void 0===a&&(a=!1),void 0===h&&(h=!1);var w=m.getBoundingClientRect(),S=1,j=1;a&&hn(m)&&(S=m.offsetWidth>0&&Sn(w.width)/m.offsetWidth||1,j=m.offsetHeight>0&&Sn(w.height)/m.offsetHeight||1);var ie=($t(m)?Kt(m):window).visualViewport,pe=!ze()&&h,Ae=(w.left+(pe&&ie?ie.offsetLeft:0))/S,Ge=(w.top+(pe&&ie?ie.offsetTop:0))/j,Pt=w.width/S,Bt=w.height/j;return{width:Pt,height:Bt,top:Ge,right:Ae+Pt,bottom:Ge+Bt,left:Ae,x:Ae,y:Ge}}function Qe(m){var a=Kt(m);return{scrollLeft:a.pageXOffset,scrollTop:a.pageYOffset}}function vt(m){return m?(m.nodeName||"").toLowerCase():null}function Ft(m){return(($t(m)?m.ownerDocument:m.document)||window.document).documentElement}function rn(m){return Ve(Ft(m)).left+Qe(m).scrollLeft}function jn(m){return Kt(m).getComputedStyle(m)}function Jt(m){var a=jn(m);return/auto|scroll|overlay|hidden/.test(a.overflow+a.overflowY+a.overflowX)}function Fr(m,a,h){void 0===h&&(h=!1);var w=hn(a),S=hn(a)&&function nr(m){var a=m.getBoundingClientRect(),h=Sn(a.width)/m.offsetWidth||1,w=Sn(a.height)/m.offsetHeight||1;return 1!==h||1!==w}(a),j=Ft(a),X=Ve(m,S,h),ie={scrollLeft:0,scrollTop:0},pe={x:0,y:0};return(w||!w&&!h)&&(("body"!==vt(a)||Jt(j))&&(ie=function nt(m){return m!==Kt(m)&&hn(m)?function Le(m){return{scrollLeft:m.scrollLeft,scrollTop:m.scrollTop}}(m):Qe(m)}(a)),hn(a)?((pe=Ve(a,!0)).x+=a.clientLeft,pe.y+=a.clientTop):j&&(pe.x=rn(j))),{x:X.left+ie.scrollLeft-pe.x,y:X.top+ie.scrollTop-pe.y,width:X.width,height:X.height}}function qn(m){var a=Ve(m),h=m.offsetWidth,w=m.offsetHeight;return Math.abs(a.width-h)<=1&&(h=a.width),Math.abs(a.height-w)<=1&&(w=a.height),{x:m.offsetLeft,y:m.offsetTop,width:h,height:w}}function Hn(m){return"html"===vt(m)?m:m.assignedSlot||m.parentNode||(jt(m)?m.host:null)||Ft(m)}function Ar(m){return["html","body","#document"].indexOf(vt(m))>=0?m.ownerDocument.body:hn(m)&&Jt(m)?m:Ar(Hn(m))}function nn(m,a){var h;void 0===a&&(a=[]);var w=Ar(m),S=w===(null==(h=m.ownerDocument)?void 0:h.body),j=Kt(w),X=S?[j].concat(j.visualViewport||[],Jt(w)?w:[]):w,ie=a.concat(X);return S?ie:ie.concat(nn(Hn(X)))}function Or(m){return["table","td","th"].indexOf(vt(m))>=0}function Jr(m){return hn(m)&&"fixed"!==jn(m).position?m.offsetParent:null}function Ht(m){for(var a=Kt(m),h=Jr(m);h&&Or(h)&&"static"===jn(h).position;)h=Jr(h);return h&&("html"===vt(h)||"body"===vt(h)&&"static"===jn(h).position)?a:h||function Nn(m){var a=/firefox/i.test(pr());if(/Trident/i.test(pr())&&hn(m)&&"fixed"===jn(m).position)return null;var S=Hn(m);for(jt(S)&&(S=S.host);hn(S)&&["html","body"].indexOf(vt(S))<0;){var j=jn(S);if("none"!==j.transform||"none"!==j.perspective||"paint"===j.contain||-1!==["transform","perspective"].indexOf(j.willChange)||a&&"filter"===j.willChange||a&&j.filter&&"none"!==j.filter)return S;S=S.parentNode}return null}(m)||a}var Zn="top",Cr="bottom",Er="right",Ur="left",Dr="auto",gr=[Zn,Cr,Er,Ur],gn="start",tn="end",Pn="clippingParents",vi="viewport",fi="popper",ei="reference",Fi=gr.reduce(function(m,a){return m.concat([a+"-"+gn,a+"-"+tn])},[]),ti=[].concat(gr,[Dr]).reduce(function(m,a){return m.concat([a,a+"-"+gn,a+"-"+tn])},[]),Ui=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function zi(m){var a=new Map,h=new Set,w=[];function S(j){h.add(j.name),[].concat(j.requires||[],j.requiresIfExists||[]).forEach(function(ie){if(!h.has(ie)){var pe=a.get(ie);pe&&S(pe)}}),w.push(j)}return m.forEach(function(j){a.set(j.name,j)}),m.forEach(function(j){h.has(j.name)||S(j)}),w}function es(m){var a;return function(){return a||(a=new Promise(function(h){Promise.resolve().then(function(){a=void 0,h(m())})})),a}}var we={placement:"bottom",modifiers:[],strategy:"absolute"};function ae(){for(var m=arguments.length,a=new Array(m),h=0;h<m;h++)a[h]=arguments[h];return!a.some(function(w){return!(w&&"function"==typeof w.getBoundingClientRect)})}function de(m){void 0===m&&(m={});var h=m.defaultModifiers,w=void 0===h?[]:h,S=m.defaultOptions,j=void 0===S?we:S;return function(ie,pe,Ae){void 0===Ae&&(Ae=j);var Ge={placement:"bottom",orderedModifiers:[],options:Object.assign({},we,j),modifiersData:{},elements:{reference:ie,popper:pe},attributes:{},styles:{}},Pt=[],Bt=!1,Ut={state:Ge,setOptions:function(On){var hr="function"==typeof On?On(Ge.options):On;Vt(),Ge.options=Object.assign({},j,Ge.options,hr),Ge.scrollParents={reference:$t(ie)?nn(ie):ie.contextElement?nn(ie.contextElement):[],popper:nn(pe)};var Jn=function Wi(m){var a=zi(m);return Ui.reduce(function(h,w){return h.concat(a.filter(function(S){return S.phase===w}))},[])}(function De(m){var a=m.reduce(function(h,w){var S=h[w.name];return h[w.name]=S?Object.assign({},S,w,{options:Object.assign({},S.options,w.options),data:Object.assign({},S.data,w.data)}):w,h},{});return Object.keys(a).map(function(h){return a[h]})}([].concat(w,Ge.options.modifiers)));return Ge.orderedModifiers=Jn.filter(function(In){return In.enabled}),function Wt(){Ge.orderedModifiers.forEach(function(dn){var hr=dn.options,In=dn.effect;if("function"==typeof In){var Pr=In({state:Ge,name:dn.name,instance:Ut,options:void 0===hr?{}:hr});Pt.push(Pr||function(){})}})}(),Ut.update()},forceUpdate:function(){if(!Bt){var On=Ge.elements,hr=On.reference,Jn=On.popper;if(ae(hr,Jn)){Ge.rects={reference:Fr(hr,Ht(Jn),"fixed"===Ge.options.strategy),popper:qn(Jn)},Ge.reset=!1,Ge.placement=Ge.options.placement,Ge.orderedModifiers.forEach(function(is){return Ge.modifiersData[is.name]=Object.assign({},is.data)});for(var In=0;In<Ge.orderedModifiers.length;In++)if(!0!==Ge.reset){var Pr=Ge.orderedModifiers[In],Ir=Pr.fn,Mr=Pr.options;"function"==typeof Ir&&(Ge=Ir({state:Ge,options:void 0===Mr?{}:Mr,name:Pr.name,instance:Ut})||Ge)}else Ge.reset=!1,In=-1}}},update:es(function(){return new Promise(function(dn){Ut.forceUpdate(),dn(Ge)})}),destroy:function(){Vt(),Bt=!0}};if(!ae(ie,pe))return Ut;function Vt(){Pt.forEach(function(dn){return dn()}),Pt=[]}return Ut.setOptions(Ae).then(function(dn){!Bt&&Ae.onFirstUpdate&&Ae.onFirstUpdate(dn)}),Ut}}var Re={passive:!0};function fe(m){return m.split("-")[0]}function Pe(m){return m.split("-")[1]}function it(m){return["top","bottom"].indexOf(m)>=0?"x":"y"}function xt(m){var pe,a=m.reference,h=m.element,w=m.placement,S=w?fe(w):null,j=w?Pe(w):null,X=a.x+a.width/2-h.width/2,ie=a.y+a.height/2-h.height/2;switch(S){case Zn:pe={x:X,y:a.y-h.height};break;case Cr:pe={x:X,y:a.y+a.height};break;case Er:pe={x:a.x+a.width,y:ie};break;case Ur:pe={x:a.x-h.width,y:ie};break;default:pe={x:a.x,y:a.y}}var Ae=S?it(S):null;if(null!=Ae){var Ge="y"===Ae?"height":"width";switch(j){case gn:pe[Ae]=pe[Ae]-(a[Ge]/2-h[Ge]/2);break;case tn:pe[Ae]=pe[Ae]+(a[Ge]/2-h[Ge]/2)}}return pe}var Wr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ct(m){var a,h=m.popper,w=m.popperRect,S=m.placement,j=m.variation,X=m.offsets,ie=m.position,pe=m.gpuAcceleration,Ae=m.adaptive,Ge=m.roundOffsets,Pt=m.isFixed,Bt=X.x,Ut=void 0===Bt?0:Bt,Wt=X.y,Vt=void 0===Wt?0:Wt,dn="function"==typeof Ge?Ge({x:Ut,y:Vt}):{x:Ut,y:Vt};Ut=dn.x,Vt=dn.y;var On=X.hasOwnProperty("x"),hr=X.hasOwnProperty("y"),Jn=Ur,In=Zn,Pr=window;if(Ae){var Ir=Ht(h),Mr="clientHeight",ni="clientWidth";Ir===Kt(h)&&"static"!==jn(Ir=Ft(h)).position&&"absolute"===ie&&(Mr="scrollHeight",ni="scrollWidth"),(S===Zn||(S===Ur||S===Er)&&j===tn)&&(In=Cr,Vt-=(Pt&&Ir===Pr&&Pr.visualViewport?Pr.visualViewport.height:Ir[Mr])-w.height,Vt*=pe?1:-1),S!==Ur&&(S!==Zn&&S!==Cr||j!==tn)||(Jn=Er,Ut-=(Pt&&Ir===Pr&&Pr.visualViewport?Pr.visualViewport.width:Ir[ni])-w.width,Ut*=pe?1:-1)}var ss,ra=Object.assign({position:ie},Ae&&Wr),ia=!0===Ge?function xs(m,a){var w=m.y,S=a.devicePixelRatio||1;return{x:Sn(m.x*S)/S||0,y:Sn(w*S)/S||0}}({x:Ut,y:Vt},Kt(h)):{x:Ut,y:Vt};return Ut=ia.x,Vt=ia.y,Object.assign({},ra,pe?((ss={})[In]=hr?"0":"",ss[Jn]=On?"0":"",ss.transform=(Pr.devicePixelRatio||1)<=1?"translate("+Ut+"px, "+Vt+"px)":"translate3d("+Ut+"px, "+Vt+"px, 0)",ss):((a={})[In]=hr?Vt+"px":"",a[Jn]=On?Ut+"px":"",a.transform="",a))}var Gi={left:"right",right:"left",bottom:"top",top:"bottom"};function Mi(m){return m.replace(/left|right|bottom|top/g,function(a){return Gi[a]})}var Ro={start:"end",end:"start"};function ls(m){return m.replace(/start|end/g,function(a){return Ro[a]})}function on(m,a){var h=a.getRootNode&&a.getRootNode();if(m.contains(a))return!0;if(h&&jt(h)){var w=a;do{if(w&&m.isSameNode(w))return!0;w=w.parentNode||w.host}while(w)}return!1}function ar(m){return Object.assign({},m,{left:m.x,top:m.y,right:m.x+m.width,bottom:m.y+m.height})}function Rr(m,a,h){return a===vi?ar(function ts(m,a){var h=Kt(m),w=Ft(m),S=h.visualViewport,j=w.clientWidth,X=w.clientHeight,ie=0,pe=0;if(S){j=S.width,X=S.height;var Ae=ze();(Ae||!Ae&&"fixed"===a)&&(ie=S.offsetLeft,pe=S.offsetTop)}return{width:j,height:X,x:ie+rn(m),y:pe}}(m,h)):$t(a)?function Gr(m,a){var h=Ve(m,!1,"fixed"===a);return h.top=h.top+m.clientTop,h.left=h.left+m.clientLeft,h.bottom=h.top+m.clientHeight,h.right=h.left+m.clientWidth,h.width=m.clientWidth,h.height=m.clientHeight,h.x=h.left,h.y=h.top,h}(a,h):ar(function Di(m){var a,h=Ft(m),w=Qe(m),S=null==(a=m.ownerDocument)?void 0:a.body,j=kn(h.scrollWidth,h.clientWidth,S?S.scrollWidth:0,S?S.clientWidth:0),X=kn(h.scrollHeight,h.clientHeight,S?S.scrollHeight:0,S?S.clientHeight:0),ie=-w.scrollLeft+rn(m),pe=-w.scrollTop;return"rtl"===jn(S||h).direction&&(ie+=kn(h.clientWidth,S?S.clientWidth:0)-j),{width:j,height:X,x:ie,y:pe}}(Ft(m)))}function wi(m){return Object.assign({},{top:0,right:0,bottom:0,left:0},m)}function je(m,a){return a.reduce(function(h,w){return h[w]=m,h},{})}function ke(m,a){void 0===a&&(a={});var w=a.placement,S=void 0===w?m.placement:w,j=a.strategy,X=void 0===j?m.strategy:j,ie=a.boundary,pe=void 0===ie?Pn:ie,Ae=a.rootBoundary,Ge=void 0===Ae?vi:Ae,Pt=a.elementContext,Bt=void 0===Pt?fi:Pt,Ut=a.altBoundary,Wt=void 0!==Ut&&Ut,Vt=a.padding,dn=void 0===Vt?0:Vt,On=wi("number"!=typeof dn?dn:je(dn,gr)),Jn=m.rects.popper,In=m.elements[Wt?Bt===fi?ei:fi:Bt],Pr=function Bi(m,a,h,w){var S="clippingParents"===a?function xo(m){var a=nn(Hn(m)),w=["absolute","fixed"].indexOf(jn(m).position)>=0&&hn(m)?Ht(m):m;return $t(w)?a.filter(function(S){return $t(S)&&on(S,w)&&"body"!==vt(S)}):[]}(m):[].concat(a),j=[].concat(S,[h]),ie=j.reduce(function(pe,Ae){var Ge=Rr(m,Ae,w);return pe.top=kn(Ge.top,pe.top),pe.right=zr(Ge.right,pe.right),pe.bottom=zr(Ge.bottom,pe.bottom),pe.left=kn(Ge.left,pe.left),pe},Rr(m,j[0],w));return ie.width=ie.right-ie.left,ie.height=ie.bottom-ie.top,ie.x=ie.left,ie.y=ie.top,ie}($t(In)?In:In.contextElement||Ft(m.elements.popper),pe,Ge,X),Ir=Ve(m.elements.reference),Mr=xt({reference:Ir,element:Jn,strategy:"absolute",placement:S}),ni=ar(Object.assign({},Jn,Mr)),bi=Bt===fi?ni:Ir,is={top:Pr.top-bi.top+On.top,bottom:bi.bottom-Pr.bottom+On.bottom,left:Pr.left-bi.left+On.left,right:bi.right-Pr.right+On.right},ra=m.modifiersData.offset;if(Bt===fi&&ra){var ia=ra[S];Object.keys(is).forEach(function(ss){var ku=[Er,Cr].indexOf(ss)>=0?1:-1,fc=[Zn,Cr].indexOf(ss)>=0?"y":"x";is[ss]+=ia[fc]*ku})}return is}function Tn(m,a,h){return kn(m,zr(a,h))}function aa(m,a,h){return void 0===h&&(h={x:0,y:0}),{top:m.top-a.height-h.y,right:m.right-a.width+h.x,bottom:m.bottom-a.height+h.y,left:m.left-a.width-h.x}}function ao(m){return[Zn,Er,Cr,Ur].some(function(a){return m[a]>=0})}var Si=de({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function ye(m){var a=m.state,h=m.instance,w=m.options,S=w.scroll,j=void 0===S||S,X=w.resize,ie=void 0===X||X,pe=Kt(a.elements.popper),Ae=[].concat(a.scrollParents.reference,a.scrollParents.popper);return j&&Ae.forEach(function(Ge){Ge.addEventListener("scroll",h.update,Re)}),ie&&pe.addEventListener("resize",h.update,Re),function(){j&&Ae.forEach(function(Ge){Ge.removeEventListener("scroll",h.update,Re)}),ie&&pe.removeEventListener("resize",h.update,Re)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function fn(m){var a=m.state;a.modifiersData[m.name]=xt({reference:a.rects.reference,element:a.rects.popper,strategy:"absolute",placement:a.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Xe(m){var a=m.state,h=m.options,w=h.gpuAcceleration,S=void 0===w||w,j=h.adaptive,X=void 0===j||j,ie=h.roundOffsets,pe=void 0===ie||ie,Ae={placement:fe(a.placement),variation:Pe(a.placement),popper:a.elements.popper,popperRect:a.rects.popper,gpuAcceleration:S,isFixed:"fixed"===a.options.strategy};null!=a.modifiersData.popperOffsets&&(a.styles.popper=Object.assign({},a.styles.popper,ct(Object.assign({},Ae,{offsets:a.modifiersData.popperOffsets,position:a.options.strategy,adaptive:X,roundOffsets:pe})))),null!=a.modifiersData.arrow&&(a.styles.arrow=Object.assign({},a.styles.arrow,ct(Object.assign({},Ae,{offsets:a.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:pe})))),a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-placement":a.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function mn(m){var a=m.state;Object.keys(a.elements).forEach(function(h){var w=a.styles[h]||{},S=a.attributes[h]||{},j=a.elements[h];!hn(j)||!vt(j)||(Object.assign(j.style,w),Object.keys(S).forEach(function(X){var ie=S[X];!1===ie?j.removeAttribute(X):j.setAttribute(X,!0===ie?"":ie)}))})},effect:function Kn(m){var a=m.state,h={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(a.elements.popper.style,h.popper),a.styles=h,a.elements.arrow&&Object.assign(a.elements.arrow.style,h.arrow),function(){Object.keys(a.elements).forEach(function(w){var S=a.elements[w],j=a.attributes[w]||{},ie=Object.keys(a.styles.hasOwnProperty(w)?a.styles[w]:h[w]).reduce(function(pe,Ae){return pe[Ae]="",pe},{});!hn(S)||!vt(S)||(Object.assign(S.style,ie),Object.keys(j).forEach(function(pe){S.removeAttribute(pe)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function qr(m){var a=m.state,w=m.name,S=m.options.offset,j=void 0===S?[0,0]:S,X=ti.reduce(function(Ge,Pt){return Ge[Pt]=function vn(m,a,h){var w=fe(m),S=[Ur,Zn].indexOf(w)>=0?-1:1,j="function"==typeof h?h(Object.assign({},a,{placement:m})):h,X=j[0],ie=j[1];return X=X||0,ie=(ie||0)*S,[Ur,Er].indexOf(w)>=0?{x:ie,y:X}:{x:X,y:ie}}(Pt,a.rects,j),Ge},{}),ie=X[a.placement],Ae=ie.y;null!=a.modifiersData.popperOffsets&&(a.modifiersData.popperOffsets.x+=ie.x,a.modifiersData.popperOffsets.y+=Ae),a.modifiersData[w]=X}},{name:"flip",enabled:!0,phase:"main",fn:function Nt(m){var a=m.state,h=m.options,w=m.name;if(!a.modifiersData[w]._skip){for(var S=h.mainAxis,j=void 0===S||S,X=h.altAxis,ie=void 0===X||X,pe=h.fallbackPlacements,Ae=h.padding,Ge=h.boundary,Pt=h.rootBoundary,Bt=h.altBoundary,Ut=h.flipVariations,Wt=void 0===Ut||Ut,Vt=h.allowedAutoPlacements,dn=a.options.placement,On=fe(dn),Jn=pe||(On!==dn&&Wt?function Dt(m){if(fe(m)===Dr)return[];var a=Mi(m);return[ls(m),a,ls(a)]}(dn):[Mi(dn)]),In=[dn].concat(Jn).reduce(function(os,Zl){return os.concat(fe(Zl)===Dr?function Fe(m,a){void 0===a&&(a={});var S=a.boundary,j=a.rootBoundary,X=a.padding,ie=a.flipVariations,pe=a.allowedAutoPlacements,Ae=void 0===pe?ti:pe,Ge=Pe(a.placement),Pt=Ge?ie?Fi:Fi.filter(function(Wt){return Pe(Wt)===Ge}):gr,Bt=Pt.filter(function(Wt){return Ae.indexOf(Wt)>=0});0===Bt.length&&(Bt=Pt);var Ut=Bt.reduce(function(Wt,Vt){return Wt[Vt]=ke(m,{placement:Vt,boundary:S,rootBoundary:j,padding:X})[fe(Vt)],Wt},{});return Object.keys(Ut).sort(function(Wt,Vt){return Ut[Wt]-Ut[Vt]})}(a,{placement:Zl,boundary:Ge,rootBoundary:Pt,padding:Ae,flipVariations:Wt,allowedAutoPlacements:Vt}):Zl)},[]),Pr=a.rects.reference,Ir=a.rects.popper,Mr=new Map,ni=!0,bi=In[0],is=0;is<In.length;is++){var ra=In[is],ia=fe(ra),ss=Pe(ra)===gn,ku=[Zn,Cr].indexOf(ia)>=0,fc=ku?"width":"height",wn=ke(a,{placement:ra,boundary:Ge,rootBoundary:Pt,altBoundary:Bt,padding:Ae}),$n=ku?ss?Er:Ur:ss?Cr:Zn;Pr[fc]>Ir[fc]&&($n=Mi($n));var fr=Mi($n),ri=[];if(j&&ri.push(wn[ia]<=0),ie&&ri.push(wn[$n]<=0,wn[fr]<=0),ri.every(function(os){return os})){bi=ra,ni=!1;break}Mr.set(ra,ri)}if(ni)for(var hl=function(Zl){var _d=In.find(function(js){var Ra=Mr.get(js);if(Ra)return Ra.slice(0,Zl).every(function(el){return el})});if(_d)return bi=_d,"break"},Aa=Wt?3:1;Aa>0&&"break"!==hl(Aa);Aa--);a.placement!==bi&&(a.modifiersData[w]._skip=!0,a.placement=bi,a.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function us(m){var a=m.state,h=m.options,w=m.name,S=h.mainAxis,j=void 0===S||S,X=h.altAxis,ie=void 0!==X&&X,Bt=h.tether,Ut=void 0===Bt||Bt,Wt=h.tetherOffset,Vt=void 0===Wt?0:Wt,dn=ke(a,{boundary:h.boundary,rootBoundary:h.rootBoundary,padding:h.padding,altBoundary:h.altBoundary}),On=fe(a.placement),hr=Pe(a.placement),Jn=!hr,In=it(On),Pr=function sr(m){return"x"===m?"y":"x"}(In),Ir=a.modifiersData.popperOffsets,Mr=a.rects.reference,ni=a.rects.popper,bi="function"==typeof Vt?Vt(Object.assign({},a.rects,{placement:a.placement})):Vt,is="number"==typeof bi?{mainAxis:bi,altAxis:bi}:Object.assign({mainAxis:0,altAxis:0},bi),ra=a.modifiersData.offset?a.modifiersData.offset[a.placement]:null,ia={x:0,y:0};if(Ir){if(j){var ss,ku="y"===In?Zn:Ur,fc="y"===In?Cr:Er,wn="y"===In?"height":"width",$n=Ir[In],fr=$n+dn[ku],ri=$n-dn[fc],yo=Ut?-ni[wn]/2:0,hl=hr===gn?Mr[wn]:ni[wn],Aa=hr===gn?-ni[wn]:-Mr[wn],ql=a.elements.arrow,os=Ut&&ql?qn(ql):{width:0,height:0},Zl=a.modifiersData["arrow#persistent"]?a.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},_d=Zl[ku],js=Zl[fc],Ra=Tn(0,Mr[wn],os[wn]),el=Jn?Mr[wn]/2-yo-Ra-_d-is.mainAxis:hl-Ra-_d-is.mainAxis,Ph=Jn?-Mr[wn]/2+yo+Ra+js+is.mainAxis:Aa+Ra+js+is.mainAxis,pc=a.elements.arrow&&Ht(a.elements.arrow),_f=null!=(ss=ra?.[In])?ss:0,vf=$n+Ph-_f,eg=Tn(Ut?zr(fr,$n+el-_f-(pc?"y"===In?pc.clientTop||0:pc.clientLeft||0:0)):fr,$n,Ut?kn(ri,vf):ri);Ir[In]=eg,ia[In]=eg-$n}if(ie){var Mh,vd=Ir[Pr],Fc="y"===Pr?"height":"width",ip=vd+dn["x"===In?Zn:Ur],Nh=vd-dn["x"===In?Cr:Er],sp=-1!==[Zn,Ur].indexOf(On),Qg=null!=(Mh=ra?.[Pr])?Mh:0,Xg=sp?ip:vd-Mr[Fc]-ni[Fc]-Qg+is.altAxis,Jg=sp?vd+Mr[Fc]+ni[Fc]-Qg-is.altAxis:Nh,zd=Ut&&sp?function xr(m,a,h){var w=Tn(m,a,h);return w>h?h:w}(Xg,vd,Jg):Tn(Ut?Xg:ip,vd,Ut?Jg:Nh);Ir[Pr]=zd,ia[Pr]=zd-vd}a.modifiersData[w]=ia}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function Ki(m){var a,h=m.state,w=m.name,S=m.options,j=h.elements.arrow,X=h.modifiersData.popperOffsets,ie=fe(h.placement),pe=it(ie),Ge=[Ur,Er].indexOf(ie)>=0?"height":"width";if(j&&X){var Pt=function(a,h){return wi("number"!=typeof(a="function"==typeof a?a(Object.assign({},h.rects,{placement:h.placement})):a)?a:je(a,gr))}(S.padding,h),Bt=qn(j),Ut="y"===pe?Zn:Ur,Wt="y"===pe?Cr:Er,Vt=h.rects.reference[Ge]+h.rects.reference[pe]-X[pe]-h.rects.popper[Ge],dn=X[pe]-h.rects.reference[pe],On=Ht(j),hr=On?"y"===pe?On.clientHeight||0:On.clientWidth||0:0,Ir=hr/2-Bt[Ge]/2+(Vt/2-dn/2),Mr=Tn(Pt[Ut],Ir,hr-Bt[Ge]-Pt[Wt]);h.modifiersData[w]=((a={})[pe]=Mr,a.centerOffset=Mr-Ir,a)}},effect:function gi(m){var a=m.state,w=m.options.element,S=void 0===w?"[data-popper-arrow]":w;null!=S&&("string"==typeof S&&!(S=a.elements.popper.querySelector(S))||on(a.elements.popper,S)&&(a.elements.arrow=S))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Br(m){var a=m.state,h=m.name,w=a.rects.reference,S=a.rects.popper,j=a.modifiersData.preventOverflow,X=ke(a,{elementContext:"reference"}),ie=ke(a,{altBoundary:!0}),pe=aa(X,w),Ae=aa(ie,S,j),Ge=ao(pe),Pt=ao(Ae);a.modifiersData[h]={referenceClippingOffsets:pe,popperEscapeOffsets:Ae,isReferenceHidden:Ge,hasPopperEscaped:Pt},a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-reference-hidden":Ge,"data-popper-escaped":Pt})}}]}),Kr=function(){return Kr=Object.assign||function(m){for(var a,h=1,w=arguments.length;h<w;h++)for(var S in a=arguments[h])Object.prototype.hasOwnProperty.call(a,S)&&(m[S]=a[S]);return m},Kr.apply(this,arguments)},ps=function(m,a,h){if(h||2===arguments.length)for(var j,w=0,S=a.length;w<S;w++)(j||!(w in a))&&(j||(j=Array.prototype.slice.call(a,0,w)),j[w]=a[w]);return m.concat(j||Array.prototype.slice.call(a))},qi={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,onShow:function(){},onHide:function(){},onToggle:function(){}},ds=function(){function m(a,h,w){void 0===a&&(a=null),void 0===h&&(h=null),void 0===w&&(w=qi),this._targetEl=a,this._triggerEl=h,this._options=Kr(Kr({},qi),w),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return m.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},m.prototype._setupEventListeners=function(){var a=this,h=this._getTriggerEvents();"click"===this._options.triggerType&&h.showEvents.forEach(function(w){a._triggerEl.addEventListener(w,function(){a.toggle()})}),"hover"===this._options.triggerType&&(h.showEvents.forEach(function(w){a._triggerEl.addEventListener(w,function(){"click"===w?a.toggle():setTimeout(function(){a.show()},a._options.delay)}),a._targetEl.addEventListener(w,function(){a.show()})}),h.hideEvents.forEach(function(w){a._triggerEl.addEventListener(w,function(){setTimeout(function(){a._targetEl.matches(":hover")||a.hide()},a._options.delay)}),a._targetEl.addEventListener(w,function(){setTimeout(function(){a._triggerEl.matches(":hover")||a.hide()},a._options.delay)})}))},m.prototype._createPopperInstance=function(){return Si(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},m.prototype._setupClickOutsideListener=function(){var a=this;this._clickOutsideEventListener=function(h){a._handleClickOutside(h,a._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},m.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},m.prototype._handleClickOutside=function(a,h){var w=a.target;w!==h&&!h.contains(w)&&!this._triggerEl.contains(w)&&this.isVisible()&&this.hide()},m.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":default:return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]}}},m.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},m.prototype.isVisible=function(){return this._visible},m.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(a){return Kr(Kr({},a),{modifiers:ps(ps([],a.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},m.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(a){return Kr(Kr({},a),{modifiers:ps(ps([],a.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},m}();function Ko(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(m){var a=m.getAttribute("data-dropdown-toggle"),h=document.getElementById(a);if(h){var w=m.getAttribute("data-dropdown-placement"),S=m.getAttribute("data-dropdown-offset-skidding"),j=m.getAttribute("data-dropdown-offset-distance"),X=m.getAttribute("data-dropdown-trigger"),ie=m.getAttribute("data-dropdown-delay");new ds(h,m,{placement:w||qi.placement,triggerType:X||qi.triggerType,offsetSkidding:S?parseInt(S):qi.offsetSkidding,offsetDistance:j?parseInt(j):qi.offsetDistance,delay:ie?parseInt(ie):qi.delay})}else console.error('The dropdown element with id "'.concat(a,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=ds,window.initDropdowns=Ko);var Un=function(){return Un=Object.assign||function(m){for(var a,h=1,w=arguments.length;h<w;h++)for(var S in a=arguments[h])Object.prototype.hasOwnProperty.call(a,S)&&(m[S]=a[S]);return m},Un.apply(this,arguments)},Yn={placement:"center",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},qo=function(){function m(a,h){void 0===a&&(a=null),void 0===h&&(h=Yn),this._targetEl=a,this._options=Un(Un({},Yn),h),this._isHidden=!0,this._backdropEl=null,this._init()}return m.prototype._init=function(){var a=this;this._targetEl&&this._getPlacementClasses().map(function(h){a._targetEl.classList.add(h)})},m.prototype._createBackdrop=function(){var a;if(this._isHidden){var h=document.createElement("div");h.setAttribute("modal-backdrop",""),(a=h.classList).add.apply(a,this._options.backdropClasses.split(" ")),document.querySelector("body").append(h),this._backdropEl=h}},m.prototype._destroyBackdropEl=function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()},m.prototype._setupModalCloseEventListeners=function(){var a=this;"dynamic"===this._options.backdrop&&(this._clickOutsideEventListener=function(h){a._handleOutsideClick(h.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(h){"Escape"===h.key&&a.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},m.prototype._removeModalCloseEventListeners=function(){"dynamic"===this._options.backdrop&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},m.prototype._handleOutsideClick=function(a){(a===this._targetEl||a===this._backdropEl&&this.isVisible())&&this.hide()},m.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":default:return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"]}},m.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},m.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,document.body.classList.add("overflow-hidden"),this._options.closable&&this._setupModalCloseEventListeners(),this._options.onShow(this))},m.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},m.prototype.isVisible=function(){return!this._isHidden},m.prototype.isHidden=function(){return this._isHidden},m}(),Zo=function(m,a){return a.some(function(h){return h.id===m})?a.find(function(h){return h.id===m}):null};function mi(){var m=[];document.querySelectorAll("[data-modal-target]").forEach(function(a){var h=a.getAttribute("data-modal-target"),w=document.getElementById(h);if(w){var S=w.getAttribute("data-modal-placement"),j=w.getAttribute("data-modal-backdrop");Zo(h,m)||m.push({id:h,object:new qo(w,{placement:S||Yn.placement,backdrop:j||Yn.backdrop})})}else console.error("Modal with id ".concat(h," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(a){var h=a.getAttribute("data-modal-toggle"),w=document.getElementById(h);if(w){var S=w.getAttribute("data-modal-placement"),j=w.getAttribute("data-modal-backdrop"),X=Zo(h,m);X||(X={id:h,object:new qo(w,{placement:S||Yn.placement,backdrop:j||Yn.backdrop})},m.push(X)),a.addEventListener("click",function(){X.object.toggle()})}else console.error("Modal with id ".concat(h," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(a){var h=a.getAttribute("data-modal-show");if(document.getElementById(h)){var S=Zo(h,m);S?a.addEventListener("click",function(){S.object.isHidden&&S.object.show()}):console.error("Modal with id ".concat(h," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(h," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(a){var h=a.getAttribute("data-modal-hide");if(document.getElementById(h)){var S=Zo(h,m);S?a.addEventListener("click",function(){S.object.isVisible&&S.object.hide()}):console.error("Modal with id ".concat(h," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(h," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=qo,window.initModals=mi);var Zs=function(){return Zs=Object.assign||function(m){for(var a,h=1,w=arguments.length;h<w;h++)for(var S in a=arguments[h])Object.prototype.hasOwnProperty.call(a,S)&&(m[S]=a[S]);return m},Zs.apply(this,arguments)},Eo={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},Ml=function(){function m(a,h){void 0===a&&(a=null),void 0===h&&(h=Eo),this._targetEl=a,this._options=Zs(Zs({},Eo),h),this._visible=!1,this._init()}return m.prototype._init=function(){var a=this;this._targetEl&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform")),this._getPlacementClasses(this._options.placement).base.map(function(h){a._targetEl.classList.add(h)}),document.addEventListener("keydown",function(h){"Escape"===h.key&&a.isVisible()&&a.hide()})},m.prototype.hide=function(){var a=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(h){a._targetEl.classList.remove(h)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(h){a._targetEl.classList.add(h)})):(this._getPlacementClasses(this._options.placement).active.map(function(h){a._targetEl.classList.remove(h)}),this._getPlacementClasses(this._options.placement).inactive.map(function(h){a._targetEl.classList.add(h)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},m.prototype.show=function(){var a=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(h){a._targetEl.classList.add(h)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(h){a._targetEl.classList.remove(h)})):(this._getPlacementClasses(this._options.placement).active.map(function(h){a._targetEl.classList.add(h)}),this._getPlacementClasses(this._options.placement).inactive.map(function(h){a._targetEl.classList.remove(h)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},m.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},m.prototype._createBackdrop=function(){var a,h=this;if(!this._visible){var w=document.createElement("div");w.setAttribute("drawer-backdrop",""),(a=w.classList).add.apply(a,this._options.backdropClasses.split(" ")),document.querySelector("body").append(w),w.addEventListener("click",function(){h.hide()})}},m.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]").remove()},m.prototype._getPlacementClasses=function(a){switch(a){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]}}},m.prototype.isHidden=function(){return!this._visible},m.prototype.isVisible=function(){return this._visible},m}(),Yo=function(m,a){if(a.some(function(h){return h.id===m}))return a.find(function(h){return h.id===m})};function ml(){var m=[];document.querySelectorAll("[data-drawer-target]").forEach(function(a){var h=a.getAttribute("data-drawer-target"),w=document.getElementById(h);if(w){var S=a.getAttribute("data-drawer-placement"),j=a.getAttribute("data-drawer-body-scrolling"),X=a.getAttribute("data-drawer-backdrop"),ie=a.getAttribute("data-drawer-edge"),pe=a.getAttribute("data-drawer-edge-offset");Yo(h,m)||m.push({id:h,object:new Ml(w,{placement:S||Eo.placement,bodyScrolling:j?"true"===j:Eo.bodyScrolling,backdrop:X?"true"===X:Eo.backdrop,edge:ie?"true"===ie:Eo.edge,edgeOffset:pe||Eo.edgeOffset})})}else console.error("Drawer with id ".concat(h," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(a){var h=a.getAttribute("data-drawer-toggle");if(document.getElementById(h)){var S=Yo(h,m);S?a.addEventListener("click",function(){S.object.toggle()}):console.error("Drawer with id ".concat(h," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(h," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(a){var h=a.getAttribute("data-drawer-dismiss")?a.getAttribute("data-drawer-dismiss"):a.getAttribute("data-drawer-hide");if(document.getElementById(h)){var S=Yo(h,m);S?a.addEventListener("click",function(){S.object.hide()}):console.error("Drawer with id ".concat(h," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(h," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(a){var h=a.getAttribute("data-drawer-show");if(document.getElementById(h)){var S=Yo(h,m);S?a.addEventListener("click",function(){S.object.show()}):console.error("Drawer with id ".concat(h," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(h," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=Ml,window.initDrawers=ml);var lo=function(){return lo=Object.assign||function(m){for(var a,h=1,w=arguments.length;h<w;h++)for(var S in a=arguments[h])Object.prototype.hasOwnProperty.call(a,S)&&(m[S]=a[S]);return m},lo.apply(this,arguments)},Yl={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},uo=function(){function m(a,h){void 0===a&&(a=[]),void 0===h&&(h=Yl),this._items=a,this._activeTab=h?this.getTab(h.defaultTabId):null,this._options=lo(lo({},Yl),h),this._init()}return m.prototype._init=function(){var a=this;this._items.length&&(this._activeTab||this._setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(h){h.triggerEl.addEventListener("click",function(){a.show(h.id)})}))},m.prototype.getActiveTab=function(){return this._activeTab},m.prototype._setActiveTab=function(a){this._activeTab=a},m.prototype.getTab=function(a){return this._items.filter(function(h){return h.id===a})[0]},m.prototype.show=function(a,h){var w,S,j=this;void 0===h&&(h=!1);var X=this.getTab(a);X===this._activeTab&&!h||(this._items.map(function(ie){var pe,Ae;ie!==X&&((pe=ie.triggerEl.classList).remove.apply(pe,j._options.activeClasses.split(" ")),(Ae=ie.triggerEl.classList).add.apply(Ae,j._options.inactiveClasses.split(" ")),ie.targetEl.classList.add("hidden"),ie.triggerEl.setAttribute("aria-selected","false"))}),(w=X.triggerEl.classList).add.apply(w,this._options.activeClasses.split(" ")),(S=X.triggerEl.classList).remove.apply(S,this._options.inactiveClasses.split(" ")),X.triggerEl.setAttribute("aria-selected","true"),X.targetEl.classList.remove("hidden"),this._setActiveTab(X),this._options.onShow(this,X))},m}();function Qo(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(m){var a=[],h=null;m.querySelectorAll('[role="tab"]').forEach(function(w){var S="true"===w.getAttribute("aria-selected"),j={id:w.getAttribute("data-tabs-target"),triggerEl:w,targetEl:document.querySelector(w.getAttribute("data-tabs-target"))};a.push(j),S&&(h=j.id)}),new uo(a,{defaultTabId:h})})}typeof window<"u"&&(window.Tabs=uo,window.initTabs=Qo);var zs=function(){return zs=Object.assign||function(m){for(var a,h=1,w=arguments.length;h<w;h++)for(var S in a=arguments[h])Object.prototype.hasOwnProperty.call(a,S)&&(m[S]=a[S]);return m},zs.apply(this,arguments)},wo=function(m,a,h){if(h||2===arguments.length)for(var j,w=0,S=a.length;w<S;w++)(j||!(w in a))&&(j||(j=Array.prototype.slice.call(a,0,w)),j[w]=a[w]);return m.concat(j||Array.prototype.slice.call(a))},dr={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Po=function(){function m(a,h,w){void 0===a&&(a=null),void 0===h&&(h=null),void 0===w&&(w=dr),this._targetEl=a,this._triggerEl=h,this._options=zs(zs({},dr),w),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return m.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},m.prototype._setupEventListeners=function(){var a=this,h=this._getTriggerEvents();h.showEvents.forEach(function(w){a._triggerEl.addEventListener(w,function(){a.show()})}),h.hideEvents.forEach(function(w){a._triggerEl.addEventListener(w,function(){a.hide()})})},m.prototype._createPopperInstance=function(){return Si(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},m.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},m.prototype._setupKeydownListener=function(){var a=this;this._keydownEventListener=function(h){"Escape"===h.key&&a.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},m.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},m.prototype._setupClickOutsideListener=function(){var a=this;this._clickOutsideEventListener=function(h){a._handleClickOutside(h,a._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},m.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},m.prototype._handleClickOutside=function(a,h){var w=a.target;w!==h&&!h.contains(w)&&!this._triggerEl.contains(w)&&this.isVisible()&&this.hide()},m.prototype.isVisible=function(){return this._visible},m.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},m.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(a){return zs(zs({},a),{modifiers:wo(wo([],a.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},m.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(a){return zs(zs({},a),{modifiers:wo(wo([],a.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},m}();function Ws(){document.querySelectorAll("[data-tooltip-target]").forEach(function(m){var a=m.getAttribute("data-tooltip-target"),h=document.getElementById(a);if(h){var w=m.getAttribute("data-tooltip-trigger"),S=m.getAttribute("data-tooltip-placement");new Po(h,m,{placement:S||dr.placement,triggerType:w||dr.triggerType})}else console.error('The tooltip element with id "'.concat(a,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=Po,window.initTooltips=Ws);var gs=function(){return gs=Object.assign||function(m){for(var a,h=1,w=arguments.length;h<w;h++)for(var S in a=arguments[h])Object.prototype.hasOwnProperty.call(a,S)&&(m[S]=a[S]);return m},gs.apply(this,arguments)},Io=function(m,a,h){if(h||2===arguments.length)for(var j,w=0,S=a.length;w<S;w++)(j||!(w in a))&&(j||(j=Array.prototype.slice.call(a,0,w)),j[w]=a[w]);return m.concat(j||Array.prototype.slice.call(a))},ms={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Ql=function(){function m(a,h,w){void 0===a&&(a=null),void 0===h&&(h=null),void 0===w&&(w=ms),this._targetEl=a,this._triggerEl=h,this._options=gs(gs({},ms),w),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return m.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},m.prototype._setupEventListeners=function(){var a=this,h=this._getTriggerEvents();h.showEvents.forEach(function(w){a._triggerEl.addEventListener(w,function(){a.show()}),a._targetEl.addEventListener(w,function(){a.show()})}),h.hideEvents.forEach(function(w){a._triggerEl.addEventListener(w,function(){setTimeout(function(){a._targetEl.matches(":hover")||a.hide()},100)}),a._targetEl.addEventListener(w,function(){setTimeout(function(){a._triggerEl.matches(":hover")||a.hide()},100)})})},m.prototype._createPopperInstance=function(){return Si(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},m.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},m.prototype._setupKeydownListener=function(){var a=this;this._keydownEventListener=function(h){"Escape"===h.key&&a.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},m.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},m.prototype._setupClickOutsideListener=function(){var a=this;this._clickOutsideEventListener=function(h){a._handleClickOutside(h,a._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},m.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},m.prototype._handleClickOutside=function(a,h){var w=a.target;w!==h&&!h.contains(w)&&!this._triggerEl.contains(w)&&this.isVisible()&&this.hide()},m.prototype.isVisible=function(){return this._visible},m.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},m.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(a){return gs(gs({},a),{modifiers:Io(Io([],a.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},m.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(a){return gs(gs({},a),{modifiers:Io(Io([],a.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},m}();function Vi(){document.querySelectorAll("[data-popover-target]").forEach(function(m){var a=m.getAttribute("data-popover-target"),h=document.getElementById(a);if(h){var w=m.getAttribute("data-popover-trigger"),S=m.getAttribute("data-popover-placement"),j=m.getAttribute("data-popover-offset");new Ql(h,m,{placement:S||ms.placement,offset:j?parseInt(j):ms.offset,triggerType:w||ms.triggerType})}else console.error('The popover element with id "'.concat(a,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=Ql,window.initPopovers=Vi);var la=function(){return la=Object.assign||function(m){for(var a,h=1,w=arguments.length;h<w;h++)for(var S in a=arguments[h])Object.prototype.hasOwnProperty.call(a,S)&&(m[S]=a[S]);return m},la.apply(this,arguments)},ua={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},co=function(){function m(a,h,w,S){void 0===a&&(a=null),void 0===h&&(h=null),void 0===w&&(w=null),void 0===S&&(S=ua),this._parentEl=a,this._triggerEl=h,this._targetEl=w,this._options=la(la({},ua),S),this._visible=!1,this._init()}return m.prototype._init=function(){var a=this;if(this._triggerEl){var h=this._getTriggerEventTypes(this._options.triggerType);h.showEvents.forEach(function(w){a._triggerEl.addEventListener(w,function(){a.show()}),a._targetEl.addEventListener(w,function(){a.show()})}),h.hideEvents.forEach(function(w){a._parentEl.addEventListener(w,function(){a._parentEl.matches(":hover")||a.hide()})})}},m.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},m.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},m.prototype.toggle=function(){this._visible?this.hide():this.show()},m.prototype.isHidden=function(){return!this._visible},m.prototype.isVisible=function(){return this._visible},m.prototype._getTriggerEventTypes=function(a){switch(a){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},m}();function ks(){document.querySelectorAll("[data-dial-init]").forEach(function(m){var a=m.querySelector("[data-dial-toggle]");if(a){var h=a.getAttribute("data-dial-toggle"),w=document.getElementById(h);if(w){var S=a.getAttribute("data-dial-trigger");new co(m,a,w,{triggerType:S||ua.triggerType})}else console.error("Dial with id ".concat(h," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(m.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}function ca(){Te(),Xt(),Ze(),Be(),Ko(),mi(),ml(),Qo(),Ws(),Vi(),ks()}typeof window<"u"&&(window.Dial=co,window.initDials=ks),typeof window<"u"&&(window.initFlowbite=ca),new qe("load",[Te,Xt,Ze,Be,Ko,mi,ml,Qo,Ws,Vi,ks]).init();var Ai=q(6895);function Mo(m,a){1&m&&($.TgZ(0,"a",20),$._UZ(1,"img",21),$.TgZ(2,"span",22),$._uU(3,"Flowbite"),$.qZA()())}const yl=function(){return["/inicio"]},Vr=function(){return["/receitas"]},Xu=function(){return["/imc"]};let ai=(()=>{class m{constructor(){this.clickMenu=!1}}return m.\u0275fac=function(h){return new(h||m)},m.\u0275cmp=$.Xpm({type:m,selectors:[["app-header"]],decls:43,vars:9,consts:[[1,"bg-slate-200","border-gray-200","dark:bg-gray-900"],[1,"max-w-screen-xl","flex","flex-wrap","items-center","justify-between","mx-auto","p-4"],["href","https://flowbite.com/","class","flex items-center",4,"ngIf"],[1,"flex","items-center","md:order-2"],["type","button","id","user-menu-button","aria-expanded","false","data-dropdown-toggle","user-dropdown","data-dropdown-placement","bottom",1,"flex","mr-3","text-sm","bg-gray-800","rounded-full","md:mr-0","focus:ring-4","focus:ring-gray-300","dark:focus:ring-gray-600"],[1,"sr-only"],["src","https://avatars.githubusercontent.com/u/33838737?v=4","alt","user photo",1,"w-8","h-8","rounded-full"],["id","user-dropdown",1,"z-50","hidden","my-4","text-base","list-none","bg-slate-200","divide-y","divide-gray-100","rounded-lg","shadow","dark:bg-gray-700","dark:divide-gray-600"],[1,"px-4","py-3"],[1,"block","text-sm","text-gray-900","dark:text-white"],[1,"block","text-sm","text-gray-500","truncate","dark:text-gray-400"],["aria-labelledby","user-menu-button",1,"py-2"],["href","#",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","dark:hover:bg-gray-600","dark:text-gray-200","dark:hover:text-white"],["data-collapse-toggle","navbar-user","type","button","aria-controls","navbar-user","aria-expanded","false",1,"inline-flex","items-center","p-2","w-10","h-10","justify-center","text-sm","text-gray-500","rounded-lg","md:hidden","hover:bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-gray-200","dark:text-gray-400","dark:hover:bg-gray-700","dark:focus:ring-gray-600",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 17 14",1,"w-5","h-5"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 1h15M1 7h15M1 13h15"],["id","navbar-user",1,"items-center","justify-between","w-full","md:flex","md:w-auto","md:order-1"],[1,"flex","flex-col","font-medium","p-4","md:p-0","mt-4","border","border-gray-100","rounded-lg","bg-gray-50","md:flex-row","md:space-x-8","md:mt-0","md:border-0","md:bg-slate-200","dark:bg-gray-800","md:dark:bg-gray-900","dark:border-gray-700"],["routerLinkActive","md:dark:text-blue-500 md:text-blue-700","aria-current","page",1,"block","py-2","pl-3","pr-4","text-black","dark:text-white","bg-blue-700","rounded","md:bg-transparent","md:p-0",3,"routerLink"],["routerLinkActive","md:dark:text-blue-500 md:text-blue-700",1,"block","py-2","pl-3","pr-4","text-gray-900","rounded","hover:bg-gray-100","md:hover:bg-transparent","md:hover:text-blue-700","md:p-0","dark:text-white","md:dark:hover:text-blue-500","dark:hover:bg-gray-700","dark:hover:text-white","md:dark:hover:bg-transparent","dark:border-gray-700",3,"routerLink"],["href","https://flowbite.com/",1,"flex","items-center"],["src","https://flowbite.com/docs/images/logo.svg","alt","Flowbite Logo",1,"h-8","mr-3"],[1,"self-center","text-2xl","font-semibold","whitespace-nowrap","dark:text-white"]],template:function(h,w){1&h&&($.TgZ(0,"nav",0)(1,"div",1),$.YNc(2,Mo,4,0,"a",2),$.TgZ(3,"div",3)(4,"button",4)(5,"span",5),$._uU(6,"Open user menu"),$.qZA(),$._UZ(7,"img",6),$.qZA(),$.TgZ(8,"div",7)(9,"div",8)(10,"span",9),$._uU(11,"Bonnie Green"),$.qZA(),$.TgZ(12,"span",10),$._uU(13,"name@flowbite.com"),$.qZA()(),$.TgZ(14,"ul",11)(15,"li")(16,"a",12),$._uU(17,"Dashboard"),$.qZA()(),$.TgZ(18,"li")(19,"a",12),$._uU(20,"Settings"),$.qZA()(),$.TgZ(21,"li")(22,"a",12),$._uU(23,"Earnings"),$.qZA()(),$.TgZ(24,"li")(25,"a",12),$._uU(26,"Sign out"),$.qZA()()()(),$.TgZ(27,"button",13),$.NdJ("click",function(){return w.clickMenu=!w.clickMenu}),$.TgZ(28,"span",5),$._uU(29,"Open main menu"),$.qZA(),$.O4$(),$.TgZ(30,"svg",14),$._UZ(31,"path",15),$.qZA()()(),$.kcU(),$.TgZ(32,"div",16)(33,"ul",17)(34,"li")(35,"a",18),$._uU(36,"Inicio"),$.qZA()(),$.TgZ(37,"li")(38,"a",19),$._uU(39,"Receitas"),$.qZA()(),$.TgZ(40,"li")(41,"a",19),$._uU(42,"IMC"),$.qZA()()()()()()),2&h&&($.xp6(2),$.Q6J("ngIf",!1),$.xp6(30),$.Tol(w.clickMenu?"show":"hidden"),$.xp6(3),$.Q6J("routerLink",$.DdM(6,yl)),$.xp6(3),$.Q6J("routerLink",$.DdM(7,Vr)),$.xp6(3),$.Q6J("routerLink",$.DdM(8,Xu)))},dependencies:[Ai.O5,ee.rH,ee.Od]}),m})(),Gs=(()=>{class m{}return m.\u0275fac=function(h){return new(h||m)},m.\u0275cmp=$.Xpm({type:m,selectors:[["app-footer"]],decls:7,vars:0,consts:[[1,"bg-slate-200","rounded-lg","shadow","m-4","dark:bg-gray-800"],[1,"w-full","mx-auto","max-w-screen-xl","p-4","text-center"],[1,"text-sm","text-gray-500","sm:text-center","dark:text-gray-400"],["href","https://flowbite.com/",1,"hover:underline"]],template:function(h,w){1&h&&($.TgZ(0,"footer",0)(1,"div",1)(2,"span",2),$._uU(3,"\xa9 2023 "),$.TgZ(4,"a",3),$._uU(5,"Wellyson Rocha\u2122"),$.qZA(),$._uU(6,". Todos os direitos reservados. "),$.qZA()()())}}),m})(),Ds=(()=>{class m{constructor(){this.title="my-academy"}ngOnInit(){ca()}}return m.\u0275fac=function(h){return new(h||m)},m.\u0275cmp=$.Xpm({type:m,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"flex","flex-col","justify-between",2,"min-height","100vh"],[2,"flex-grow","1"]],template:function(h,w){1&h&&($.TgZ(0,"div",0),$._UZ(1,"app-header"),$.TgZ(2,"div",1),$._UZ(3,"router-outlet"),$.qZA(),$._UZ(4,"app-footer"),$.qZA())},dependencies:[ee.lC,ai,Gs]}),m})();var Zr=q(7340);function ys(m){return new $.vHH(3e3,!1)}function pa(){return typeof window<"u"&&typeof window.document<"u"}function Yr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ho(m){switch(m.length){case 0:return new Zr.ZN;case 1:return m[0];default:return new Zr.ZE(m)}}function Ma(m,a,h,w,S=new Map,j=new Map){const X=[],ie=[];let pe=-1,Ae=null;if(w.forEach(Ge=>{const Pt=Ge.get("offset"),Bt=Pt==pe,Ut=Bt&&Ae||new Map;Ge.forEach((Wt,Vt)=>{let dn=Vt,On=Wt;if("offset"!==Vt)switch(dn=a.normalizePropertyName(dn,X),On){case Zr.k1:On=S.get(Vt);break;case Zr.l3:On=j.get(Vt);break;default:On=a.normalizeStyleValue(Vt,dn,On,X)}Ut.set(dn,On)}),Bt||ie.push(Ut),Ae=Ut,pe=Pt}),X.length)throw function Co(m){return new $.vHH(3502,!1)}();return ie}function Ps(m,a,h,w){switch(a){case"start":m.onStart(()=>w(h&&Ms(h,"start",m)));break;case"done":m.onDone(()=>w(h&&Ms(h,"done",m)));break;case"destroy":m.onDestroy(()=>w(h&&Ms(h,"destroy",m)))}}function Ms(m,a,h){const j=Fo(m.element,m.triggerName,m.fromState,m.toState,a||m.phaseName,h.totalTime??m.totalTime,!!h.disabled),X=m._data;return null!=X&&(j._data=X),j}function Fo(m,a,h,w,S="",j=0,X){return{element:m,triggerName:a,fromState:h,toState:w,phaseName:S,totalTime:j,disabled:!!X}}function ns(m,a,h){let w=m.get(a);return w||m.set(a,w=h),w}function Do(m){const a=m.indexOf(":");return[m.substring(1,a),m.slice(a+1)]}let ga=(m,a)=>!1,Ns=(m,a,h)=>[],Zi=null;function br(m){const a=m.parentNode||m.host;return a===Zi?null:a}(Yr()||typeof Element<"u")&&(pa()?(Zi=(()=>document.documentElement)(),ga=(m,a)=>{for(;a;){if(a===m)return!0;a=br(a)}return!1}):ga=(m,a)=>m.contains(a),Ns=(m,a,h)=>{if(h)return Array.from(m.querySelectorAll(a));const w=m.querySelector(a);return w?[w]:[]});let eo=null,to=!1;const nu=ga,El=Ns;let Na=(()=>{class m{validateStyleProperty(h){return function Ll(m){eo||(eo=function tu(){return typeof document<"u"?document.body:null}()||{},to=!!eo.style&&"WebkitAppearance"in eo.style);let a=!0;return eo.style&&!function li(m){return"ebkit"==m.substring(1,6)}(m)&&(a=m in eo.style,!a&&to&&(a="Webkit"+m.charAt(0).toUpperCase()+m.slice(1)in eo.style)),a}(h)}matchesElement(h,w){return!1}containsElement(h,w){return nu(h,w)}getParentElement(h){return br(h)}query(h,w,S){return El(h,w,S)}computeStyle(h,w,S){return S||""}animate(h,w,S,j,X,ie=[],pe){return new Zr.ZN(S,j)}}return m.\u0275fac=function(h){return new(h||m)},m.\u0275prov=$.Yz7({token:m,factory:m.\u0275fac}),m})(),L=(()=>{class m{}return m.NOOP=new Na,m})();const G=1e3,Ee="ng-enter",st="ng-leave",Ct="ng-trigger",qt=".ng-trigger",Sr="ng-animating",mr=".ng-animating";function tr(m){if("number"==typeof m)return m;const a=m.match(/^(-?[\.\d]+)(m?s)/);return!a||a.length<2?0:wr(parseFloat(a[1]),a[2])}function wr(m,a){return"s"===a?m*G:m}function bt(m,a,h){return m.hasOwnProperty("duration")?m:function Qn(m,a,h){let S,j=0,X="";if("string"==typeof m){const ie=m.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ie)return a.push(ys()),{duration:0,delay:0,easing:""};S=wr(parseFloat(ie[1]),ie[2]);const pe=ie[3];null!=pe&&(j=wr(parseFloat(pe),ie[4]));const Ae=ie[5];Ae&&(X=Ae)}else S=m;if(!h){let ie=!1,pe=a.length;S<0&&(a.push(function hs(){return new $.vHH(3100,!1)}()),ie=!0),j<0&&(a.push(function Ys(){return new $.vHH(3101,!1)}()),ie=!0),ie&&a.splice(pe,0,ys())}return{duration:S,delay:j,easing:X}}(m,a,h)}function Qr(m,a={}){return Object.keys(m).forEach(h=>{a[h]=m[h]}),a}function no(m){const a=new Map;return Object.keys(m).forEach(h=>{a.set(h,m[h])}),a}function Yi(m,a=new Map,h){if(h)for(let[w,S]of h)a.set(w,S);for(let[w,S]of m)a.set(w,S);return a}function zt(m,a,h){return h?a+":"+h+";":""}function Je(m){let a="";for(let h=0;h<m.style.length;h++){const w=m.style.item(h);a+=zt(0,w,m.style.getPropertyValue(w))}for(const h in m.style)m.style.hasOwnProperty(h)&&!h.startsWith("_")&&(a+=zt(0,ka(h),m.style[h]));m.setAttribute("style",a)}function Et(m,a,h){m.style&&(a.forEach((w,S)=>{const j=Il(S);h&&!h.has(S)&&h.set(S,m.style[j]),m.style[j]=w}),Yr()&&Je(m))}function Ii(m,a){m.style&&(a.forEach((h,w)=>{const S=Il(w);m.style[S]=""}),Yr()&&Je(m))}function Oa(m){return Array.isArray(m)?1==m.length?m[0]:(0,Zr.vP)(m):m}const wl=new RegExp("{{\\s*(.+?)\\s*}}","g");function Fl(m){let a=[];if("string"==typeof m){let h;for(;h=wl.exec(m);)a.push(h[1]);wl.lastIndex=0}return a}function Ul(m,a,h){const w=m.toString(),S=w.replace(wl,(j,X)=>{let ie=a[X];return null==ie&&(h.push(function or(m){return new $.vHH(3003,!1)}()),ie=""),ie.toString()});return S==w?m:S}function ro(m){const a=[];let h=m.next();for(;!h.done;)a.push(h.value),h=m.next();return a}const Uc=/-+([a-z0-9])/g;function Il(m){return m.replace(Uc,(...a)=>a[1].toUpperCase())}function ka(m){return m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Cn(m,a,h){switch(a.type){case 7:return m.visitTrigger(a,h);case 0:return m.visitState(a,h);case 1:return m.visitTransition(a,h);case 2:return m.visitSequence(a,h);case 3:return m.visitGroup(a,h);case 4:return m.visitAnimate(a,h);case 5:return m.visitKeyframes(a,h);case 6:return m.visitStyle(a,h);case 8:return m.visitReference(a,h);case 9:return m.visitAnimateChild(a,h);case 10:return m.visitAnimateRef(a,h);case 11:return m.visitQuery(a,h);case 12:return m.visitStagger(a,h);default:throw function da(m){return new $.vHH(3004,!1)}()}}function ma(m,a){return window.getComputedStyle(m)[a]}const sn="*";function Uo(m,a){const h=[];return"string"==typeof m?m.split(/\s*,\s*/).forEach(w=>function Tl(m,a,h){if(":"==m[0]){const pe=function Bo(m,a){switch(m){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(h,w)=>parseFloat(w)>parseFloat(h);case":decrement":return(h,w)=>parseFloat(w)<parseFloat(h);default:return a.push(function Qs(m){return new $.vHH(3016,!1)}()),"* => *"}}(m,h);if("function"==typeof pe)return void a.push(pe);m=pe}const w=m.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==w||w.length<4)return h.push(function Oo(m){return new $.vHH(3015,!1)}()),a;const S=w[1],j=w[2],X=w[3];a.push(bl(S,X));"<"==j[0]&&!(S==sn&&X==sn)&&a.push(bl(X,S))}(w,h,a)):h.push(m),h}const La=new Set(["true","1"]),Fa=new Set(["false","0"]);function bl(m,a){const h=La.has(m)||Fa.has(m),w=La.has(a)||Fa.has(a);return(S,j)=>{let X=m==sn||m==S,ie=a==sn||a==j;return!X&&h&&"boolean"==typeof S&&(X=S?La.has(m):Fa.has(m)),!ie&&w&&"boolean"==typeof j&&(ie=j?La.has(a):Fa.has(a)),X&&ie}}const Ua=new RegExp("s*:selfs*,?","g");function Ba(m,a,h,w){return new Cl(m).build(a,h,w)}class Cl{constructor(a){this._driver=a}build(a,h,w){const S=new _a(h);return this._resetContextStyleTimingState(S),Cn(this,Oa(a),S)}_resetContextStyleTimingState(a){a.currentQuerySelector="",a.collectedStyles=new Map,a.collectedStyles.set("",new Map),a.currentTime=0}visitTrigger(a,h){let w=h.queryCount=0,S=h.depCount=0;const j=[],X=[];return"@"==a.name.charAt(0)&&h.errors.push(function Ri(){return new $.vHH(3006,!1)}()),a.definitions.forEach(ie=>{if(this._resetContextStyleTimingState(h),0==ie.type){const pe=ie,Ae=pe.name;Ae.toString().split(/\s*,\s*/).forEach(Ge=>{pe.name=Ge,j.push(this.visitState(pe,h))}),pe.name=Ae}else if(1==ie.type){const pe=this.visitTransition(ie,h);w+=pe.queryCount,S+=pe.depCount,X.push(pe)}else h.errors.push(function ha(){return new $.vHH(3007,!1)}())}),{type:7,name:a.name,states:j,transitions:X,queryCount:w,depCount:S,options:null}}visitState(a,h){const w=this.visitStyle(a.styles,h),S=a.options&&a.options.params||null;if(w.containsDynamicStyles){const j=new Set,X=S||{};w.styles.forEach(ie=>{ie instanceof Map&&ie.forEach(pe=>{Fl(pe).forEach(Ae=>{X.hasOwnProperty(Ae)||j.add(Ae)})})}),j.size&&(ro(j.values()),h.errors.push(function fa(m,a){return new $.vHH(3008,!1)}()))}return{type:0,name:a.name,style:w,options:S?{params:S}:null}}visitTransition(a,h){h.queryCount=0,h.depCount=0;const w=Cn(this,Oa(a.animation),h);return{type:1,matchers:Uo(a.expr,h.errors),animation:w,queryCount:h.queryCount,depCount:h.depCount,options:va(a.options)}}visitSequence(a,h){return{type:2,steps:a.steps.map(w=>Cn(this,w,h)),options:va(a.options)}}visitGroup(a,h){const w=h.currentTime;let S=0;const j=a.steps.map(X=>{h.currentTime=w;const ie=Cn(this,X,h);return S=Math.max(S,h.currentTime),ie});return h.currentTime=S,{type:3,steps:j,options:va(a.options)}}visitAnimate(a,h){const w=function et(m,a){if(m.hasOwnProperty("duration"))return m;if("number"==typeof m)return $r(bt(m,a).duration,0,"");const h=m;if(h.split(/\s+/).some(j=>"{"==j.charAt(0)&&"{"==j.charAt(1))){const j=$r(0,0,"");return j.dynamic=!0,j.strValue=h,j}const S=bt(h,a);return $r(S.duration,S.delay,S.easing)}(a.timings,h.errors);h.currentAnimateTimings=w;let S,j=a.styles?a.styles:(0,Zr.oB)({});if(5==j.type)S=this.visitKeyframes(j,h);else{let X=a.styles,ie=!1;if(!X){ie=!0;const Ae={};w.easing&&(Ae.easing=w.easing),X=(0,Zr.oB)(Ae)}h.currentTime+=w.duration+w.delay;const pe=this.visitStyle(X,h);pe.isEmptyStep=ie,S=pe}return h.currentAnimateTimings=null,{type:4,timings:w,style:S,options:null}}visitStyle(a,h){const w=this._makeStyleAst(a,h);return this._validateStyleAst(w,h),w}_makeStyleAst(a,h){const w=[],S=Array.isArray(a.styles)?a.styles:[a.styles];for(let ie of S)"string"==typeof ie?ie===Zr.l3?w.push(ie):h.errors.push(new $.vHH(3002,!1)):w.push(no(ie));let j=!1,X=null;return w.forEach(ie=>{if(ie instanceof Map&&(ie.has("easing")&&(X=ie.get("easing"),ie.delete("easing")),!j))for(let pe of ie.values())if(pe.toString().indexOf("{{")>=0){j=!0;break}}),{type:6,styles:w,easing:X,offset:a.offset,containsDynamicStyles:j,options:null}}_validateStyleAst(a,h){const w=h.currentAnimateTimings;let S=h.currentTime,j=h.currentTime;w&&j>0&&(j-=w.duration+w.delay),a.styles.forEach(X=>{"string"!=typeof X&&X.forEach((ie,pe)=>{const Ae=h.collectedStyles.get(h.currentQuerySelector),Ge=Ae.get(pe);let Pt=!0;Ge&&(j!=S&&j>=Ge.startTime&&S<=Ge.endTime&&(h.errors.push(function _l(m,a,h,w,S){return new $.vHH(3010,!1)}()),Pt=!1),j=Ge.startTime),Pt&&Ae.set(pe,{startTime:j,endTime:S}),h.options&&function yc(m,a,h){const w=a.params||{},S=Fl(m);S.length&&S.forEach(j=>{w.hasOwnProperty(j)||h.push(function Bn(m){return new $.vHH(3001,!1)}())})}(ie,h.options,h.errors)})})}visitKeyframes(a,h){const w={type:5,styles:[],options:null};if(!h.currentAnimateTimings)return h.errors.push(function ot(){return new $.vHH(3011,!1)}()),w;let j=0;const X=[];let ie=!1,pe=!1,Ae=0;const Ge=a.steps.map(On=>{const hr=this._makeStyleAst(On,h);let Jn=null!=hr.offset?hr.offset:function io(m){if("string"==typeof m)return null;let a=null;if(Array.isArray(m))m.forEach(h=>{if(h instanceof Map&&h.has("offset")){const w=h;a=parseFloat(w.get("offset")),w.delete("offset")}});else if(m instanceof Map&&m.has("offset")){const h=m;a=parseFloat(h.get("offset")),h.delete("offset")}return a}(hr.styles),In=0;return null!=Jn&&(j++,In=hr.offset=Jn),pe=pe||In<0||In>1,ie=ie||In<Ae,Ae=In,X.push(In),hr});pe&&h.errors.push(function Gn(){return new $.vHH(3012,!1)}()),ie&&h.errors.push(function Xl(){return new $.vHH(3200,!1)}());const Pt=a.steps.length;let Bt=0;j>0&&j<Pt?h.errors.push(function No(){return new $.vHH(3202,!1)}()):0==j&&(Bt=1/(Pt-1));const Ut=Pt-1,Wt=h.currentTime,Vt=h.currentAnimateTimings,dn=Vt.duration;return Ge.forEach((On,hr)=>{const Jn=Bt>0?hr==Ut?1:Bt*hr:X[hr],In=Jn*dn;h.currentTime=Wt+Vt.delay+In,Vt.duration=In,this._validateStyleAst(On,h),On.offset=Jn,w.styles.push(On)}),w}visitReference(a,h){return{type:8,animation:Cn(this,Oa(a.animation),h),options:va(a.options)}}visitAnimateChild(a,h){return h.depCount++,{type:9,options:va(a.options)}}visitAnimateRef(a,h){return{type:10,animation:this.visitReference(a.animation,h),options:va(a.options)}}visitQuery(a,h){const w=h.currentQuerySelector,S=a.options||{};h.queryCount++,h.currentQuery=a;const[j,X]=function ya(m){const a=!!m.split(/\s*,\s*/).find(h=>":self"==h);return a&&(m=m.replace(Ua,"")),m=m.replace(/@\*/g,qt).replace(/@\w+/g,h=>qt+"-"+h.slice(1)).replace(/:animating/g,mr),[m,a]}(a.selector);h.currentQuerySelector=w.length?w+" "+j:j,ns(h.collectedStyles,h.currentQuerySelector,new Map);const ie=Cn(this,Oa(a.animation),h);return h.currentQuery=null,h.currentQuerySelector=w,{type:11,selector:j,limit:S.limit||0,optional:!!S.optional,includeSelf:X,animation:ie,originalSelector:a.selector,options:va(a.options)}}visitStagger(a,h){h.currentQuery||h.errors.push(function Oi(){return new $.vHH(3013,!1)}());const w="full"===a.timings?{duration:0,delay:0,easing:"full"}:bt(a.timings,h.errors,!0);return{type:12,animation:Cn(this,Oa(a.animation),h),timings:w,options:null}}}class _a{constructor(a){this.errors=a,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function va(m){return m?(m=Qr(m)).params&&(m.params=function Bc(m){return m?Qr(m):null}(m.params)):m={},m}function $r(m,a,h){return{duration:m,delay:a,easing:h}}function _u(m,a,h,w,S,j,X=null,ie=!1){return{type:1,element:m,keyframes:a,preStyleProps:h,postStyleProps:w,duration:S,delay:j,totalTime:S+j,easing:X,subTimeline:ie}}class Ea{constructor(){this._map=new Map}get(a){return this._map.get(a)||[]}append(a,h){let w=this._map.get(a);w||this._map.set(a,w=[]),w.push(...h)}has(a){return this._map.has(a)}clear(){this._map.clear()}}const wa=new RegExp(":enter","g"),Ec=new RegExp(":leave","g");function Va(m,a,h,w,S,j=new Map,X=new Map,ie,pe,Ae=[]){return(new rd).buildKeyframes(m,a,h,w,S,j,X,ie,pe,Ae)}class rd{buildKeyframes(a,h,w,S,j,X,ie,pe,Ae,Ge=[]){Ae=Ae||new Ea;const Pt=new ji(a,h,Ae,S,j,Ge,[]);Pt.options=pe;const Bt=pe.delay?tr(pe.delay):0;Pt.currentTimeline.delayNextStep(Bt),Pt.currentTimeline.setStyles([X],null,Pt.errors,pe),Cn(this,w,Pt);const Ut=Pt.timelines.filter(Wt=>Wt.containsAnimation());if(Ut.length&&ie.size){let Wt;for(let Vt=Ut.length-1;Vt>=0;Vt--){const dn=Ut[Vt];if(dn.element===h){Wt=dn;break}}Wt&&!Wt.allowOnlyTimelineStyles()&&Wt.setStyles([ie],null,Pt.errors,pe)}return Ut.length?Ut.map(Wt=>Wt.buildKeyframes()):[_u(h,[],[],[],0,Bt,"",!1)]}visitTrigger(a,h){}visitState(a,h){}visitTransition(a,h){}visitAnimateChild(a,h){const w=h.subInstructions.get(h.element);if(w){const S=h.createSubContext(a.options),j=h.currentTimeline.currentTime,X=this._visitSubInstructions(w,S,S.options);j!=X&&h.transformIntoNewTimeline(X)}h.previousNode=a}visitAnimateRef(a,h){const w=h.createSubContext(a.options);w.transformIntoNewTimeline(),this._applyAnimationRefDelays([a.options,a.animation.options],h,w),this.visitReference(a.animation,w),h.transformIntoNewTimeline(w.currentTimeline.currentTime),h.previousNode=a}_applyAnimationRefDelays(a,h,w){for(const S of a){const j=S?.delay;if(j){const X="number"==typeof j?j:tr(Ul(j,S?.params??{},h.errors));w.delayNextStep(X)}}}_visitSubInstructions(a,h,w){let j=h.currentTimeline.currentTime;const X=null!=w.duration?tr(w.duration):null,ie=null!=w.delay?tr(w.delay):null;return 0!==X&&a.forEach(pe=>{const Ae=h.appendInstructionToTimeline(pe,X,ie);j=Math.max(j,Ae.duration+Ae.delay)}),j}visitReference(a,h){h.updateOptions(a.options,!0),Cn(this,a.animation,h),h.previousNode=a}visitSequence(a,h){const w=h.subContextCount;let S=h;const j=a.options;if(j&&(j.params||j.delay)&&(S=h.createSubContext(j),S.transformIntoNewTimeline(),null!=j.delay)){6==S.previousNode.type&&(S.currentTimeline.snapshotCurrentStyles(),S.previousNode=Fs);const X=tr(j.delay);S.delayNextStep(X)}a.steps.length&&(a.steps.forEach(X=>Cn(this,X,S)),S.currentTimeline.applyStylesToKeyframe(),S.subContextCount>w&&S.transformIntoNewTimeline()),h.previousNode=a}visitGroup(a,h){const w=[];let S=h.currentTimeline.currentTime;const j=a.options&&a.options.delay?tr(a.options.delay):0;a.steps.forEach(X=>{const ie=h.createSubContext(a.options);j&&ie.delayNextStep(j),Cn(this,X,ie),S=Math.max(S,ie.currentTimeline.currentTime),w.push(ie.currentTimeline)}),w.forEach(X=>h.currentTimeline.mergeTimelineCollectedStyles(X)),h.transformIntoNewTimeline(S),h.previousNode=a}_visitTiming(a,h){if(a.dynamic){const w=a.strValue;return bt(h.params?Ul(w,h.params,h.errors):w,h.errors)}return{duration:a.duration,delay:a.delay,easing:a.easing}}visitAnimate(a,h){const w=h.currentAnimateTimings=this._visitTiming(a.timings,h),S=h.currentTimeline;w.delay&&(h.incrementTime(w.delay),S.snapshotCurrentStyles());const j=a.style;5==j.type?this.visitKeyframes(j,h):(h.incrementTime(w.duration),this.visitStyle(j,h),S.applyStylesToKeyframe()),h.currentAnimateTimings=null,h.previousNode=a}visitStyle(a,h){const w=h.currentTimeline,S=h.currentAnimateTimings;!S&&w.hasCurrentStyleProperties()&&w.forwardFrame();const j=S&&S.easing||a.easing;a.isEmptyStep?w.applyEmptyStep(j):w.setStyles(a.styles,j,h.errors,h.options),h.previousNode=a}visitKeyframes(a,h){const w=h.currentAnimateTimings,S=h.currentTimeline.duration,j=w.duration,ie=h.createSubContext().currentTimeline;ie.easing=w.easing,a.styles.forEach(pe=>{ie.forwardTime((pe.offset||0)*j),ie.setStyles(pe.styles,pe.easing,h.errors,h.options),ie.applyStylesToKeyframe()}),h.currentTimeline.mergeTimelineCollectedStyles(ie),h.transformIntoNewTimeline(S+j),h.previousNode=a}visitQuery(a,h){const w=h.currentTimeline.currentTime,S=a.options||{},j=S.delay?tr(S.delay):0;j&&(6===h.previousNode.type||0==w&&h.currentTimeline.hasCurrentStyleProperties())&&(h.currentTimeline.snapshotCurrentStyles(),h.previousNode=Fs);let X=w;const ie=h.invokeQuery(a.selector,a.originalSelector,a.limit,a.includeSelf,!!S.optional,h.errors);h.currentQueryTotal=ie.length;let pe=null;ie.forEach((Ae,Ge)=>{h.currentQueryIndex=Ge;const Pt=h.createSubContext(a.options,Ae);j&&Pt.delayNextStep(j),Ae===h.element&&(pe=Pt.currentTimeline),Cn(this,a.animation,Pt),Pt.currentTimeline.applyStylesToKeyframe(),X=Math.max(X,Pt.currentTimeline.currentTime)}),h.currentQueryIndex=0,h.currentQueryTotal=0,h.transformIntoNewTimeline(X),pe&&(h.currentTimeline.mergeTimelineCollectedStyles(pe),h.currentTimeline.snapshotCurrentStyles()),h.previousNode=a}visitStagger(a,h){const w=h.parentContext,S=h.currentTimeline,j=a.timings,X=Math.abs(j.duration),ie=X*(h.currentQueryTotal-1);let pe=X*h.currentQueryIndex;switch(j.duration<0?"reverse":j.easing){case"reverse":pe=ie-pe;break;case"full":pe=w.currentStaggerTime}const Ge=h.currentTimeline;pe&&Ge.delayNextStep(pe);const Pt=Ge.currentTime;Cn(this,a.animation,h),h.previousNode=a,w.currentStaggerTime=S.currentTime-Pt+(S.startTime-w.currentTimeline.startTime)}}const Fs={};class ji{constructor(a,h,w,S,j,X,ie,pe){this._driver=a,this.element=h,this.subInstructions=w,this._enterClassName=S,this._leaveClassName=j,this.errors=X,this.timelines=ie,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Fs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=pe||new Ia(this._driver,h,0),ie.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(a,h){if(!a)return;const w=a;let S=this.options;null!=w.duration&&(S.duration=tr(w.duration)),null!=w.delay&&(S.delay=tr(w.delay));const j=w.params;if(j){let X=S.params;X||(X=this.options.params={}),Object.keys(j).forEach(ie=>{(!h||!X.hasOwnProperty(ie))&&(X[ie]=Ul(j[ie],X,this.errors))})}}_copyOptions(){const a={};if(this.options){const h=this.options.params;if(h){const w=a.params={};Object.keys(h).forEach(S=>{w[S]=h[S]})}}return a}createSubContext(a=null,h,w){const S=h||this.element,j=new ji(this._driver,S,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(S,w||0));return j.previousNode=this.previousNode,j.currentAnimateTimings=this.currentAnimateTimings,j.options=this._copyOptions(),j.updateOptions(a),j.currentQueryIndex=this.currentQueryIndex,j.currentQueryTotal=this.currentQueryTotal,j.parentContext=this,this.subContextCount++,j}transformIntoNewTimeline(a){return this.previousNode=Fs,this.currentTimeline=this.currentTimeline.fork(this.element,a),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(a,h,w){const S={duration:h??a.duration,delay:this.currentTimeline.currentTime+(w??0)+a.delay,easing:""},j=new $a(this._driver,a.element,a.keyframes,a.preStyleProps,a.postStyleProps,S,a.stretchStartingKeyframe);return this.timelines.push(j),S}incrementTime(a){this.currentTimeline.forwardTime(this.currentTimeline.duration+a)}delayNextStep(a){a>0&&this.currentTimeline.delayNextStep(a)}invokeQuery(a,h,w,S,j,X){let ie=[];if(S&&ie.push(this.element),a.length>0){a=(a=a.replace(wa,"."+this._enterClassName)).replace(Ec,"."+this._leaveClassName);let Ae=this._driver.query(this.element,a,1!=w);0!==w&&(Ae=w<0?Ae.slice(Ae.length+w,Ae.length):Ae.slice(0,w)),ie.push(...Ae)}return!j&&0==ie.length&&X.push(function mu(m){return new $.vHH(3014,!1)}()),ie}}class Ia{constructor(a,h,w,S){this._driver=a,this.element=h,this.startTime=w,this._elementTimelineStylesLookup=S,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(h),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(h,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(a){const h=1===this._keyframes.size&&this._pendingStyles.size;this.duration||h?(this.forwardTime(this.currentTime+a),h&&this.snapshotCurrentStyles()):this.startTime+=a}fork(a,h){return this.applyStylesToKeyframe(),new Ia(this._driver,a,h||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(a){this.applyStylesToKeyframe(),this.duration=a,this._loadKeyframe()}_updateStyle(a,h){this._localTimelineStyles.set(a,h),this._globalTimelineStyles.set(a,h),this._styleSummary.set(a,{time:this.currentTime,value:h})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(a){a&&this._previousKeyframe.set("easing",a);for(let[h,w]of this._globalTimelineStyles)this._backFill.set(h,w||Zr.l3),this._currentKeyframe.set(h,Zr.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(a,h,w,S){h&&this._previousKeyframe.set("easing",h);const j=S&&S.params||{},X=function vs(m,a){const h=new Map;let w;return m.forEach(S=>{if("*"===S){w=w||a.keys();for(let j of w)h.set(j,Zr.l3)}else Yi(S,h)}),h}(a,this._globalTimelineStyles);for(let[ie,pe]of X){const Ae=Ul(pe,j,w);this._pendingStyles.set(ie,Ae),this._localTimelineStyles.has(ie)||this._backFill.set(ie,this._globalTimelineStyles.get(ie)??Zr.l3),this._updateStyle(ie,Ae)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((a,h)=>{this._currentKeyframe.set(h,a)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((a,h)=>{this._currentKeyframe.has(h)||this._currentKeyframe.set(h,a)}))}snapshotCurrentStyles(){for(let[a,h]of this._localTimelineStyles)this._pendingStyles.set(a,h),this._updateStyle(a,h)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const a=[];for(let h in this._currentKeyframe)a.push(h);return a}mergeTimelineCollectedStyles(a){a._styleSummary.forEach((h,w)=>{const S=this._styleSummary.get(w);(!S||h.time>S.time)&&this._updateStyle(w,h.value)})}buildKeyframes(){this.applyStylesToKeyframe();const a=new Set,h=new Set,w=1===this._keyframes.size&&0===this.duration;let S=[];this._keyframes.forEach((ie,pe)=>{const Ae=Yi(ie,new Map,this._backFill);Ae.forEach((Ge,Pt)=>{Ge===Zr.k1?a.add(Pt):Ge===Zr.l3&&h.add(Pt)}),w||Ae.set("offset",pe/this.duration),S.push(Ae)});const j=a.size?ro(a.values()):[],X=h.size?ro(h.values()):[];if(w){const ie=S[0],pe=new Map(ie);ie.set("offset",0),pe.set("offset",1),S=[ie,pe]}return _u(this.element,S,j,X,this.duration,this.startTime,this.easing,!1)}}class $a extends Ia{constructor(a,h,w,S,j,X,ie=!1){super(a,h,X.delay),this.keyframes=w,this.preStyleProps=S,this.postStyleProps=j,this._stretchStartingKeyframe=ie,this.timings={duration:X.duration,delay:X.delay,easing:X.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let a=this.keyframes,{delay:h,duration:w,easing:S}=this.timings;if(this._stretchStartingKeyframe&&h){const j=[],X=w+h,ie=h/X,pe=Yi(a[0]);pe.set("offset",0),j.push(pe);const Ae=Yi(a[0]);Ae.set("offset",Os(ie)),j.push(Ae);const Ge=a.length-1;for(let Pt=1;Pt<=Ge;Pt++){let Bt=Yi(a[Pt]);const Ut=Bt.get("offset");Bt.set("offset",Os((h+Ut*w)/X)),j.push(Bt)}w=X,h=0,S="",a=j}return _u(this.element,a,this.preStyleProps,this.postStyleProps,w,h,S,!0)}}function Os(m,a=3){const h=Math.pow(10,a-1);return Math.round(m*h)/h}class so{}const $o=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $l extends so{normalizePropertyName(a,h){return Il(a)}normalizeStyleValue(a,h,w,S){let j="";const X=w.toString().trim();if($o.has(h)&&0!==w&&"0"!==w)if("number"==typeof w)j="px";else{const ie=w.match(/^[+-]?[\d\.]+([a-z]*)$/);ie&&0==ie[1].length&&S.push(function Nl(m,a){return new $.vHH(3005,!1)}())}return X+j}}function Eu(m,a,h,w,S,j,X,ie,pe,Ae,Ge,Pt,Bt){return{type:0,element:m,triggerName:a,isRemovalTransition:S,fromState:h,fromStyles:j,toState:w,toStyles:X,timelines:ie,queriedElements:pe,preStyleProps:Ae,postStyleProps:Ge,totalTime:Pt,errors:Bt}}const jl={};class Fu{constructor(a,h,w){this._triggerName=a,this.ast=h,this._stateStyles=w}match(a,h,w,S){return function sl(m,a,h,w,S){return m.some(j=>j(a,h,w,S))}(this.ast.matchers,a,h,w,S)}buildStyles(a,h,w){let S=this._stateStyles.get("*");return void 0!==a&&(S=this._stateStyles.get(a?.toString())||S),S?S.buildStyles(h,w):new Map}build(a,h,w,S,j,X,ie,pe,Ae,Ge){const Pt=[],Bt=this.ast.options&&this.ast.options.params||jl,Wt=this.buildStyles(w,ie&&ie.params||jl,Pt),Vt=pe&&pe.params||jl,dn=this.buildStyles(S,Vt,Pt),On=new Set,hr=new Map,Jn=new Map,In="void"===S,Pr={params:wu(Vt,Bt),delay:this.ast.options?.delay},Ir=Ge?[]:Va(a,h,this.ast.animation,j,X,Wt,dn,Pr,Ae,Pt);let Mr=0;if(Ir.forEach(bi=>{Mr=Math.max(bi.duration+bi.delay,Mr)}),Pt.length)return Eu(h,this._triggerName,w,S,In,Wt,dn,[],[],hr,Jn,Mr,Pt);Ir.forEach(bi=>{const is=bi.element,ra=ns(hr,is,new Set);bi.preStyleProps.forEach(ss=>ra.add(ss));const ia=ns(Jn,is,new Set);bi.postStyleProps.forEach(ss=>ia.add(ss)),is!==h&&On.add(is)});const ni=ro(On.values());return Eu(h,this._triggerName,w,S,In,Wt,dn,Ir,ni,hr,Jn,Mr)}}function wu(m,a){const h=Qr(a);for(const w in m)m.hasOwnProperty(w)&&null!=m[w]&&(h[w]=m[w]);return h}class C{constructor(a,h,w){this.styles=a,this.defaultParams=h,this.normalizer=w}buildStyles(a,h){const w=new Map,S=Qr(this.defaultParams);return Object.keys(a).forEach(j=>{const X=a[j];null!==X&&(S[j]=X)}),this.styles.styles.forEach(j=>{"string"!=typeof j&&j.forEach((X,ie)=>{X&&(X=Ul(X,S,h));const pe=this.normalizer.normalizePropertyName(ie,h);X=this.normalizer.normalizeStyleValue(ie,pe,X,h),w.set(ie,X)})}),w}}class T{constructor(a,h,w){this.name=a,this.ast=h,this._normalizer=w,this.transitionFactories=[],this.states=new Map,h.states.forEach(S=>{this.states.set(S.name,new C(S.style,S.options&&S.options.params||{},w))}),z(this.states,"true","1"),z(this.states,"false","0"),h.transitions.forEach(S=>{this.transitionFactories.push(new Fu(a,S,this.states))}),this.fallbackTransition=function k(m,a,h){return new Fu(m,{type:1,animation:{type:2,steps:[],options:null},matchers:[(X,ie)=>!0],options:null,queryCount:0,depCount:0},a)}(a,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(a,h,w,S){return this.transitionFactories.find(X=>X.match(a,h,w,S))||null}matchStyles(a,h,w){return this.fallbackTransition.buildStyles(a,h,w)}}function z(m,a,h){m.has(a)?m.has(h)||m.set(h,m.get(a)):m.has(h)&&m.set(a,m.get(h))}const J=new Ea;class ce{constructor(a,h,w){this.bodyNode=a,this._driver=h,this._normalizer=w,this._animations=new Map,this._playersById=new Map,this.players=[]}register(a,h){const w=[],S=[],j=Ba(this._driver,h,w,S);if(w.length)throw function Is(m){return new $.vHH(3503,!1)}();this._animations.set(a,j)}_buildPlayer(a,h,w){const S=a.element,j=Ma(0,this._normalizer,0,a.keyframes,h,w);return this._driver.animate(S,j,a.duration,a.delay,a.easing,[],!0)}create(a,h,w={}){const S=[],j=this._animations.get(a);let X;const ie=new Map;if(j?(X=Va(this._driver,h,j,Ee,st,new Map,new Map,w,J,S),X.forEach(Ge=>{const Pt=ns(ie,Ge.element,new Map);Ge.postStyleProps.forEach(Bt=>Pt.set(Bt,null))})):(S.push(function Ss(){return new $.vHH(3300,!1)}()),X=[]),S.length)throw function As(m){return new $.vHH(3504,!1)}();ie.forEach((Ge,Pt)=>{Ge.forEach((Bt,Ut)=>{Ge.set(Ut,this._driver.computeStyle(Pt,Ut,Zr.l3))})});const Ae=ho(X.map(Ge=>{const Pt=ie.get(Ge.element);return this._buildPlayer(Ge,new Map,Pt)}));return this._playersById.set(a,Ae),Ae.onDestroy(()=>this.destroy(a)),this.players.push(Ae),Ae}destroy(a){const h=this._getPlayer(a);h.destroy(),this._playersById.delete(a);const w=this.players.indexOf(h);w>=0&&this.players.splice(w,1)}_getPlayer(a){const h=this._playersById.get(a);if(!h)throw function ea(m){return new $.vHH(3301,!1)}();return h}listen(a,h,w,S){const j=Fo(h,"","","");return Ps(this._getPlayer(a),w,j,S),()=>{}}command(a,h,w,S){if("register"==w)return void this.register(a,S[0]);if("create"==w)return void this.create(a,h,S[0]||{});const j=this._getPlayer(a);switch(w){case"play":j.play();break;case"pause":j.pause();break;case"reset":j.reset();break;case"restart":j.restart();break;case"finish":j.finish();break;case"init":j.init();break;case"setPosition":j.setPosition(parseFloat(S[0]));break;case"destroy":this.destroy(a)}}}const We="ng-animate-queued",Yt="ng-animate-disabled",Ao=[],fo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xr="__ng_removed";class jo{get params(){return this.options.params}constructor(a,h=""){this.namespaceId=h;const w=a&&a.hasOwnProperty("value");if(this.value=function Uu(m){return m??null}(w?a.value:a),w){const j=Qr(a);delete j.value,this.options=j}else this.options={};this.options.params||(this.options.params={})}absorbOptions(a){const h=a.params;if(h){const w=this.options.params;Object.keys(h).forEach(S=>{null==w[S]&&(w[S]=h[S])})}}}const Ha="void",si=new jo(Ha);class Ju{constructor(a,h,w){this.id=a,this.hostElement=h,this._engine=w,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+a,Ks(h,this._hostClassName)}listen(a,h,w,S){if(!this._triggers.has(h))throw function ko(m,a){return new $.vHH(3302,!1)}();if(null==w||0==w.length)throw function Ls(m){return new $.vHH(3303,!1)}();if(!function ec(m){return"start"==m||"done"==m}(w))throw function Xs(m,a){return new $.vHH(3400,!1)}();const j=ns(this._elementListeners,a,[]),X={name:h,phase:w,callback:S};j.push(X);const ie=ns(this._engine.statesByElement,a,new Map);return ie.has(h)||(Ks(a,Ct),Ks(a,Ct+"-"+h),ie.set(h,si)),()=>{this._engine.afterFlush(()=>{const pe=j.indexOf(X);pe>=0&&j.splice(pe,1),this._triggers.has(h)||ie.delete(h)})}}register(a,h){return!this._triggers.has(a)&&(this._triggers.set(a,h),!0)}_getTrigger(a){const h=this._triggers.get(a);if(!h)throw function Lo(m){return new $.vHH(3401,!1)}();return h}trigger(a,h,w,S=!0){const j=this._getTrigger(h),X=new ki(this.id,h,a);let ie=this._engine.statesByElement.get(a);ie||(Ks(a,Ct),Ks(a,Ct+"-"+h),this._engine.statesByElement.set(a,ie=new Map));let pe=ie.get(h);const Ae=new jo(w,this.id);if(!(w&&w.hasOwnProperty("value"))&&pe&&Ae.absorbOptions(pe.options),ie.set(h,Ae),pe||(pe=si),Ae.value!==Ha&&pe.value===Ae.value){if(!function Iu(m,a){const h=Object.keys(m),w=Object.keys(a);if(h.length!=w.length)return!1;for(let S=0;S<h.length;S++){const j=h[S];if(!a.hasOwnProperty(j)||m[j]!==a[j])return!1}return!0}(pe.params,Ae.params)){const Vt=[],dn=j.matchStyles(pe.value,pe.params,Vt),On=j.matchStyles(Ae.value,Ae.params,Vt);Vt.length?this._engine.reportError(Vt):this._engine.afterFlush(()=>{Ii(a,dn),Et(a,On)})}return}const Bt=ns(this._engine.playersByElement,a,[]);Bt.forEach(Vt=>{Vt.namespaceId==this.id&&Vt.triggerName==h&&Vt.queued&&Vt.destroy()});let Ut=j.matchTransition(pe.value,Ae.value,a,Ae.params),Wt=!1;if(!Ut){if(!S)return;Ut=j.fallbackTransition,Wt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:h,transition:Ut,fromState:pe,toState:Ae,player:X,isFallbackTransition:Wt}),Wt||(Ks(a,We),X.onStart(()=>{_i(a,We)})),X.onDone(()=>{let Vt=this.players.indexOf(X);Vt>=0&&this.players.splice(Vt,1);const dn=this._engine.playersByElement.get(a);if(dn){let On=dn.indexOf(X);On>=0&&dn.splice(On,1)}}),this.players.push(X),Bt.push(X),X}deregister(a){this._triggers.delete(a),this._engine.statesByElement.forEach(h=>h.delete(a)),this._elementListeners.forEach((h,w)=>{this._elementListeners.set(w,h.filter(S=>S.name!=a))})}clearElementCache(a){this._engine.statesByElement.delete(a),this._elementListeners.delete(a);const h=this._engine.playersByElement.get(a);h&&(h.forEach(w=>w.destroy()),this._engine.playersByElement.delete(a))}_signalRemovalForInnerTriggers(a,h){const w=this._engine.driver.query(a,qt,!0);w.forEach(S=>{if(S[Xr])return;const j=this._engine.fetchNamespacesByElement(S);j.size?j.forEach(X=>X.triggerLeaveAnimation(S,h,!1,!0)):this.clearElementCache(S)}),this._engine.afterFlushAnimationsDone(()=>w.forEach(S=>this.clearElementCache(S)))}triggerLeaveAnimation(a,h,w,S){const j=this._engine.statesByElement.get(a),X=new Map;if(j){const ie=[];if(j.forEach((pe,Ae)=>{if(X.set(Ae,pe.value),this._triggers.has(Ae)){const Ge=this.trigger(a,Ae,Ha,S);Ge&&ie.push(Ge)}}),ie.length)return this._engine.markElementAsRemoved(this.id,a,!0,h,X),w&&ho(ie).onDone(()=>this._engine.processLeaveNode(a)),!0}return!1}prepareLeaveAnimationListeners(a){const h=this._elementListeners.get(a),w=this._engine.statesByElement.get(a);if(h&&w){const S=new Set;h.forEach(j=>{const X=j.name;if(S.has(X))return;S.add(X);const pe=this._triggers.get(X).fallbackTransition,Ae=w.get(X)||si,Ge=new jo(Ha),Pt=new ki(this.id,X,a);this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:X,transition:pe,fromState:Ae,toState:Ge,player:Pt,isFallbackTransition:!0})})}}removeNode(a,h){const w=this._engine;if(a.childElementCount&&this._signalRemovalForInnerTriggers(a,h),this.triggerLeaveAnimation(a,h,!0))return;let S=!1;if(w.totalAnimations){const j=w.players.length?w.playersByQueriedElement.get(a):[];if(j&&j.length)S=!0;else{let X=a;for(;X=X.parentNode;)if(w.statesByElement.get(X)){S=!0;break}}}if(this.prepareLeaveAnimationListeners(a),S)w.markElementAsRemoved(this.id,a,!1,h);else{const j=a[Xr];(!j||j===fo)&&(w.afterFlush(()=>this.clearElementCache(a)),w.destroyInnerAnimations(a),w._onRemovalComplete(a,h))}}insertNode(a,h){Ks(a,this._hostClassName)}drainQueuedTransitions(a){const h=[];return this._queue.forEach(w=>{const S=w.player;if(S.destroyed)return;const j=w.element,X=this._elementListeners.get(j);X&&X.forEach(ie=>{if(ie.name==w.triggerName){const pe=Fo(j,w.triggerName,w.fromState.value,w.toState.value);pe._data=a,Ps(w.player,ie.phase,pe,ie.callback)}}),S.markedForDestroy?this._engine.afterFlush(()=>{S.destroy()}):h.push(w)}),this._queue=[],h.sort((w,S)=>{const j=w.transition.ast.depCount,X=S.transition.ast.depCount;return 0==j||0==X?j-X:this._engine.driver.containsElement(w.element,S.element)?1:-1})}destroy(a){this.players.forEach(h=>h.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,a)}elementContainsData(a){let h=!1;return this._elementListeners.has(a)&&(h=!0),h=!!this._queue.find(w=>w.element===a)||h,h}}class Xi{_onRemovalComplete(a,h){this.onRemovalComplete(a,h)}constructor(a,h,w){this.bodyNode=a,this.driver=h,this._normalizer=w,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(S,j)=>{}}get queuedPlayers(){const a=[];return this._namespaceList.forEach(h=>{h.players.forEach(w=>{w.queued&&a.push(w)})}),a}createNamespace(a,h){const w=new Ju(a,h,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,h)?this._balanceNamespaceList(w,h):(this.newHostElements.set(h,w),this.collectEnterElement(h)),this._namespaceLookup[a]=w}_balanceNamespaceList(a,h){const w=this._namespaceList,S=this.namespacesByHostElement;if(w.length-1>=0){let X=!1,ie=this.driver.getParentElement(h);for(;ie;){const pe=S.get(ie);if(pe){const Ae=w.indexOf(pe);w.splice(Ae+1,0,a),X=!0;break}ie=this.driver.getParentElement(ie)}X||w.unshift(a)}else w.push(a);return S.set(h,a),a}register(a,h){let w=this._namespaceLookup[a];return w||(w=this.createNamespace(a,h)),w}registerTrigger(a,h,w){let S=this._namespaceLookup[a];S&&S.register(h,w)&&this.totalAnimations++}destroy(a,h){if(!a)return;const w=this._fetchNamespace(a);this.afterFlush(()=>{this.namespacesByHostElement.delete(w.hostElement),delete this._namespaceLookup[a];const S=this._namespaceList.indexOf(w);S>=0&&this._namespaceList.splice(S,1)}),this.afterFlushAnimationsDone(()=>w.destroy(h))}_fetchNamespace(a){return this._namespaceLookup[a]}fetchNamespacesByElement(a){const h=new Set,w=this.statesByElement.get(a);if(w)for(let S of w.values())if(S.namespaceId){const j=this._fetchNamespace(S.namespaceId);j&&h.add(j)}return h}trigger(a,h,w,S){if(Us(h)){const j=this._fetchNamespace(a);if(j)return j.trigger(h,w,S),!0}return!1}insertNode(a,h,w,S){if(!Us(h))return;const j=h[Xr];if(j&&j.setForRemoval){j.setForRemoval=!1,j.setForMove=!0;const X=this.collectedLeaveElements.indexOf(h);X>=0&&this.collectedLeaveElements.splice(X,1)}if(a){const X=this._fetchNamespace(a);X&&X.insertNode(h,w)}S&&this.collectEnterElement(h)}collectEnterElement(a){this.collectedEnterElements.push(a)}markElementAsDisabled(a,h){h?this.disabledNodes.has(a)||(this.disabledNodes.add(a),Ks(a,Yt)):this.disabledNodes.has(a)&&(this.disabledNodes.delete(a),_i(a,Yt))}removeNode(a,h,w,S){if(Us(h)){const j=a?this._fetchNamespace(a):null;if(j?j.removeNode(h,S):this.markElementAsRemoved(a,h,!1,S),w){const X=this.namespacesByHostElement.get(h);X&&X.id!==a&&X.removeNode(h,S)}}else this._onRemovalComplete(h,S)}markElementAsRemoved(a,h,w,S,j){this.collectedLeaveElements.push(h),h[Xr]={namespaceId:a,setForRemoval:S,hasAnimation:w,removedBeforeQueried:!1,previousTriggersValues:j}}listen(a,h,w,S,j){return Us(h)?this._fetchNamespace(a).listen(h,w,S,j):()=>{}}_buildInstruction(a,h,w,S,j){return a.transition.build(this.driver,a.element,a.fromState.value,a.toState.value,w,S,a.fromState.options,a.toState.options,h,j)}destroyInnerAnimations(a){let h=this.driver.query(a,qt,!0);h.forEach(w=>this.destroyActiveAnimationsForElement(w)),0!=this.playersByQueriedElement.size&&(h=this.driver.query(a,mr,!0),h.forEach(w=>this.finishActiveQueriedAnimationOnElement(w)))}destroyActiveAnimationsForElement(a){const h=this.playersByElement.get(a);h&&h.forEach(w=>{w.queued?w.markedForDestroy=!0:w.destroy()})}finishActiveQueriedAnimationOnElement(a){const h=this.playersByQueriedElement.get(a);h&&h.forEach(w=>w.finish())}whenRenderingDone(){return new Promise(a=>{if(this.players.length)return ho(this.players).onDone(()=>a());a()})}processLeaveNode(a){const h=a[Xr];if(h&&h.setForRemoval){if(a[Xr]=fo,h.namespaceId){this.destroyInnerAnimations(a);const w=this._fetchNamespace(h.namespaceId);w&&w.clearElementCache(a)}this._onRemovalComplete(a,h.setForRemoval)}a.classList?.contains(Yt)&&this.markElementAsDisabled(a,!1),this.driver.query(a,".ng-animate-disabled",!0).forEach(w=>{this.markElementAsDisabled(w,!1)})}flush(a=-1){let h=[];if(this.newHostElements.size&&(this.newHostElements.forEach((w,S)=>this._balanceNamespaceList(w,S)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let w=0;w<this.collectedEnterElements.length;w++)Ks(this.collectedEnterElements[w],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const w=[];try{h=this._flushAnimations(w,a)}finally{for(let S=0;S<w.length;S++)w[S]()}}else for(let w=0;w<this.collectedLeaveElements.length;w++)this.processLeaveNode(this.collectedLeaveElements[w]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(w=>w()),this._flushFns=[],this._whenQuietFns.length){const w=this._whenQuietFns;this._whenQuietFns=[],h.length?ho(h).onDone(()=>{w.forEach(S=>S())}):w.forEach(S=>S())}}reportError(a){throw function Pa(m){return new $.vHH(3402,!1)}()}_flushAnimations(a,h){const w=new Ea,S=[],j=new Map,X=[],ie=new Map,pe=new Map,Ae=new Map,Ge=new Set;this.disabledNodes.forEach(wn=>{Ge.add(wn);const $n=this.driver.query(wn,".ng-animate-queued",!0);for(let fr=0;fr<$n.length;fr++)Ge.add($n[fr])});const Pt=this.bodyNode,Bt=Array.from(this.statesByElement.keys()),Ut=sd(Bt,this.collectedEnterElements),Wt=new Map;let Vt=0;Ut.forEach((wn,$n)=>{const fr=Ee+Vt++;Wt.set($n,fr),wn.forEach(ri=>Ks(ri,fr))});const dn=[],On=new Set,hr=new Set;for(let wn=0;wn<this.collectedLeaveElements.length;wn++){const $n=this.collectedLeaveElements[wn],fr=$n[Xr];fr&&fr.setForRemoval&&(dn.push($n),On.add($n),fr.hasAnimation?this.driver.query($n,".ng-star-inserted",!0).forEach(ri=>On.add(ri)):hr.add($n))}const Jn=new Map,In=sd(Bt,Array.from(On));In.forEach((wn,$n)=>{const fr=st+Vt++;Jn.set($n,fr),wn.forEach(ri=>Ks(ri,fr))}),a.push(()=>{Ut.forEach((wn,$n)=>{const fr=Wt.get($n);wn.forEach(ri=>_i(ri,fr))}),In.forEach((wn,$n)=>{const fr=Jn.get($n);wn.forEach(ri=>_i(ri,fr))}),dn.forEach(wn=>{this.processLeaveNode(wn)})});const Pr=[],Ir=[];for(let wn=this._namespaceList.length-1;wn>=0;wn--)this._namespaceList[wn].drainQueuedTransitions(h).forEach(fr=>{const ri=fr.player,yo=fr.element;if(Pr.push(ri),this.collectedEnterElements.length){const js=yo[Xr];if(js&&js.setForMove){if(js.previousTriggersValues&&js.previousTriggersValues.has(fr.triggerName)){const Ra=js.previousTriggersValues.get(fr.triggerName),el=this.statesByElement.get(fr.element);if(el&&el.has(fr.triggerName)){const Ph=el.get(fr.triggerName);Ph.value=Ra,el.set(fr.triggerName,Ph)}}return void ri.destroy()}}const hl=!Pt||!this.driver.containsElement(Pt,yo),Aa=Jn.get(yo),ql=Wt.get(yo),os=this._buildInstruction(fr,w,ql,Aa,hl);if(os.errors&&os.errors.length)return void Ir.push(os);if(hl)return ri.onStart(()=>Ii(yo,os.fromStyles)),ri.onDestroy(()=>Et(yo,os.toStyles)),void S.push(ri);if(fr.isFallbackTransition)return ri.onStart(()=>Ii(yo,os.fromStyles)),ri.onDestroy(()=>Et(yo,os.toStyles)),void S.push(ri);const Zl=[];os.timelines.forEach(js=>{js.stretchStartingKeyframe=!0,this.disabledNodes.has(js.element)||Zl.push(js)}),os.timelines=Zl,w.append(yo,os.timelines),X.push({instruction:os,player:ri,element:yo}),os.queriedElements.forEach(js=>ns(ie,js,[]).push(ri)),os.preStyleProps.forEach((js,Ra)=>{if(js.size){let el=pe.get(Ra);el||pe.set(Ra,el=new Set),js.forEach((Ph,pc)=>el.add(pc))}}),os.postStyleProps.forEach((js,Ra)=>{let el=Ae.get(Ra);el||Ae.set(Ra,el=new Set),js.forEach((Ph,pc)=>el.add(pc))})});if(Ir.length){const wn=[];Ir.forEach($n=>{wn.push(function $i(m,a){return new $.vHH(3505,!1)}())}),Pr.forEach($n=>$n.destroy()),this.reportError(wn)}const Mr=new Map,ni=new Map;X.forEach(wn=>{const $n=wn.element;w.has($n)&&(ni.set($n,$n),this._beforeAnimationBuild(wn.player.namespaceId,wn.instruction,Mr))}),S.forEach(wn=>{const $n=wn.element;this._getPreviousPlayers($n,!1,wn.namespaceId,wn.triggerName,null).forEach(ri=>{ns(Mr,$n,[]).push(ri),ri.destroy()})});const bi=dn.filter(wn=>Wa(wn,pe,Ae)),is=new Map;bs(is,this.driver,hr,Ae,Zr.l3).forEach(wn=>{Wa(wn,pe,Ae)&&bi.push(wn)});const ia=new Map;Ut.forEach((wn,$n)=>{bs(ia,this.driver,new Set(wn),pe,Zr.k1)}),bi.forEach(wn=>{const $n=is.get(wn),fr=ia.get(wn);is.set(wn,new Map([...Array.from($n?.entries()??[]),...Array.from(fr?.entries()??[])]))});const ss=[],ku=[],fc={};X.forEach(wn=>{const{element:$n,player:fr,instruction:ri}=wn;if(w.has($n)){if(Ge.has($n))return fr.onDestroy(()=>Et($n,ri.toStyles)),fr.disabled=!0,fr.overrideTotalTime(ri.totalTime),void S.push(fr);let yo=fc;if(ni.size>1){let Aa=$n;const ql=[];for(;Aa=Aa.parentNode;){const os=ni.get(Aa);if(os){yo=os;break}ql.push(Aa)}ql.forEach(os=>ni.set(os,yo))}const hl=this._buildAnimation(fr.namespaceId,ri,Mr,j,ia,is);if(fr.setRealPlayer(hl),yo===fc)ss.push(fr);else{const Aa=this.playersByElement.get(yo);Aa&&Aa.length&&(fr.parentPlayer=ho(Aa)),S.push(fr)}}else Ii($n,ri.fromStyles),fr.onDestroy(()=>Et($n,ri.toStyles)),ku.push(fr),Ge.has($n)&&S.push(fr)}),ku.forEach(wn=>{const $n=j.get(wn.element);if($n&&$n.length){const fr=ho($n);wn.setRealPlayer(fr)}}),S.forEach(wn=>{wn.parentPlayer?wn.syncPlayerEvents(wn.parentPlayer):wn.destroy()});for(let wn=0;wn<dn.length;wn++){const $n=dn[wn],fr=$n[Xr];if(_i($n,st),fr&&fr.hasAnimation)continue;let ri=[];if(ie.size){let hl=ie.get($n);hl&&hl.length&&ri.push(...hl);let Aa=this.driver.query($n,mr,!0);for(let ql=0;ql<Aa.length;ql++){let os=ie.get(Aa[ql]);os&&os.length&&ri.push(...os)}}const yo=ri.filter(hl=>!hl.destroyed);yo.length?za(this,$n,yo):this.processLeaveNode($n)}return dn.length=0,ss.forEach(wn=>{this.players.push(wn),wn.onDone(()=>{wn.destroy();const $n=this.players.indexOf(wn);this.players.splice($n,1)}),wn.play()}),ss}elementContainsData(a,h){let w=!1;const S=h[Xr];return S&&S.setForRemoval&&(w=!0),this.playersByElement.has(h)&&(w=!0),this.playersByQueriedElement.has(h)&&(w=!0),this.statesByElement.has(h)&&(w=!0),this._fetchNamespace(a).elementContainsData(h)||w}afterFlush(a){this._flushFns.push(a)}afterFlushAnimationsDone(a){this._whenQuietFns.push(a)}_getPreviousPlayers(a,h,w,S,j){let X=[];if(h){const ie=this.playersByQueriedElement.get(a);ie&&(X=ie)}else{const ie=this.playersByElement.get(a);if(ie){const pe=!j||j==Ha;ie.forEach(Ae=>{Ae.queued||!pe&&Ae.triggerName!=S||X.push(Ae)})}}return(w||S)&&(X=X.filter(ie=>!(w&&w!=ie.namespaceId||S&&S!=ie.triggerName))),X}_beforeAnimationBuild(a,h,w){const j=h.element,X=h.isRemovalTransition?void 0:a,ie=h.isRemovalTransition?void 0:h.triggerName;for(const pe of h.timelines){const Ae=pe.element,Ge=Ae!==j,Pt=ns(w,Ae,[]);this._getPreviousPlayers(Ae,Ge,X,ie,h.toState).forEach(Ut=>{const Wt=Ut.getRealPlayer();Wt.beforeDestroy&&Wt.beforeDestroy(),Ut.destroy(),Pt.push(Ut)})}Ii(j,h.fromStyles)}_buildAnimation(a,h,w,S,j,X){const ie=h.triggerName,pe=h.element,Ae=[],Ge=new Set,Pt=new Set,Bt=h.timelines.map(Wt=>{const Vt=Wt.element;Ge.add(Vt);const dn=Vt[Xr];if(dn&&dn.removedBeforeQueried)return new Zr.ZN(Wt.duration,Wt.delay);const On=Vt!==pe,hr=function Bu(m){const a=[];return Hl(m,a),a}((w.get(Vt)||Ao).map(Mr=>Mr.getRealPlayer())).filter(Mr=>!!Mr.element&&Mr.element===Vt),Jn=j.get(Vt),In=X.get(Vt),Pr=Ma(0,this._normalizer,0,Wt.keyframes,Jn,In),Ir=this._buildPlayer(Wt,Pr,hr);if(Wt.subTimeline&&S&&Pt.add(Vt),On){const Mr=new ki(a,ie,Vt);Mr.setRealPlayer(Ir),Ae.push(Mr)}return Ir});Ae.forEach(Wt=>{ns(this.playersByQueriedElement,Wt.element,[]).push(Wt),Wt.onDone(()=>function id(m,a,h){let w=m.get(a);if(w){if(w.length){const S=w.indexOf(h);w.splice(S,1)}0==w.length&&m.delete(a)}return w}(this.playersByQueriedElement,Wt.element,Wt))}),Ge.forEach(Wt=>Ks(Wt,Sr));const Ut=ho(Bt);return Ut.onDestroy(()=>{Ge.forEach(Wt=>_i(Wt,Sr)),Et(pe,h.toStyles)}),Pt.forEach(Wt=>{ns(S,Wt,[]).push(Ut)}),Ut}_buildPlayer(a,h,w){return h.length>0?this.driver.animate(a.element,h,a.duration,a.delay,a.easing,w):new Zr.ZN(a.duration,a.delay)}}class ki{constructor(a,h,w){this.namespaceId=a,this.triggerName=h,this.element=w,this._player=new Zr.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(a){this._containsRealPlayer||(this._player=a,this._queuedCallbacks.forEach((h,w)=>{h.forEach(S=>Ps(a,w,void 0,S))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(a.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(a){this.totalTime=a}syncPlayerEvents(a){const h=this._player;h.triggerCallback&&a.onStart(()=>h.triggerCallback("start")),a.onDone(()=>this.finish()),a.onDestroy(()=>this.destroy())}_queueEvent(a,h){ns(this._queuedCallbacks,a,[]).push(h)}onDone(a){this.queued&&this._queueEvent("done",a),this._player.onDone(a)}onStart(a){this.queued&&this._queueEvent("start",a),this._player.onStart(a)}onDestroy(a){this.queued&&this._queueEvent("destroy",a),this._player.onDestroy(a)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(a){this.queued||this._player.setPosition(a)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(a){const h=this._player;h.triggerCallback&&h.triggerCallback(a)}}function Us(m){return m&&1===m.nodeType}function wd(m,a){const h=m.style.display;return m.style.display=a??"none",h}function bs(m,a,h,w,S){const j=[];h.forEach(pe=>j.push(wd(pe)));const X=[];w.forEach((pe,Ae)=>{const Ge=new Map;pe.forEach(Pt=>{const Bt=a.computeStyle(Ae,Pt,S);Ge.set(Pt,Bt),(!Bt||0==Bt.length)&&(Ae[Xr]=xi,X.push(Ae))}),m.set(Ae,Ge)});let ie=0;return h.forEach(pe=>wd(pe,j[ie++])),X}function sd(m,a){const h=new Map;if(m.forEach(ie=>h.set(ie,[])),0==a.length)return h;const w=1,S=new Set(a),j=new Map;function X(ie){if(!ie)return w;let pe=j.get(ie);if(pe)return pe;const Ae=ie.parentNode;return pe=h.has(Ae)?Ae:S.has(Ae)?w:X(Ae),j.set(ie,pe),pe}return a.forEach(ie=>{const pe=X(ie);pe!==w&&h.get(pe).push(ie)}),h}function Ks(m,a){m.classList?.add(a)}function _i(m,a){m.classList?.remove(a)}function za(m,a,h){ho(h).onDone(()=>m.processLeaveNode(a))}function Hl(m,a){for(let h=0;h<m.length;h++){const w=m[h];w instanceof Zr.ZE?Hl(w.players,a):a.push(w)}}function Wa(m,a,h){const w=h.get(m);if(!w)return!1;let S=a.get(m);return S?w.forEach(j=>S.add(j)):a.set(m,w),h.delete(m),!0}class Ta{constructor(a,h,w){this.bodyNode=a,this._driver=h,this._normalizer=w,this._triggerCache={},this.onRemovalComplete=(S,j)=>{},this._transitionEngine=new Xi(a,h,w),this._timelineEngine=new ce(a,h,w),this._transitionEngine.onRemovalComplete=(S,j)=>this.onRemovalComplete(S,j)}registerTrigger(a,h,w,S,j){const X=a+"-"+S;let ie=this._triggerCache[X];if(!ie){const pe=[],Ae=[],Ge=Ba(this._driver,j,pe,Ae);if(pe.length)throw function rl(m,a){return new $.vHH(3404,!1)}();ie=function A(m,a,h){return new T(m,a,h)}(S,Ge,this._normalizer),this._triggerCache[X]=ie}this._transitionEngine.registerTrigger(h,S,ie)}register(a,h){this._transitionEngine.register(a,h)}destroy(a,h){this._transitionEngine.destroy(a,h)}onInsert(a,h,w,S){this._transitionEngine.insertNode(a,h,w,S)}onRemove(a,h,w,S){this._transitionEngine.removeNode(a,h,S||!1,w)}disableAnimations(a,h){this._transitionEngine.markElementAsDisabled(a,h)}process(a,h,w,S){if("@"==w.charAt(0)){const[j,X]=Do(w);this._timelineEngine.command(j,h,X,S)}else this._transitionEngine.trigger(a,h,w,S)}listen(a,h,w,S,j){if("@"==w.charAt(0)){const[X,ie]=Do(w);return this._timelineEngine.listen(X,h,ie,j)}return this._transitionEngine.listen(a,h,w,S,j)}flush(a=-1){this._transitionEngine.flush(a)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Vu=(()=>{class m{constructor(h,w,S){this._element=h,this._startStyles=w,this._endStyles=S,this._state=0;let j=m.initialStylesByElement.get(h);j||m.initialStylesByElement.set(h,j=new Map),this._initialStyles=j}start(){this._state<1&&(this._startStyles&&Et(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Et(this._element,this._initialStyles),this._endStyles&&(Et(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(m.initialStylesByElement.delete(this._element),this._startStyles&&(Ii(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ii(this._element,this._endStyles),this._endStyles=null),Et(this._element,this._initialStyles),this._state=3)}}return m.initialStylesByElement=new WeakMap,m})();function po(m){let a=null;return m.forEach((h,w)=>{(function Ga(m){return"display"===m||"position"===m})(w)&&(a=a||new Map,a.set(w,h))}),a}class su{constructor(a,h,w,S){this.element=a,this.keyframes=h,this.options=w,this._specialStyles=S,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=w.duration,this._delay=w.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const a=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,a,this.options),this._finalKeyframe=a.length?a[a.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(a){const h=[];return a.forEach(w=>{h.push(Object.fromEntries(w))}),h}_triggerWebAnimation(a,h,w){return a.animate(this._convertKeyframesToObject(h),w)}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(a=>a()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}setPosition(a){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=a*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const a=new Map;this.hasStarted()&&this._finalKeyframe.forEach((w,S)=>{"offset"!==S&&a.set(S,this._finished?w:ma(this.element,S))}),this.currentSnapshot=a}triggerCallback(a){const h="start"===a?this._onStartFns:this._onDoneFns;h.forEach(w=>w()),h.length=0}}class go{validateStyleProperty(a){return!0}validateAnimatableStyleProperty(a){return!0}matchesElement(a,h){return!1}containsElement(a,h){return nu(a,h)}getParentElement(a){return br(a)}query(a,h,w){return El(a,h,w)}computeStyle(a,h,w){return window.getComputedStyle(a)[h]}animate(a,h,w,S,j,X=[]){const pe={duration:w,delay:S,fill:0==S?"both":"forwards"};j&&(pe.easing=j);const Ae=new Map,Ge=X.filter(Ut=>Ut instanceof su);(function _c(m,a){return 0===m||0===a})(w,S)&&Ge.forEach(Ut=>{Ut.currentSnapshot.forEach((Wt,Vt)=>Ae.set(Vt,Wt))});let Pt=function an(m){return m.length?m[0]instanceof Map?m:m.map(a=>no(a)):[]}(h).map(Ut=>Yi(Ut));Pt=function Qi(m,a,h){if(h.size&&a.length){let w=a[0],S=[];if(h.forEach((j,X)=>{w.has(X)||S.push(X),w.set(X,j)}),S.length)for(let j=1;j<a.length;j++){let X=a[j];S.forEach(ie=>X.set(ie,ma(m,ie)))}}return a}(a,Pt,Ae);const Bt=function ba(m,a){let h=null,w=null;return Array.isArray(a)&&a.length?(h=po(a[0]),a.length>1&&(w=po(a[a.length-1]))):a instanceof Map&&(h=po(a)),h||w?new Vu(m,h,w):null}(a,Pt);return new su(a,Pt,pe,Bt)}}let $u=(()=>{class m extends Zr._j{constructor(h,w){super(),this._nextAnimationId=0,this._renderer=h.createRenderer(w.body,{id:"0",encapsulation:$.ifc.None,styles:[],data:{animation:[]}})}build(h){const w=this._nextAnimationId.toString();this._nextAnimationId++;const S=Array.isArray(h)?(0,Zr.vP)(h):h;return ou(this._renderer,null,w,"register",[S]),new Tu(w,this._renderer)}}return m.\u0275fac=function(h){return new(h||m)($.LFG($.FYo),$.LFG(Ai.K0))},m.\u0275prov=$.Yz7({token:m,factory:m.\u0275fac}),m})();class Tu extends Zr.LC{constructor(a,h){super(),this._id=a,this._renderer=h}create(a,h){return new tc(this._id,a,h||{},this._renderer)}}class tc{constructor(a,h,w,S){this.id=a,this.element=h,this._renderer=S,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",w)}_listen(a,h){return this._renderer.listen(this.element,`@@${this.id}:${a}`,h)}_command(a,...h){return ou(this._renderer,this.element,this.id,a,h)}onDone(a){this._listen("done",a)}onStart(a){this._listen("start",a)}onDestroy(a){this._listen("destroy",a)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(a){this._command("setPosition",a)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ou(m,a,h,w,S){return m.setProperty(a,`@@${h}:${w}`,S)}const ju="@.disabled";let Hu=(()=>{class m{constructor(h,w,S){this.delegate=h,this.engine=w,this._zone=S,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),w.onRemovalComplete=(j,X)=>{const ie=X?.parentNode(j);ie&&X.removeChild(ie,j)}}createRenderer(h,w){const j=this.delegate.createRenderer(h,w);if(!(h&&w&&w.data&&w.data.animation)){let Ge=this._rendererCache.get(j);return Ge||(Ge=new bu("",j,this.engine,()=>this._rendererCache.delete(j)),this._rendererCache.set(j,Ge)),Ge}const X=w.id,ie=w.id+"-"+this._currentId;this._currentId++,this.engine.register(ie,h);const pe=Ge=>{Array.isArray(Ge)?Ge.forEach(pe):this.engine.registerTrigger(X,ie,h,Ge.name,Ge)};return w.data.animation.forEach(pe),new Cu(this,ie,j,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(h,w,S){h>=0&&h<this._microtaskId?this._zone.run(()=>w(S)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(j=>{const[X,ie]=j;X(ie)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([w,S]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return m.\u0275fac=function(h){return new(h||m)($.LFG($.FYo),$.LFG(Ta),$.LFG($.R0b))},m.\u0275prov=$.Yz7({token:m,factory:m.\u0275fac}),m})();class bu{constructor(a,h,w,S){this.namespaceId=a,this.delegate=h,this.engine=w,this._onDestroy=S,this.destroyNode=this.delegate.destroyNode?j=>h.destroyNode(j):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(a,h){return this.delegate.createElement(a,h)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}appendChild(a,h){this.delegate.appendChild(a,h),this.engine.onInsert(this.namespaceId,h,a,!1)}insertBefore(a,h,w,S=!0){this.delegate.insertBefore(a,h,w),this.engine.onInsert(this.namespaceId,h,a,S)}removeChild(a,h,w){this.engine.onRemove(this.namespaceId,h,this.delegate,w)}selectRootElement(a,h){return this.delegate.selectRootElement(a,h)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,h,w,S){this.delegate.setAttribute(a,h,w,S)}removeAttribute(a,h,w){this.delegate.removeAttribute(a,h,w)}addClass(a,h){this.delegate.addClass(a,h)}removeClass(a,h){this.delegate.removeClass(a,h)}setStyle(a,h,w,S){this.delegate.setStyle(a,h,w,S)}removeStyle(a,h,w){this.delegate.removeStyle(a,h,w)}setProperty(a,h,w){"@"==h.charAt(0)&&h==ju?this.disableAnimations(a,!!w):this.delegate.setProperty(a,h,w)}setValue(a,h){this.delegate.setValue(a,h)}listen(a,h,w){return this.delegate.listen(a,h,w)}disableAnimations(a,h){this.engine.disableAnimations(a,h)}}class Cu extends bu{constructor(a,h,w,S,j){super(h,w,S,j),this.factory=a,this.namespaceId=h}setProperty(a,h,w){"@"==h.charAt(0)?"."==h.charAt(1)&&h==ju?this.disableAnimations(a,w=void 0===w||!!w):this.engine.process(this.namespaceId,a,h.slice(1),w):this.delegate.setProperty(a,h,w)}listen(a,h,w){if("@"==h.charAt(0)){const S=function qs(m){switch(m){case"body":return document.body;case"document":return document;case"window":return window;default:return m}}(a);let j=h.slice(1),X="";return"@"!=j.charAt(0)&&([j,X]=function Ka(m){const a=m.indexOf(".");return[m.substring(0,a),m.slice(a+1)]}(j)),this.engine.listen(this.namespaceId,S,j,X,ie=>{this.factory.scheduleListenerCallback(ie._data||-1,w,ie)})}return this.delegate.listen(a,h,w)}}const Du=[{provide:Zr._j,useClass:$u},{provide:so,useFactory:function nc(){return new $l}},{provide:Ta,useClass:(()=>{class m extends Ta{constructor(h,w,S,j){super(h.body,w,S)}ngOnDestroy(){this.flush()}}return m.\u0275fac=function(h){return new(h||m)($.LFG(Ai.K0),$.LFG(L),$.LFG(so),$.LFG($.z2F))},m.\u0275prov=$.Yz7({token:m,factory:m.\u0275fac}),m})()},{provide:$.FYo,useFactory:function zl(m,a,h){return new Hu(m,a,h)},deps:[R.se,Ta,$.R0b]}],Ho=[{provide:L,useFactory:()=>new go},{provide:$.QbO,useValue:"BrowserAnimations"},...Du],Bs=[{provide:L,useClass:Na},{provide:$.QbO,useValue:"NoopAnimations"},...Du];let qa=(()=>{class m{static withConfig(h){return{ngModule:m,providers:h.disableAnimations?Bs:Ho}}}return m.\u0275fac=function(h){return new(h||m)},m.\u0275mod=$.oAB({type:m}),m.\u0275inj=$.cJS({providers:Ho,imports:[R.b2]}),m})();var al=q(3692),P=q(4976),U=q(259),he=(q(1389),q(2090)),be=q(6881),ht=(q(1877),q(4859));class An{constructor(){return(0,P.vb)("auth")}}var Hc=q(2313),cu=q(7396);class Sd{constructor(a){return a}}const nh="firestore",Ad=new $.OlP("angularfire2.firestore-instances");function Rd(m){return(a,h)=>{const w=a.runOutsideAngular(()=>m(h));return new Sd(w)}}const rh={provide:class Sl{constructor(){return(0,P.vb)(nh)}},deps:[[new $.FiY,Ad]]},ih={provide:Sd,useFactory:function $s(m,a){const h=(0,P.JM)(nh,m,a);return h&&new Sd(h)},deps:[[new $.FiY,Ad],al.Ot]};let Sf=(()=>{class m{constructor(){(0,U.KN)("angularfire",P.q4.full,"fst")}}return m.\u0275fac=function(h){return new(h||m)},m.\u0275mod=$.oAB({type:m}),m.\u0275inj=$.cJS({providers:[ih,rh]}),m})();function ud(m,...a){return{ngModule:Sf,providers:[{provide:Ad,useFactory:Rd(m),multi:!0,deps:[$.R0b,$.zs3,P.HU,al.z6,[new $.FiY,An],[new $.FiY,Hc.nm],...a]}]}}const _g=(0,P.u3)(cu.ad,!0);var zc=q(5861);const Gh="firebasestorage.googleapis.com",uh="storageBucket";class Rs extends he.ZR{constructor(a,h,w=0){super(hd(a),`Firebase Storage: ${h} (${hd(a)})`),this.status_=w,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rs.prototype)}get status(){return this.status_}set status(a){this.status_=a}_codeEquals(a){return hd(a)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(a){this.customData.serverResponse=a,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var fs=(()=>{return(m=fs||(fs={})).UNKNOWN="unknown",m.OBJECT_NOT_FOUND="object-not-found",m.BUCKET_NOT_FOUND="bucket-not-found",m.PROJECT_NOT_FOUND="project-not-found",m.QUOTA_EXCEEDED="quota-exceeded",m.UNAUTHENTICATED="unauthenticated",m.UNAUTHORIZED="unauthorized",m.UNAUTHORIZED_APP="unauthorized-app",m.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",m.INVALID_CHECKSUM="invalid-checksum",m.CANCELED="canceled",m.INVALID_EVENT_NAME="invalid-event-name",m.INVALID_URL="invalid-url",m.INVALID_DEFAULT_BUCKET="invalid-default-bucket",m.NO_DEFAULT_BUCKET="no-default-bucket",m.CANNOT_SLICE_BLOB="cannot-slice-blob",m.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",m.NO_DOWNLOAD_URL="no-download-url",m.INVALID_ARGUMENT="invalid-argument",m.INVALID_ARGUMENT_COUNT="invalid-argument-count",m.APP_DELETED="app-deleted",m.INVALID_ROOT_OPERATION="invalid-root-operation",m.INVALID_FORMAT="invalid-format",m.INTERNAL_ERROR="internal-error",m.UNSUPPORTED_ENVIRONMENT="unsupported-environment",fs;var m})();function hd(m){return"storage/"+m}function kd(){return new Rs(fs.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function xu(){return new Rs(fs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ld(){return new Rs(fs.CANCELED,"User canceled the upload/download.")}function Pu(){return new Rs(fs.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Kc(m){return new Rs(fs.INVALID_ARGUMENT,m)}function dh(){return new Rs(fs.APP_DELETED,"The Firebase app was deleted.")}function fd(m){return new Rs(fs.INVALID_ROOT_OPERATION,"The operation '"+m+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mu(m,a){return new Rs(fs.INVALID_FORMAT,"String does not match format '"+m+"': "+a)}function f(m){throw new Rs(fs.INTERNAL_ERROR,"Internal error: "+m)}class c{constructor(a,h){this.bucket=a,this.path_=h}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const a=encodeURIComponent;return"/b/"+a(this.bucket)+"/o/"+a(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(a,h){let w;try{w=c.makeFromUrl(a,h)}catch{return new c(a,"")}if(""===w.path)return w;throw function Ff(m){return new Rs(fs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+m+"'.")}(a)}static makeFromUrl(a,h){let w=null;const S="([A-Za-z0-9.\\-_]+)",ie=new RegExp("^gs://"+S+"(/(.*))?$","i");function Ae(In){In.path_=decodeURIComponent(In.path)}const Pt=h.replace(/[.]/g,"\\."),Jn=[{regex:ie,indices:{bucket:1,path:3},postModify:function j(In){"/"===In.path.charAt(In.path.length-1)&&(In.path_=In.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Pt}/v[A-Za-z0-9_]+/b/${S}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ae},{regex:new RegExp(`^https?://${h===Gh?"(?:storage.googleapis.com|storage.cloud.google.com)":h}/${S}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ae}];for(let In=0;In<Jn.length;In++){const Pr=Jn[In],Ir=Pr.regex.exec(a);if(Ir){let ni=Ir[Pr.indices.path];ni||(ni=""),w=new c(Ir[Pr.indices.bucket],ni),Pr.postModify(w);break}}if(null==w)throw function ch(m){return new Rs(fs.INVALID_URL,"Invalid URL '"+m+"'.")}(a);return w}}class d{constructor(a){this.promise_=Promise.reject(a)}getPromise(){return this.promise_}cancel(a=!1){}}function me(m){return"string"==typeof m||m instanceof String}function Se(m){return pt()&&m instanceof Blob}function pt(){return typeof Blob<"u"&&!(0,he.UG)()}function It(m,a,h,w){if(w<a)throw Kc(`Invalid value for '${m}'. Expected ${a} or greater.`);if(w>h)throw Kc(`Invalid value for '${m}'. Expected ${h} or less.`)}function Tt(m,a,h){let w=a;return null==h&&(w=`https://${a}`),`${h}://${w}/v0${m}`}function cn(m){const a=encodeURIComponent;let h="?";for(const w in m)m.hasOwnProperty(w)&&(h=h+(a(w)+"=")+a(m[w])+"&");return h=h.slice(0,-1),h}var Rn=(()=>{return(m=Rn||(Rn={}))[m.NO_ERROR=0]="NO_ERROR",m[m.NETWORK_ERROR=1]="NETWORK_ERROR",m[m.ABORT=2]="ABORT",Rn;var m})();function Ti(m,a){const h=m>=500&&m<600,S=-1!==[408,429].indexOf(m),j=-1!==a.indexOf(m);return h||S||j}class ta{constructor(a,h,w,S,j,X,ie,pe,Ae,Ge,Pt,Bt=!0){this.url_=a,this.method_=h,this.headers_=w,this.body_=S,this.successCodes_=j,this.additionalRetryCodes_=X,this.callback_=ie,this.errorCallback_=pe,this.timeout_=Ae,this.progressCallback_=Ge,this.connectionFactory_=Pt,this.retry=Bt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ut,Wt)=>{this.resolve_=Ut,this.reject_=Wt,this.start_()})}start_(){const h=(w,S)=>{const j=this.resolve_,X=this.reject_,ie=S.connection;if(S.wasSuccessCode)try{const pe=this.callback_(ie,ie.getResponse());!function F(m){return void 0!==m}(pe)?j():j(pe)}catch(pe){X(pe)}else if(null!==ie){const pe=kd();pe.serverResponse=ie.getErrorText(),X(this.errorCallback_?this.errorCallback_(ie,pe):pe)}else X(S.canceled?this.appDelete_?dh():Ld():xu())};this.canceled_?h(0,new Al(!1,null,!0)):this.backoffId_=function _(m,a,h){let w=1,S=null,j=null,X=!1,ie=0;function pe(){return 2===ie}let Ae=!1;function Ge(...dn){Ae||(Ae=!0,a.apply(null,dn))}function Pt(dn){S=setTimeout(()=>{S=null,m(Ut,pe())},dn)}function Bt(){j&&clearTimeout(j)}function Ut(dn,...On){if(Ae)return void Bt();if(dn)return Bt(),void Ge.call(null,dn,...On);if(pe()||X)return Bt(),void Ge.call(null,dn,...On);let Jn;w<64&&(w*=2),1===ie?(ie=2,Jn=0):Jn=1e3*(w+Math.random()),Pt(Jn)}let Wt=!1;function Vt(dn){Wt||(Wt=!0,Bt(),!Ae&&(null!==S?(dn||(ie=2),clearTimeout(S),Pt(0)):dn||(ie=1)))}return Pt(0),j=setTimeout(()=>{X=!0,Vt(!0)},h),Vt}((w,S)=>{if(S)return void w(!1,new Al(!1,null,!0));const j=this.connectionFactory_();this.pendingConnection_=j;const X=ie=>{null!==this.progressCallback_&&this.progressCallback_(ie.loaded,ie.lengthComputable?ie.total:-1)};null!==this.progressCallback_&&j.addUploadProgressListener(X),j.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&j.removeUploadProgressListener(X),this.pendingConnection_=null;const ie=j.getErrorCode()===Rn.NO_ERROR,pe=j.getStatus();if(!ie||Ti(pe,this.additionalRetryCodes_)&&this.retry){const Ge=j.getErrorCode()===Rn.ABORT;return void w(!1,new Al(!1,null,Ge))}const Ae=-1!==this.successCodes_.indexOf(pe);w(!0,new Al(Ae,j))})},h,this.timeout_)}getPromise(){return this.promise_}cancel(a){this.canceled_=!0,this.appDelete_=a||!1,null!==this.backoffId_&&function D(m){m(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Al{constructor(a,h,w){this.wasSuccessCode=a,this.connection=h,this.canceled=!!w}}function Bf(...m){const a=function wp(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==a){const h=new a;for(let w=0;w<m.length;w++)h.append(m[w]);return h.getBlob()}if(pt())return new Blob(m);throw new Rs(fs.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Kl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class fh{constructor(a,h){this.data=a,this.contentType=h||null}}function Ip(m,a){switch(m){case Kl.RAW:return new fh(Tp(a));case Kl.BASE64:case Kl.BASE64URL:return new fh(ef(m,a));case Kl.DATA_URL:return new fh(function Rc(m){const a=new cc(m);return a.base64?ef(Kl.BASE64,a.rest):function Jh(m){let a;try{a=decodeURIComponent(m)}catch{throw Mu(Kl.DATA_URL,"Malformed data URL.")}return Tp(a)}(a.rest)}(a),function Cg(m){return new cc(m).contentType}(a))}throw kd()}function Tp(m){const a=[];for(let h=0;h<m.length;h++){let w=m.charCodeAt(h);w<=127?a.push(w):w<=2047?a.push(192|w>>6,128|63&w):55296==(64512&w)?h<m.length-1&&56320==(64512&m.charCodeAt(h+1))?(w=65536|(1023&w)<<10|1023&m.charCodeAt(++h),a.push(240|w>>18,128|w>>12&63,128|w>>6&63,128|63&w)):a.push(239,191,189):56320==(64512&w)?a.push(239,191,189):a.push(224|w>>12,128|w>>6&63,128|63&w)}return new Uint8Array(a)}function ef(m,a){switch(m){case Kl.BASE64:{const S=-1!==a.indexOf("-"),j=-1!==a.indexOf("_");if(S||j)throw Mu(m,"Invalid character '"+(S?"-":"_")+"' found: is it base64url encoded?");break}case Kl.BASE64URL:{const S=-1!==a.indexOf("+"),j=-1!==a.indexOf("/");if(S||j)throw Mu(m,"Invalid character '"+(S?"+":"/")+"' found: is it base64 encoded?");a=a.replace(/-/g,"+").replace(/_/g,"/");break}}let h;try{h=function Am(m){if(typeof atob>"u")throw function Gc(m){return new Rs(fs.UNSUPPORTED_ENVIRONMENT,`${m} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(m)}(a)}catch(S){throw S.message.includes("polyfill")?S:Mu(m,"Invalid character found")}const w=new Uint8Array(h.length);for(let S=0;S<h.length;S++)w[S]=h.charCodeAt(S);return w}class cc{constructor(a){this.base64=!1,this.contentType=null;const h=a.match(/^data:([^,]+)?,/);if(null===h)throw Mu(Kl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const w=h[1]||null;null!=w&&(this.base64=function Rl(m,a){return m.length>=a.length&&m.substring(m.length-a.length)===a}(w,";base64"),this.contentType=this.base64?w.substring(0,w.length-7):w),this.rest=a.substring(a.indexOf(",")+1)}}class xc{constructor(a,h){let w=0,S="";Se(a)?(this.data_=a,w=a.size,S=a.type):a instanceof ArrayBuffer?(h?this.data_=new Uint8Array(a):(this.data_=new Uint8Array(a.byteLength),this.data_.set(new Uint8Array(a))),w=this.data_.length):a instanceof Uint8Array&&(h?this.data_=a:(this.data_=new Uint8Array(a.length),this.data_.set(a)),w=a.length),this.size_=w,this.type_=S}size(){return this.size_}type(){return this.type_}slice(a,h){if(Se(this.data_)){const S=function pd(m,a,h){return m.webkitSlice?m.webkitSlice(a,h):m.mozSlice?m.mozSlice(a,h):m.slice?m.slice(a,h):null}(this.data_,a,h);return null===S?null:new xc(S)}{const w=new Uint8Array(this.data_.buffer,a,h-a);return new xc(w,!0)}}static getBlob(...a){if(pt()){const h=a.map(w=>w instanceof xc?w.data_:w);return new xc(Bf.apply(null,h))}{const h=a.map(X=>me(X)?Ip(Kl.RAW,X).data:X.data_);let w=0;h.forEach(X=>{w+=X.byteLength});const S=new Uint8Array(w);let j=0;return h.forEach(X=>{for(let ie=0;ie<X.length;ie++)S[j++]=X[ie]}),new xc(S,!0)}}uploadData(){return this.data_}}function tf(m){let a;try{a=JSON.parse(m)}catch{return null}return function re(m){return"object"==typeof m&&!Array.isArray(m)}(a)?a:null}function Pc(m){const a=m.lastIndexOf("/",m.length-2);return-1===a?m:m.slice(a+1)}function Fd(m,a){return a}class xl{constructor(a,h,w,S){this.server=a,this.local=h||a,this.writable=!!w,this.xform=S||Fd}}let dc=null;function Mc(){if(dc)return dc;const m=[];m.push(new xl("bucket")),m.push(new xl("generation")),m.push(new xl("metageneration")),m.push(new xl("name","fullPath",!0));const h=new xl("name");h.xform=function a(j,X){return function xm(m){return!me(m)||m.length<2?m:Pc(m)}(X)},m.push(h);const S=new xl("size");return S.xform=function w(j,X){return void 0!==X?Number(X):X},m.push(S),m.push(new xl("timeCreated")),m.push(new xl("updated")),m.push(new xl("md5Hash",null,!0)),m.push(new xl("cacheControl",null,!0)),m.push(new xl("contentDisposition",null,!0)),m.push(new xl("contentEncoding",null,!0)),m.push(new xl("contentLanguage",null,!0)),m.push(new xl("contentType",null,!0)),m.push(new xl("metadata","customMetadata",!0)),dc=m,dc}function Vf(m,a,h){const w=tf(a);return null===w?null:function gd(m,a,h){const w={type:"file"},S=h.length;for(let j=0;j<S;j++){const X=h[j];w[X.local]=X.xform(w,a[X.server])}return function Zu(m,a){Object.defineProperty(m,"ref",{get:function h(){const j=new c(m.bucket,m.fullPath);return a._makeStorageReference(j)}})}(w,m),w}(m,w,h)}function $f(m,a){const h={},w=a.length;for(let S=0;S<w;S++){const j=a[S];j.writable&&(h[j.server]=m[j.local])}return JSON.stringify(h)}const Dg="prefixes",bp="items";class qc{constructor(a,h,w,S){this.url=a,this.method=h,this.handler=w,this.timeout=S,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Nc(m){if(!m)throw kd()}function Lr(m,a){return function h(w,S){const j=Vf(m,S,a);return Nc(null!==j),j}}function Nu(m){return function a(h,w){let S;return S=401===h.getStatus()?h.getErrorText().includes("Firebase App Check token is invalid")?function Qh(){return new Rs(fs.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Yh(){return new Rs(fs.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===h.getStatus()?function Ac(m){return new Rs(fs.QUOTA_EXCEEDED,"Quota for bucket '"+m+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(m.bucket):403===h.getStatus()?function oc(m){return new Rs(fs.UNAUTHORIZED,"User does not have permission to access '"+m+"'.")}(m.path):w,S.status=h.getStatus(),S.serverResponse=w.serverResponse,S}}function Zc(m){const a=Nu(m);return function h(w,S){let j=a(w,S);return 404===w.getStatus()&&(j=function sc(m){return new Rs(fs.OBJECT_NOT_FOUND,"Object '"+m+"' does not exist.")}(m.path)),j.serverResponse=S.serverResponse,j}}function Dp(m,a,h){const S=Tt(a.fullServerUrl(),m.host,m._protocol),X=m.maxOperationRetryTime,ie=new qc(S,"GET",Lr(m,h),X);return ie.errorHandler=Zc(a),ie}function Sp(m,a,h,w,S){const j={};j.prefix=a.isRoot?"":a.path+"/",h&&h.length>0&&(j.delimiter=h),w&&(j.pageToken=w),S&&(j.maxResults=S);const ie=Tt(a.bucketOnlyServerUrl(),m.host,m._protocol),Ae=m.maxOperationRetryTime,Ge=new qc(ie,"GET",function Ag(m,a){return function h(w,S){const j=function jf(m,a,h){const w=tf(h);return null===w?null:function Sg(m,a,h){const w={prefixes:[],items:[],nextPageToken:h.nextPageToken};if(h[Dg])for(const S of h[Dg]){const j=S.replace(/\/$/,""),X=m._makeStorageReference(new c(a,j));w.prefixes.push(X)}if(h[bp])for(const S of h[bp]){const j=m._makeStorageReference(new c(a,S.name));w.items.push(j)}return w}(m,a,w)}(m,a,S);return Nc(null!==j),j}}(m,a.bucket),Ae);return Ge.urlParams=j,Ge.errorHandler=Nu(a),Ge}function na(m,a,h){const w=Object.assign({},h);return w.fullPath=m.path,w.size=a.size(),w.contentType||(w.contentType=function xg(m,a){return m&&m.contentType||a&&a.type()||"application/octet-stream"}(null,a)),w}class Oc{constructor(a,h,w,S){this.current=a,this.total=h,this.finalized=!!w,this.metadata=S||null}}function xp(m,a){let h=null;try{h=m.getResponseHeader("X-Goog-Upload-Status")}catch{Nc(!1)}return Nc(!!h&&-1!==(a||["active"]).indexOf(h)),h}const Np={STATE_CHANGED:"state_changed"},hu={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Hf(m){switch(m){case"running":case"pausing":case"canceling":return hu.RUNNING;case"paused":return hu.PAUSED;case"success":return hu.SUCCESS;case"canceled":return hu.CANCELED;default:return hu.ERROR}}class zf{constructor(a,h,w){if(function W(m){return"function"==typeof m}(a)||null!=h||null!=w)this.next=a,this.error=h??void 0,this.complete=w??void 0;else{const j=a;this.next=j.next,this.error=j.error,this.complete=j.complete}}}function Ud(m){return(...a)=>{Promise.resolve().then(()=>m(...a))}}let ph=null;class Yc{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Rn.NO_ERROR,this.sendPromise_=new Promise(a=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Rn.ABORT,a()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Rn.NETWORK_ERROR,a()}),this.xhr_.addEventListener("load",()=>{a()})})}send(a,h,w,S){if(this.sent_)throw f("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(h,a,!0),void 0!==S)for(const j in S)S.hasOwnProperty(j)&&this.xhr_.setRequestHeader(j,S[j].toString());return void 0!==w?this.xhr_.send(w):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw f("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw f("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw f("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw f("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(a){return this.xhr_.getResponseHeader(a)}addUploadProgressListener(a){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",a)}removeUploadProgressListener(a){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",a)}}class Op extends Yc{initXhr(){this.xhr_.responseType="text"}}function fu(){return ph?ph():new Op}class Wf{constructor(a,h,w=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=a,this._blob=h,this._metadata=w,this._mappings=Mc(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=S=>{if(this._request=void 0,this._chunkMultiplier=1,S._codeEquals(fs.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const j=this.isExponentialBackoffExpired();if(Ti(S.status,[])){if(!j)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();S=xu()}this._error=S,this._transition("error")}},this._metadataErrorHandler=S=>{this._request=void 0,S._codeEquals(fs.CANCELED)?this.completeTransitions_():(this._error=S,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((S,j)=>{this._resolve=S,this._reject=j,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const a=this._transferred;return h=>this._updateProgress(a+h)}_shouldDoResumable(a){return a.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(a){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([h,w])=>{switch(this._state){case"running":a(h,w);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((a,h)=>{const w=function Pp(m,a,h,w,S){const j=a.bucketOnlyServerUrl(),X=na(a,w,S),ie={name:X.fullPath},pe=Tt(j,m.host,m._protocol),Ge={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${w.size()}`,"X-Goog-Upload-Header-Content-Type":X.contentType,"Content-Type":"application/json; charset=utf-8"},Pt=$f(X,h),Wt=new qc(pe,"POST",function Ut(Vt){let dn;xp(Vt);try{dn=Vt.getResponseHeader("X-Goog-Upload-URL")}catch{Nc(!1)}return Nc(me(dn)),dn},m.maxUploadRetryTime);return Wt.urlParams=ie,Wt.headers=Ge,Wt.body=Pt,Wt.errorHandler=Nu(a),Wt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),S=this._ref.storage._makeRequest(w,fu,a,h);this._request=S,S.getPromise().then(j=>{this._request=void 0,this._uploadUrl=j,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const a=this._uploadUrl;this._resolveToken((h,w)=>{const S=function rf(m,a,h,w){const pe=new qc(h,"POST",function j(Ae){const Ge=xp(Ae,["active","final"]);let Pt=null;try{Pt=Ae.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Nc(!1)}Pt||Nc(!1);const Bt=Number(Pt);return Nc(!isNaN(Bt)),new Oc(Bt,w.size(),"final"===Ge)},m.maxUploadRetryTime);return pe.headers={"X-Goog-Upload-Command":"query"},pe.errorHandler=Nu(a),pe}(this._ref.storage,this._ref._location,a,this._blob),j=this._ref.storage._makeRequest(S,fu,h,w);this._request=j,j.getPromise().then(X=>{this._request=void 0,this._updateProgress(X.current),this._needToFetchStatus=!1,X.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const a=262144*this._chunkMultiplier,h=new Oc(this._transferred,this._blob.size()),w=this._uploadUrl;this._resolveToken((S,j)=>{let X;try{X=function Mp(m,a,h,w,S,j,X,ie){const pe=new Oc(0,0);if(X?(pe.current=X.current,pe.total=X.total):(pe.current=0,pe.total=w.size()),w.size()!==pe.total)throw function Gl(){return new Rs(fs.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Ae=pe.total-pe.current;let Ge=Ae;S>0&&(Ge=Math.min(Ge,S));const Pt=pe.current;let Ut="";Ut=0===Ge?"finalize":Ae===Ge?"upload, finalize":"upload";const Wt={"X-Goog-Upload-Command":Ut,"X-Goog-Upload-Offset":`${pe.current}`},Vt=w.slice(Pt,Pt+Ge);if(null===Vt)throw Pu();const Jn=new qc(h,"POST",function dn(In,Pr){const Ir=xp(In,["active","final"]),Mr=pe.current+Ge,ni=w.size();let bi;return bi="final"===Ir?Lr(a,j)(In,Pr):null,new Oc(Mr,ni,"final"===Ir,bi)},a.maxUploadRetryTime);return Jn.headers=Wt,Jn.body=Vt.uploadData(),Jn.progressCallback=ie||null,Jn.errorHandler=Nu(m),Jn}(this._ref._location,this._ref.storage,w,this._blob,a,this._mappings,h,this._makeProgressCallback())}catch(pe){return this._error=pe,void this._transition("error")}const ie=this._ref.storage._makeRequest(X,fu,S,j,!1);this._request=ie,ie.getPromise().then(pe=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(pe.current),pe.finalized?(this._metadata=pe.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((a,h)=>{const w=Dp(this._ref.storage,this._ref._location,this._mappings),S=this._ref.storage._makeRequest(w,fu,a,h);this._request=S,S.getPromise().then(j=>{this._request=void 0,this._metadata=j,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((a,h)=>{const w=function Rp(m,a,h,w,S){const j=a.bucketOnlyServerUrl(),X={"X-Goog-Upload-Protocol":"multipart"},pe=function ie(){let Jn="";for(let In=0;In<2;In++)Jn+=Math.random().toString().slice(2);return Jn}();X["Content-Type"]="multipart/related; boundary="+pe;const Ae=na(a,w,S),Ge=$f(Ae,h),Ut=xc.getBlob("--"+pe+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ge+"\r\n--"+pe+"\r\nContent-Type: "+Ae.contentType+"\r\n\r\n",w,"\r\n--"+pe+"--");if(null===Ut)throw Pu();const Wt={name:Ae.fullPath},Vt=Tt(j,m.host,m._protocol),On=m.maxUploadRetryTime,hr=new qc(Vt,"POST",Lr(m,h),On);return hr.urlParams=Wt,hr.headers=X,hr.body=Ut.uploadData(),hr.errorHandler=Nu(a),hr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),S=this._ref.storage._makeRequest(w,fu,a,h);this._request=S,S.getPromise().then(j=>{this._request=void 0,this._metadata=j,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(a){const h=this._transferred;this._transferred=a,this._transferred!==h&&this._notifyObservers()}_transition(a){if(this._state!==a)switch(a){case"canceling":case"pausing":this._state=a,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const h="paused"===this._state;this._state=a,h&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=a,this._notifyObservers();break;case"canceled":this._error=Ld(),this._state=a,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const a=Hf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:a,metadata:this._metadata,task:this,ref:this._ref}}on(a,h,w,S){const j=new zf(h||void 0,w||void 0,S||void 0);return this._addObserver(j),()=>{this._removeObserver(j)}}then(a,h){return this._promise.then(a,h)}catch(a){return this.then(null,a)}_addObserver(a){this._observers.push(a),this._notifyObserver(a)}_removeObserver(a){const h=this._observers.indexOf(a);-1!==h&&this._observers.splice(h,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(h=>{this._notifyObserver(h)})}_finishPromise(){if(void 0!==this._resolve){let a=!0;switch(Hf(this._state)){case hu.SUCCESS:Ud(this._resolve.bind(null,this.snapshot))();break;case hu.CANCELED:case hu.ERROR:Ud(this._reject.bind(null,this._error))();break;default:a=!1}a&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(a){switch(Hf(this._state)){case hu.RUNNING:case hu.PAUSED:a.next&&Ud(a.next.bind(a,this.snapshot))();break;case hu.SUCCESS:a.complete&&Ud(a.complete.bind(a))();break;default:a.error&&Ud(a.error.bind(a,this._error))()}}resume(){const a="paused"===this._state||"pausing"===this._state;return a&&this._transition("running"),a}pause(){const a="running"===this._state;return a&&this._transition("pausing"),a}cancel(){const a="running"===this._state||"pausing"===this._state;return a&&this._transition("canceling"),a}}class Bd{constructor(a,h){this._service=a,this._location=h instanceof c?h:c.makeFromUrl(h,a.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(a,h){return new Bd(a,h)}get root(){const a=new c(this._location.bucket,"");return this._newRef(this._service,a)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Pc(this._location.path)}get storage(){return this._service}get parent(){const a=function nf(m){if(0===m.length)return null;const a=m.lastIndexOf("/");return-1===a?"":m.slice(0,a)}(this._location.path);if(null===a)return null;const h=new c(this._location.bucket,a);return new Bd(this._service,h)}_throwIfRoot(a){if(""===this._location.path)throw fd(a)}}function gh(m,a,h){return af.apply(this,arguments)}function af(){return(af=(0,zc.Z)(function*(m,a,h){const S=yield lf(m,{pageToken:h});a.prefixes.push(...S.prefixes),a.items.push(...S.items),null!=S.nextPageToken&&(yield gh(m,a,S.nextPageToken))})).apply(this,arguments)}function lf(m,a){null!=a&&"number"==typeof a.maxResults&&It("options.maxResults",1,1e3,a.maxResults);const h=a||{},w=Sp(m.storage,m._location,"/",h.pageToken,h.maxResults);return m.storage.makeRequestWithTokens(w,fu)}function mh(m){m._throwIfRoot("getDownloadURL");const a=function Ap(m,a,h){const S=Tt(a.fullServerUrl(),m.host,m._protocol),X=m.maxOperationRetryTime,ie=new qc(S,"GET",function Cp(m,a){return function h(w,S){const j=Vf(m,S,a);return Nc(null!==j),function Pm(m,a,h,w){const S=tf(a);if(null===S||!me(S.downloadTokens))return null;const j=S.downloadTokens;if(0===j.length)return null;const X=encodeURIComponent;return j.split(",").map(Ae=>{const Pt=m.fullPath;return Tt("/b/"+X(m.bucket)+"/o/"+X(Pt),h,w)+cn({alt:"media",token:Ae})})[0]}(j,S,m.host,m._protocol)}}(m,h),X);return ie.errorHandler=Zc(a),ie}(m.storage,m._location,Mc());return m.storage.makeRequestWithTokens(a,fu).then(h=>{if(null===h)throw function ac(){return new Rs(fs.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return h})}function kg(m,a){const h=function Rm(m,a){const h=a.split("/").filter(w=>w.length>0).join("/");return 0===m.length?h:m+"/"+h}(m._location.path,a),w=new c(m._location.bucket,h);return new Bd(m.storage,w)}function Lp(m,a){if(m instanceof Lc){const h=m;if(null==h._bucket)throw function Wc(){return new Rs(fs.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+uh+"' property when initializing the app?")}();const w=new Bd(h,h._bucket);return null!=a?Lp(w,a):w}return void 0!==a?kg(m,a):m}function yh(m,a){if(a&&function qf(m){return/^[A-Za-z]+:\/\//.test(m)}(a)){if(m instanceof Lc)return function Lg(m,a){return new Bd(m,a)}(m,a);throw Kc("To use ref(service, url), the first argument must be a Storage instance.")}return Lp(m,a)}function kc(m,a){const h=a?.[uh];return null==h?null:c.makeFromBucketSpec(h,m)}class Lc{constructor(a,h,w,S,j){this.app=a,this._authProvider=h,this._appCheckProvider=w,this._url=S,this._firebaseVersion=j,this._bucket=null,this._host=Gh,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=S?c.makeFromBucketSpec(S,this._host):kc(this._host,this.app.options)}get host(){return this._host}set host(a){this._host=a,this._bucket=null!=this._url?c.makeFromBucketSpec(this._url,a):kc(a,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(a){It("time",0,Number.POSITIVE_INFINITY,a),this._maxUploadRetryTime=a}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(a){It("time",0,Number.POSITIVE_INFINITY,a),this._maxOperationRetryTime=a}_getAuthToken(){var a=this;return(0,zc.Z)(function*(){if(a._overrideAuthToken)return a._overrideAuthToken;const h=a._authProvider.getImmediate({optional:!0});if(h){const w=yield h.getToken();if(null!==w)return w.accessToken}return null})()}_getAppCheckToken(){var a=this;return(0,zc.Z)(function*(){const h=a._appCheckProvider.getImmediate({optional:!0});return h?(yield h.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(a=>a.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(a){return new Bd(this,a)}_makeRequest(a,h,w,S,j=!0){if(this._deleted)return new d(dh());{const X=function Xh(m,a,h,w,S,j,X=!0){const ie=cn(m.urlParams),pe=m.url+ie,Ae=Object.assign({},m.headers);return function hh(m,a){a&&(m["X-Firebase-GMPID"]=a)}(Ae,a),function lc(m,a){null!==a&&a.length>0&&(m.Authorization="Firebase "+a)}(Ae,h),function uc(m,a){m["X-Firebase-Storage-Version"]="webjs/"+(a??"AppManager")}(Ae,j),function Uf(m,a){null!==a&&(m["X-Firebase-AppCheck"]=a)}(Ae,w),new ta(pe,m.method,Ae,m.body,m.successCodes,m.additionalRetryCodes,m.handler,m.errorHandler,m.timeout,m.progressCallback,S,X)}(a,this._appId,w,S,h,this._firebaseVersion,j);return this._requests.add(X),X.getPromise().then(()=>this._requests.delete(X),()=>this._requests.delete(X)),X}}makeRequestWithTokens(a,h){var w=this;return(0,zc.Z)(function*(){const[S,j]=yield Promise.all([w._getAuthToken(),w._getAppCheckToken()]);return w._makeRequest(a,h,S,j).getPromise()})()}}const _h="@firebase/storage",uf="storage";function vh(m,a){return yh(m=(0,he.m9)(m),a)}function Vp(m=(0,be.getApp)(),a){m=(0,he.m9)(m);const w=(0,be._getProvider)(m,uf).getImmediate({identifier:a}),S=(0,he.P0)("storage");return S&&Ou(w,...S),w}function Ou(m,a,h,w={}){!function jd(m,a,h,w={}){m.host=`${a}:${h}`,m._protocol="http";const{mockUserToken:S}=w;S&&(m._overrideAuthToken="string"==typeof S?S:(0,he.Sg)(S,m.app.options.projectId))}(m,a,h,w)}function by(m,{instanceIdentifier:a}){const h=m.getProvider("app").getImmediate(),w=m.getProvider("auth-internal"),S=m.getProvider("app-check-internal");return new Lc(h,w,S,a,be.SDK_VERSION)}!function $p(){(0,be._registerComponent)(new ht.wA(uf,by,"PUBLIC").setMultipleInstances(!0)),(0,be.registerVersion)(_h,"0.11.2",""),(0,be.registerVersion)(_h,"0.11.2","esm2017")}();class Eh{constructor(a){return a}}const Ug="storage",wh=new $.OlP("angularfire2.storage-instances");function jp(m){return(a,h)=>{const w=a.runOutsideAngular(()=>m(h));return new Eh(w)}}const Th={provide:class Vm{constructor(){return(0,P.vb)(Ug)}},deps:[[new $.FiY,wh]]},hf={provide:Eh,useFactory:function Ih(m,a){const h=(0,P.JM)(Ug,m,a);return h&&new Eh(h)},deps:[[new $.FiY,wh],al.Ot]};let Hp=(()=>{class m{constructor(){(0,U.KN)("angularfire",P.q4.full,"gcs")}}return m.\u0275fac=function(h){return new(h||m)},m.\u0275mod=$.oAB({type:m}),m.\u0275inj=$.cJS({providers:[hf,Th]}),m})();function Bg(m,...a){return{ngModule:Hp,providers:[{provide:wh,useFactory:jp(m),multi:!0,deps:[$.R0b,$.zs3,P.HU,al.z6,[new $.FiY,An],[new $.FiY,Hc.nm],...a]}]}}const jm=(0,P.u3)(Vp,!0),bh={firebaseConfig:{apiKey:"AIzaSyCe61KnyTT71n9VB_Rs1kQLrntA6f5kPX4",authDomain:"avante-ccb.firebaseapp.com",databaseURL:"https://avante-ccb.firebaseio.com",projectId:"avante-ccb",storageBucket:"avante-ccb.appspot.com",messagingSenderId:"548639811786",appId:"1:548639811786:web:0e9a814c71931187d46c33",measurementId:"G-TTR73QGQF5"}};var Ch=q(2011),Gg=q(1205),Qf=q(9532),Kg=q(9751),gf=q(9646),Dh=q(8996),hc=q(4986),Xf=q(4482),Sh=q(5403),Gp=q(4004),mf=q(3900),Jf=q(3942);class Qc{constructor(a,h,w){this._delegate=a,this.task=h,this.ref=w}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Xc{constructor(a,h){this._delegate=a,this._ref=h,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Qc(this._delegate.snapshot,this,this._ref)}then(a,h){return this._delegate.then(w=>{if(a)return a(new Qc(w,this,this._ref))},h)}on(a,h,w,S){let j;return h&&(j="function"==typeof h?X=>h(new Qc(X,this,this._ref)):{next:h.next?X=>h.next(new Qc(X,this,this._ref)):void 0,complete:h.complete||void 0,error:h.error||void 0}),this._delegate.on(a,j,w||void 0,S||void 0)}}class yd{constructor(a,h){this._delegate=a,this._service=h}get prefixes(){return this._delegate.prefixes.map(a=>new pu(a,this._service))}get items(){return this._delegate.items.map(a=>new pu(a,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class pu{constructor(a,h){this._delegate=a,this.storage=h}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(a){const h=function df(m,a){return kg(m,a)}(this._delegate,a);return new pu(h,this.storage)}get root(){return new pu(this._delegate.root,this.storage)}get parent(){const a=this._delegate.parent;return null==a?null:new pu(a,this.storage)}put(a,h){return this._throwIfRoot("put"),new Xc(function cf(m,a,h){return function Lm(m,a,h){return m._throwIfRoot("uploadBytesResumable"),new Wf(m,new xc(a),h)}(m=(0,he.m9)(m),a,h)}(this._delegate,a,h),this)}putString(a,h=Kl.RAW,w){this._throwIfRoot("putString");const S=Ip(h,a),j=Object.assign({},w);return null==j.contentType&&null!=S.contentType&&(j.contentType=S.contentType),new Xc(new Wf(this._delegate,new xc(S.data,!0),j),this)}listAll(){return function dl(m){return function $d(m){const a={prefixes:[],items:[]};return gh(m,a).then(()=>a)}(m=(0,he.m9)(m))}(this._delegate).then(a=>new yd(a,this.storage))}list(a){return function Um(m,a){return lf(m=(0,he.m9)(m),a)}(this._delegate,a||void 0).then(h=>new yd(h,this.storage))}getMetadata(){return function Zf(m){return function Og(m){m._throwIfRoot("getMetadata");const a=Dp(m.storage,m._location,Mc());return m.storage.makeRequestWithTokens(a,fu)}(m=(0,he.m9)(m))}(this._delegate)}updateMetadata(a){return function wy(m,a){return function Fm(m,a){m._throwIfRoot("updateMetadata");const h=function Mm(m,a,h,w){const j=Tt(a.fullServerUrl(),m.host,m._protocol),ie=$f(h,w),Ae=m.maxOperationRetryTime,Ge=new qc(j,"PATCH",Lr(m,w),Ae);return Ge.headers={"Content-Type":"application/json; charset=utf-8"},Ge.body=ie,Ge.errorHandler=Zc(a),Ge}(m.storage,m._location,a,Mc());return m.storage.makeRequestWithTokens(h,fu)}(m=(0,he.m9)(m),a)}(this._delegate,a)}getDownloadURL(){return function Bm(m){return mh(m=(0,he.m9)(m))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Bp(m){return function Kf(m){m._throwIfRoot("deleteObject");const a=function Nm(m,a){const w=Tt(a.fullServerUrl(),m.host,m._protocol),ie=new qc(w,"DELETE",function X(pe,Ae){},m.maxOperationRetryTime);return ie.successCodes=[200,204],ie.errorHandler=Zc(a),ie}(m.storage,m._location);return m.storage.makeRequestWithTokens(a,fu)}(m=(0,he.m9)(m))}(this._delegate)}_throwIfRoot(a){if(""===this._delegate._location.path)throw fd(a)}}class Rh{constructor(a,h){this.app=a,this._delegate=h}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(a){if(Kp(a))throw Kc("ref() expected a child path but got a URL, use refFromURL instead.");return new pu(vh(this._delegate,a),this)}refFromURL(a){if(!Kp(a))throw Kc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{c.makeFromUrl(a,this._delegate.host)}catch{throw Kc("refFromUrl() expected a valid full URL but got an invalid one.")}return new pu(vh(this._delegate,a),this)}setMaxUploadRetryTime(a){this._delegate.maxUploadRetryTime=a}setMaxOperationRetryTime(a){this._delegate.maxOperationRetryTime=a}useEmulator(a,h,w={}){Ou(this._delegate,a,h,w)}}function Kp(m){return/^[A-Za-z]+:\/\//.test(m)}function qp(m,{instanceIdentifier:a}){const h=m.getProvider("app-compat").getImmediate(),w=m.getProvider("storage").getImmediate({identifier:a});return new Rh(h,w)}!function Zp(m){const a={TaskState:hu,TaskEvent:Np,StringFormat:Kl,Storage:Rh,Reference:pu};m.INTERNAL.registerComponent(new ht.wA("storage-compat",qp,"PUBLIC").setServiceProps(a).setMultipleInstances(!0)),m.registerVersion("@firebase/storage-compat","0.3.2")}(Jf.Z);var Yp=q(9260);function tp(m){const a=function ep(m){return new Kg.y(a=>{const h=X=>a.next(X);h(m.snapshot);const j=m.on("state_changed",h);return m.then(X=>{h(X),a.complete()},X=>{h(m.snapshot),(X=>{a.error(X)})(X)}),function(){j()}}).pipe(function Ah(m,a=hc.z){return(0,Xf.e)((h,w)=>{let S=null,j=null,X=null;const ie=()=>{if(S){S.unsubscribe(),S=null;const Ae=j;j=null,w.next(Ae)}};function pe(){const Ae=X+m,Ge=a.now();if(Ge<Ae)return S=this.schedule(void 0,Ae-Ge),void w.add(S);ie()}h.subscribe((0,Sh.x)(w,Ae=>{j=Ae,X=a.now(),S||(S=a.schedule(pe,m),w.add(S))},()=>{ie(),w.complete()},void 0,()=>{j=S=null}))})}(0))}(m);return{task:m,then:m.then.bind(m),catch:m.catch.bind(m),pause:m.pause.bind(m),cancel:m.cancel.bind(m),resume:m.resume.bind(m),snapshotChanges:()=>a,percentageChanges:()=>a.pipe((0,Gp.U)(h=>h.bytesTransferred/h.totalBytes*100))}}function np(m){return{getDownloadURL:()=>(0,gf.of)(void 0).pipe(P.fc,(0,mf.w)(()=>m.getDownloadURL()),P.iC),getMetadata:()=>(0,gf.of)(void 0).pipe(P.fc,(0,mf.w)(()=>m.getMetadata()),P.iC),delete:()=>(0,Dh.D)(m.delete()),child:a=>np(m.child(a)),updateMetadata:a=>(0,Dh.D)(m.updateMetadata(a)),put:(a,h)=>tp(m.put(a,h)),putString:(a,h,w)=>tp(m.putString(a,h,w)),list:a=>(0,Dh.D)(m.list(a)),listAll:()=>(0,Dh.D)(m.listAll())}}const yf=new $.OlP("angularfire2.storageBucket"),Qp=new $.OlP("angularfire2.storage.maxUploadRetryTime"),Gm=new $.OlP("angularfire2.storage.maxOperationRetryTime"),qg=new $.OlP("angularfire2.storage.use-emulator");let Km=(()=>{class m{constructor(h,w,S,j,X,ie,pe,Ae,Ge,Pt){const Bt=(0,Ch.on)(h,X,w);this.storage=(0,Ch.cc)(`${Bt.name}.storage.${S}`,"AngularFireStorage",Bt.name,()=>{const Ut=X.runOutsideAngular(()=>Bt.storage(S||void 0)),Wt=Ge;return Wt&&Ut.useEmulator(...Wt),pe&&Ut.setMaxUploadRetryTime(pe),Ae&&Ut.setMaxOperationRetryTime(Ae),Ut},[pe,Ae])}ref(h){return np(this.storage.ref(h))}refFromURL(h){return np(this.storage.refFromURL(h))}upload(h,w,S){return np(this.storage.ref(h)).put(w,S)}}return m.\u0275fac=function(h){return new(h||m)($.LFG(Ch.Dh),$.LFG(Ch.xv,8),$.LFG(yf,8),$.LFG($.Lbi),$.LFG($.R0b),$.LFG(P.HU),$.LFG(Qp,8),$.LFG(Gm,8),$.LFG(qg,8),$.LFG(Hc.nm,8))},m.\u0275prov=$.Yz7({token:m,factory:m.\u0275fac,providedIn:"any"}),m})(),Zg=(()=>{class m{}return m.\u0275fac=function(h){return new(h||m)},m.\u0275mod=$.oAB({type:m}),m.\u0275inj=$.cJS({}),m})(),Yg=(()=>{class m{constructor(){Yp.Z.registerVersion("angularfire",P.q4.full,"gcs-compat")}}return m.\u0275fac=function(h){return new(h||m)},m.\u0275mod=$.oAB({type:m}),m.\u0275inj=$.cJS({providers:[Km],imports:[Zg]}),m})();Ch.hO.initializeApp(bh.firebaseConfig);let Xp=(()=>{class m{}return m.\u0275fac=function(h){return new(h||m)},m.\u0275mod=$.oAB({type:m,bootstrap:[Ds]}),m.\u0275inj=$.cJS({providers:[{provide:Ch.Dh,useValue:bh.firebaseConfig}],imports:[R.b2,qa,xe,ee.Bz,(0,al.hX)(()=>(0,al.ZF)(bh.firebaseConfig)),ud(()=>_g()),Bg(()=>jm()),Gg.ww,Qf.JS,Yg]}),m})();R.q6().bootstrapModule(Xp).catch(m=>console.error(m))},9751:(_n,at,q)=>{q.d(at,{y:()=>Ie});var R=q(930),ee=q(727),$=q(8822),Me=q(9635),xe=q(2416),Ke=q(576),qe=q(2806);let Ie=(()=>{class Ne{constructor(wt){wt&&(this._subscribe=wt)}lift(wt){const Ot=new Ne;return Ot.source=this,Ot.operator=wt,Ot}subscribe(wt,Ot,Xt){const lt=function Te(Ne){return Ne&&Ne instanceof R.Lv||function ge(Ne){return Ne&&(0,Ke.m)(Ne.next)&&(0,Ke.m)(Ne.error)&&(0,Ke.m)(Ne.complete)}(Ne)&&(0,ee.Nn)(Ne)}(wt)?wt:new R.Hp(wt,Ot,Xt);return(0,qe.x)(()=>{const{operator:ut,source:At}=this;lt.add(ut?ut.call(lt,At):At?this._subscribe(lt):this._trySubscribe(lt))}),lt}_trySubscribe(wt){try{return this._subscribe(wt)}catch(Ot){wt.error(Ot)}}forEach(wt,Ot){return new(Ot=Ye(Ot))((Xt,lt)=>{const ut=new R.Hp({next:At=>{try{wt(At)}catch(mt){lt(mt),ut.unsubscribe()}},error:lt,complete:Xt});this.subscribe(ut)})}_subscribe(wt){var Ot;return null===(Ot=this.source)||void 0===Ot?void 0:Ot.subscribe(wt)}[$.L](){return this}pipe(...wt){return(0,Me.U)(wt)(this)}toPromise(wt){return new(wt=Ye(wt))((Ot,Xt)=>{let lt;this.subscribe(ut=>lt=ut,ut=>Xt(ut),()=>Ot(lt))})}}return Ne.create=ft=>new Ne(ft),Ne})();function Ye(Ne){var ft;return null!==(ft=Ne??xe.v.Promise)&&void 0!==ft?ft:Promise}},7579:(_n,at,q)=>{q.d(at,{x:()=>qe});var R=q(9751),ee=q(727);const Me=(0,q(3888).d)(Ye=>function(){Ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=q(8737),Ke=q(2806);let qe=(()=>{class Ye extends R.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Te){const Ne=new Ie(this,this);return Ne.operator=Te,Ne}_throwIfClosed(){if(this.closed)throw new Me}next(Te){(0,Ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ne of this.currentObservers)Ne.next(Te)}})}error(Te){(0,Ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Te;const{observers:Ne}=this;for(;Ne.length;)Ne.shift().error(Te)}})}complete(){(0,Ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Te}=this;for(;Te.length;)Te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Te;return(null===(Te=this.observers)||void 0===Te?void 0:Te.length)>0}_trySubscribe(Te){return this._throwIfClosed(),super._trySubscribe(Te)}_subscribe(Te){return this._throwIfClosed(),this._checkFinalizedStatuses(Te),this._innerSubscribe(Te)}_innerSubscribe(Te){const{hasError:Ne,isStopped:ft,observers:wt}=this;return Ne||ft?ee.Lc:(this.currentObservers=null,wt.push(Te),new ee.w0(()=>{this.currentObservers=null,(0,xe.P)(wt,Te)}))}_checkFinalizedStatuses(Te){const{hasError:Ne,thrownError:ft,isStopped:wt}=this;Ne?Te.error(ft):wt&&Te.complete()}asObservable(){const Te=new R.y;return Te.source=this,Te}}return Ye.create=(ge,Te)=>new Ie(ge,Te),Ye})();class Ie extends qe{constructor(ge,Te){super(),this.destination=ge,this.source=Te}next(ge){var Te,Ne;null===(Ne=null===(Te=this.destination)||void 0===Te?void 0:Te.next)||void 0===Ne||Ne.call(Te,ge)}error(ge){var Te,Ne;null===(Ne=null===(Te=this.destination)||void 0===Te?void 0:Te.error)||void 0===Ne||Ne.call(Te,ge)}complete(){var ge,Te;null===(Te=null===(ge=this.destination)||void 0===ge?void 0:ge.complete)||void 0===Te||Te.call(ge)}_subscribe(ge){var Te,Ne;return null!==(Ne=null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(ge))&&void 0!==Ne?Ne:ee.Lc}}},930:(_n,at,q)=>{q.d(at,{Hp:()=>Xt,Lv:()=>Ne});var R=q(576),ee=q(727),$=q(2416),Me=q(7849),xe=q(5032);const Ke=Ye("C",void 0,void 0);function Ye(Ze,Oe,dt){return{kind:Ze,value:Oe,error:dt}}var ge=q(3410),Te=q(2806);class Ne extends ee.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,ee.Nn)(Oe)&&Oe.add(this)):this.destination=mt}static create(Oe,dt,Rt){return new Xt(Oe,dt,Rt)}next(Oe){this.isStopped?At(function Ie(Ze){return Ye("N",Ze,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?At(function qe(Ze){return Ye("E",void 0,Ze)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?At(Ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ft=Function.prototype.bind;function wt(Ze,Oe){return ft.call(Ze,Oe)}class Ot{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:dt}=this;if(dt.next)try{dt.next(Oe)}catch(Rt){lt(Rt)}}error(Oe){const{partialObserver:dt}=this;if(dt.error)try{dt.error(Oe)}catch(Rt){lt(Rt)}else lt(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(dt){lt(dt)}}}class Xt extends Ne{constructor(Oe,dt,Rt){let _t;if(super(),(0,R.m)(Oe)||!Oe)_t={next:Oe??void 0,error:dt??void 0,complete:Rt??void 0};else{let Be;this&&$.v.useDeprecatedNextContext?(Be=Object.create(Oe),Be.unsubscribe=()=>this.unsubscribe(),_t={next:Oe.next&&wt(Oe.next,Be),error:Oe.error&&wt(Oe.error,Be),complete:Oe.complete&&wt(Oe.complete,Be)}):_t=Oe}this.destination=new Ot(_t)}}function lt(Ze){$.v.useDeprecatedSynchronousErrorHandling?(0,Te.O)(Ze):(0,Me.h)(Ze)}function At(Ze,Oe){const{onStoppedNotification:dt}=$.v;dt&&ge.z.setTimeout(()=>dt(Ze,Oe))}const mt={closed:!0,next:xe.Z,error:function ut(Ze){throw Ze},complete:xe.Z}},727:(_n,at,q)=>{q.d(at,{Lc:()=>Ke,w0:()=>xe,Nn:()=>qe});var R=q(576);const $=(0,q(3888).d)(Ye=>function(Te){Ye(this),this.message=Te?`${Te.length} errors occurred during unsubscription:\n${Te.map((Ne,ft)=>`${ft+1}) ${Ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Te});var Me=q(8737);class xe{constructor(ge){this.initialTeardown=ge,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ge;if(!this.closed){this.closed=!0;const{_parentage:Te}=this;if(Te)if(this._parentage=null,Array.isArray(Te))for(const wt of Te)wt.remove(this);else Te.remove(this);const{initialTeardown:Ne}=this;if((0,R.m)(Ne))try{Ne()}catch(wt){ge=wt instanceof $?wt.errors:[wt]}const{_finalizers:ft}=this;if(ft){this._finalizers=null;for(const wt of ft)try{Ie(wt)}catch(Ot){ge=ge??[],Ot instanceof $?ge=[...ge,...Ot.errors]:ge.push(Ot)}}if(ge)throw new $(ge)}}add(ge){var Te;if(ge&&ge!==this)if(this.closed)Ie(ge);else{if(ge instanceof xe){if(ge.closed||ge._hasParent(this))return;ge._addParent(this)}(this._finalizers=null!==(Te=this._finalizers)&&void 0!==Te?Te:[]).push(ge)}}_hasParent(ge){const{_parentage:Te}=this;return Te===ge||Array.isArray(Te)&&Te.includes(ge)}_addParent(ge){const{_parentage:Te}=this;this._parentage=Array.isArray(Te)?(Te.push(ge),Te):Te?[Te,ge]:ge}_removeParent(ge){const{_parentage:Te}=this;Te===ge?this._parentage=null:Array.isArray(Te)&&(0,Me.P)(Te,ge)}remove(ge){const{_finalizers:Te}=this;Te&&(0,Me.P)(Te,ge),ge instanceof xe&&ge._removeParent(this)}}xe.EMPTY=(()=>{const Ye=new xe;return Ye.closed=!0,Ye})();const Ke=xe.EMPTY;function qe(Ye){return Ye instanceof xe||Ye&&"closed"in Ye&&(0,R.m)(Ye.remove)&&(0,R.m)(Ye.add)&&(0,R.m)(Ye.unsubscribe)}function Ie(Ye){(0,R.m)(Ye)?Ye():Ye.unsubscribe()}},2416:(_n,at,q)=>{q.d(at,{v:()=>R});const R={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(_n,at,q)=>{q.d(at,{E:()=>ee});const ee=new(q(9751).y)(xe=>xe.complete())},8996:(_n,at,q)=>{q.d(at,{D:()=>Oe});var R=q(8421),ee=q(5363),$=q(9468),Ke=q(9751),Ie=q(2202),Ye=q(576),ge=q(9672);function Ne(dt,Rt){if(!dt)throw new Error("Iterable cannot be null");return new Ke.y(_t=>{(0,ge.f)(_t,Rt,()=>{const Be=dt[Symbol.asyncIterator]();(0,ge.f)(_t,Rt,()=>{Be.next().then(se=>{se.done?_t.complete():_t.next(se.value)})},0,!0)})})}var ft=q(3670),wt=q(8239),Ot=q(1144),Xt=q(6495),lt=q(2206),ut=q(4532),At=q(3260);function Oe(dt,Rt){return Rt?function Ze(dt,Rt){if(null!=dt){if((0,ft.c)(dt))return function Me(dt,Rt){return(0,R.Xf)(dt).pipe((0,$.R)(Rt),(0,ee.Q)(Rt))}(dt,Rt);if((0,Ot.z)(dt))return function qe(dt,Rt){return new Ke.y(_t=>{let Be=0;return Rt.schedule(function(){Be===dt.length?_t.complete():(_t.next(dt[Be++]),_t.closed||this.schedule())})})}(dt,Rt);if((0,wt.t)(dt))return function xe(dt,Rt){return(0,R.Xf)(dt).pipe((0,$.R)(Rt),(0,ee.Q)(Rt))}(dt,Rt);if((0,lt.D)(dt))return Ne(dt,Rt);if((0,Xt.T)(dt))return function Te(dt,Rt){return new Ke.y(_t=>{let Be;return(0,ge.f)(_t,Rt,()=>{Be=dt[Ie.h](),(0,ge.f)(_t,Rt,()=>{let se,Kt;try{({value:se,done:Kt}=Be.next())}catch($t){return void _t.error($t)}Kt?_t.complete():_t.next(se)},0,!0)}),()=>(0,Ye.m)(Be?.return)&&Be.return()})}(dt,Rt);if((0,At.L)(dt))return function mt(dt,Rt){return Ne((0,At.Q)(dt),Rt)}(dt,Rt)}throw(0,ut.z)(dt)}(dt,Rt):(0,R.Xf)(dt)}},8421:(_n,at,q)=>{q.d(at,{Xf:()=>ft});var R=q(7582),ee=q(1144),$=q(8239),Me=q(9751),xe=q(3670),Ke=q(2206),qe=q(4532),Ie=q(6495),Ye=q(3260),ge=q(576),Te=q(7849),Ne=q(8822);function ft(Ze){if(Ze instanceof Me.y)return Ze;if(null!=Ze){if((0,xe.c)(Ze))return function wt(Ze){return new Me.y(Oe=>{const dt=Ze[Ne.L]();if((0,ge.m)(dt.subscribe))return dt.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ze);if((0,ee.z)(Ze))return function Ot(Ze){return new Me.y(Oe=>{for(let dt=0;dt<Ze.length&&!Oe.closed;dt++)Oe.next(Ze[dt]);Oe.complete()})}(Ze);if((0,$.t)(Ze))return function Xt(Ze){return new Me.y(Oe=>{Ze.then(dt=>{Oe.closed||(Oe.next(dt),Oe.complete())},dt=>Oe.error(dt)).then(null,Te.h)})}(Ze);if((0,Ke.D)(Ze))return ut(Ze);if((0,Ie.T)(Ze))return function lt(Ze){return new Me.y(Oe=>{for(const dt of Ze)if(Oe.next(dt),Oe.closed)return;Oe.complete()})}(Ze);if((0,Ye.L)(Ze))return function At(Ze){return ut((0,Ye.Q)(Ze))}(Ze)}throw(0,qe.z)(Ze)}function ut(Ze){return new Me.y(Oe=>{(function mt(Ze,Oe){var dt,Rt,_t,Be;return(0,R.mG)(this,void 0,void 0,function*(){try{for(dt=(0,R.KL)(Ze);!(Rt=yield dt.next()).done;)if(Oe.next(Rt.value),Oe.closed)return}catch(se){_t={error:se}}finally{try{Rt&&!Rt.done&&(Be=dt.return)&&(yield Be.call(dt))}finally{if(_t)throw _t.error}}Oe.complete()})})(Ze,Oe).catch(dt=>Oe.error(dt))})}},6451:(_n,at,q)=>{q.d(at,{T:()=>Ke});var R=q(8189),ee=q(8421),$=q(515),Me=q(7669),xe=q(8996);function Ke(...qe){const Ie=(0,Me.yG)(qe),Ye=(0,Me._6)(qe,1/0),ge=qe;return ge.length?1===ge.length?(0,ee.Xf)(ge[0]):(0,R.J)(Ye)((0,xe.D)(ge,Ie)):$.E}},9646:(_n,at,q)=>{q.d(at,{of:()=>$});var R=q(7669),ee=q(8996);function $(...Me){const xe=(0,R.yG)(Me);return(0,ee.D)(Me,xe)}},5403:(_n,at,q)=>{q.d(at,{x:()=>ee});var R=q(930);function ee(Me,xe,Ke,qe,Ie){return new $(Me,xe,Ke,qe,Ie)}class $ extends R.Lv{constructor(xe,Ke,qe,Ie,Ye,ge){super(xe),this.onFinalize=Ye,this.shouldUnsubscribe=ge,this._next=Ke?function(Te){try{Ke(Te)}catch(Ne){xe.error(Ne)}}:super._next,this._error=Ie?function(Te){try{Ie(Te)}catch(Ne){xe.error(Ne)}finally{this.unsubscribe()}}:super._error,this._complete=qe?function(){try{qe()}catch(Te){xe.error(Te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var xe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ke}=this;super.unsubscribe(),!Ke&&(null===(xe=this.onFinalize)||void 0===xe||xe.call(this))}}}},6590:(_n,at,q)=>{q.d(at,{d:()=>$});var R=q(4482),ee=q(5403);function $(Me){return(0,R.e)((xe,Ke)=>{let qe=!1;xe.subscribe((0,ee.x)(Ke,Ie=>{qe=!0,Ke.next(Ie)},()=>{qe||Ke.next(Me),Ke.complete()}))})}},9300:(_n,at,q)=>{q.d(at,{h:()=>$});var R=q(4482),ee=q(5403);function $(Me,xe){return(0,R.e)((Ke,qe)=>{let Ie=0;Ke.subscribe((0,ee.x)(qe,Ye=>Me.call(xe,Ye,Ie++)&&qe.next(Ye)))})}},590:(_n,at,q)=>{q.d(at,{P:()=>qe});var R=q(6805),ee=q(9300),$=q(5698),Me=q(6590),xe=q(8068),Ke=q(4671);function qe(Ie,Ye){const ge=arguments.length>=2;return Te=>Te.pipe(Ie?(0,ee.h)((Ne,ft)=>Ie(Ne,ft,Te)):Ke.y,(0,$.q)(1),ge?(0,Me.d)(Ye):(0,xe.T)(()=>new R.K))}},4004:(_n,at,q)=>{q.d(at,{U:()=>$});var R=q(4482),ee=q(5403);function $(Me,xe){return(0,R.e)((Ke,qe)=>{let Ie=0;Ke.subscribe((0,ee.x)(qe,Ye=>{qe.next(Me.call(xe,Ye,Ie++))}))})}},8189:(_n,at,q)=>{q.d(at,{J:()=>$});var R=q(5577),ee=q(4671);function $(Me=1/0){return(0,R.z)(ee.y,Me)}},5577:(_n,at,q)=>{q.d(at,{z:()=>Ie});var R=q(4004),ee=q(8421),$=q(4482),Me=q(9672),xe=q(5403),qe=q(576);function Ie(Ye,ge,Te=1/0){return(0,qe.m)(ge)?Ie((Ne,ft)=>(0,R.U)((wt,Ot)=>ge(Ne,wt,ft,Ot))((0,ee.Xf)(Ye(Ne,ft))),Te):("number"==typeof ge&&(Te=ge),(0,$.e)((Ne,ft)=>function Ke(Ye,ge,Te,Ne,ft,wt,Ot,Xt){const lt=[];let ut=0,At=0,mt=!1;const Ze=()=>{mt&&!lt.length&&!ut&&ge.complete()},Oe=Rt=>ut<Ne?dt(Rt):lt.push(Rt),dt=Rt=>{wt&&ge.next(Rt),ut++;let _t=!1;(0,ee.Xf)(Te(Rt,At++)).subscribe((0,xe.x)(ge,Be=>{ft?.(Be),wt?Oe(Be):ge.next(Be)},()=>{_t=!0},void 0,()=>{if(_t)try{for(ut--;lt.length&&ut<Ne;){const Be=lt.shift();Ot?(0,Me.f)(ge,Ot,()=>dt(Be)):dt(Be)}Ze()}catch(Be){ge.error(Be)}}))};return Ye.subscribe((0,xe.x)(ge,Oe,()=>{mt=!0,Ze()})),()=>{Xt?.()}}(Ne,ft,Ye,Te)))}},5363:(_n,at,q)=>{q.d(at,{Q:()=>Me});var R=q(9672),ee=q(4482),$=q(5403);function Me(xe,Ke=0){return(0,ee.e)((qe,Ie)=>{qe.subscribe((0,$.x)(Ie,Ye=>(0,R.f)(Ie,xe,()=>Ie.next(Ye),Ke),()=>(0,R.f)(Ie,xe,()=>Ie.complete(),Ke),Ye=>(0,R.f)(Ie,xe,()=>Ie.error(Ye),Ke)))})}},5026:(_n,at,q)=>{q.d(at,{R:()=>Me});var R=q(4482),ee=q(5403);function Me(xe,Ke){return(0,R.e)(function $(xe,Ke,qe,Ie,Ye){return(ge,Te)=>{let Ne=qe,ft=Ke,wt=0;ge.subscribe((0,ee.x)(Te,Ot=>{const Xt=wt++;ft=Ne?xe(ft,Ot,Xt):(Ne=!0,Ot),Ie&&Te.next(ft)},Ye&&(()=>{Ne&&Te.next(ft),Te.complete()})))}}(xe,Ke,arguments.length>=2,!0))}},3099:(_n,at,q)=>{q.d(at,{B:()=>xe});var R=q(8421),ee=q(7579),$=q(930),Me=q(4482);function xe(qe={}){const{connector:Ie=(()=>new ee.x),resetOnError:Ye=!0,resetOnComplete:ge=!0,resetOnRefCountZero:Te=!0}=qe;return Ne=>{let ft,wt,Ot,Xt=0,lt=!1,ut=!1;const At=()=>{wt?.unsubscribe(),wt=void 0},mt=()=>{At(),ft=Ot=void 0,lt=ut=!1},Ze=()=>{const Oe=ft;mt(),Oe?.unsubscribe()};return(0,Me.e)((Oe,dt)=>{Xt++,!ut&&!lt&&At();const Rt=Ot=Ot??Ie();dt.add(()=>{Xt--,0===Xt&&!ut&&!lt&&(wt=Ke(Ze,Te))}),Rt.subscribe(dt),!ft&&Xt>0&&(ft=new $.Hp({next:_t=>Rt.next(_t),error:_t=>{ut=!0,At(),wt=Ke(mt,Ye,_t),Rt.error(_t)},complete:()=>{lt=!0,At(),wt=Ke(mt,ge),Rt.complete()}}),(0,R.Xf)(Oe).subscribe(ft))})(Ne)}}function Ke(qe,Ie,...Ye){if(!0===Ie)return void qe();if(!1===Ie)return;const ge=new $.Hp({next:()=>{ge.unsubscribe(),qe()}});return(0,R.Xf)(Ie(...Ye)).subscribe(ge)}},9468:(_n,at,q)=>{q.d(at,{R:()=>ee});var R=q(4482);function ee($,Me=0){return(0,R.e)((xe,Ke)=>{Ke.add($.schedule(()=>xe.subscribe(Ke),Me))})}},3900:(_n,at,q)=>{q.d(at,{w:()=>Me});var R=q(8421),ee=q(4482),$=q(5403);function Me(xe,Ke){return(0,ee.e)((qe,Ie)=>{let Ye=null,ge=0,Te=!1;const Ne=()=>Te&&!Ye&&Ie.complete();qe.subscribe((0,$.x)(Ie,ft=>{Ye?.unsubscribe();let wt=0;const Ot=ge++;(0,R.Xf)(xe(ft,Ot)).subscribe(Ye=(0,$.x)(Ie,Xt=>Ie.next(Ke?Ke(ft,Xt,Ot,wt++):Xt),()=>{Ye=null,Ne()}))},()=>{Te=!0,Ne()}))})}},5698:(_n,at,q)=>{q.d(at,{q:()=>Me});var R=q(515),ee=q(4482),$=q(5403);function Me(xe){return xe<=0?()=>R.E:(0,ee.e)((Ke,qe)=>{let Ie=0;Ke.subscribe((0,$.x)(qe,Ye=>{++Ie<=xe&&(qe.next(Ye),xe<=Ie&&qe.complete())}))})}},8505:(_n,at,q)=>{q.d(at,{b:()=>xe});var R=q(576),ee=q(4482),$=q(5403),Me=q(4671);function xe(Ke,qe,Ie){const Ye=(0,R.m)(Ke)||qe||Ie?{next:Ke,error:qe,complete:Ie}:Ke;return Ye?(0,ee.e)((ge,Te)=>{var Ne;null===(Ne=Ye.subscribe)||void 0===Ne||Ne.call(Ye);let ft=!0;ge.subscribe((0,$.x)(Te,wt=>{var Ot;null===(Ot=Ye.next)||void 0===Ot||Ot.call(Ye,wt),Te.next(wt)},()=>{var wt;ft=!1,null===(wt=Ye.complete)||void 0===wt||wt.call(Ye),Te.complete()},wt=>{var Ot;ft=!1,null===(Ot=Ye.error)||void 0===Ot||Ot.call(Ye,wt),Te.error(wt)},()=>{var wt,Ot;ft&&(null===(wt=Ye.unsubscribe)||void 0===wt||wt.call(Ye)),null===(Ot=Ye.finalize)||void 0===Ot||Ot.call(Ye)}))}):Me.y}},8068:(_n,at,q)=>{q.d(at,{T:()=>Me});var R=q(6805),ee=q(4482),$=q(5403);function Me(Ke=xe){return(0,ee.e)((qe,Ie)=>{let Ye=!1;qe.subscribe((0,$.x)(Ie,ge=>{Ye=!0,Ie.next(ge)},()=>Ye?Ie.complete():Ie.error(Ke())))})}function xe(){return new R.K}},4408:(_n,at,q)=>{q.d(at,{o:()=>xe});var R=q(727);class ee extends R.w0{constructor(qe,Ie){super()}schedule(qe,Ie=0){return this}}const $={setInterval(Ke,qe,...Ie){const{delegate:Ye}=$;return Ye?.setInterval?Ye.setInterval(Ke,qe,...Ie):setInterval(Ke,qe,...Ie)},clearInterval(Ke){const{delegate:qe}=$;return(qe?.clearInterval||clearInterval)(Ke)},delegate:void 0};var Me=q(8737);class xe extends ee{constructor(qe,Ie){super(qe,Ie),this.scheduler=qe,this.work=Ie,this.pending=!1}schedule(qe,Ie=0){var Ye;if(this.closed)return this;this.state=qe;const ge=this.id,Te=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(Te,ge,Ie)),this.pending=!0,this.delay=Ie,this.id=null!==(Ye=this.id)&&void 0!==Ye?Ye:this.requestAsyncId(Te,this.id,Ie),this}requestAsyncId(qe,Ie,Ye=0){return $.setInterval(qe.flush.bind(qe,this),Ye)}recycleAsyncId(qe,Ie,Ye=0){if(null!=Ye&&this.delay===Ye&&!1===this.pending)return Ie;null!=Ie&&$.clearInterval(Ie)}execute(qe,Ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ye=this._execute(qe,Ie);if(Ye)return Ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(qe,Ie){let ge,Ye=!1;try{this.work(qe)}catch(Te){Ye=!0,ge=Te||new Error("Scheduled action threw falsy error")}if(Ye)return this.unsubscribe(),ge}unsubscribe(){if(!this.closed){const{id:qe,scheduler:Ie}=this,{actions:Ye}=Ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Me.P)(Ye,this),null!=qe&&(this.id=this.recycleAsyncId(Ie,qe,null)),this.delay=null,super.unsubscribe()}}}},7565:(_n,at,q)=>{q.d(at,{v:()=>$});var R=q(6063);class ee{constructor(xe,Ke=ee.now){this.schedulerActionCtor=xe,this.now=Ke}schedule(xe,Ke=0,qe){return new this.schedulerActionCtor(this,xe).schedule(qe,Ke)}}ee.now=R.l.now;class $ extends ee{constructor(xe,Ke=ee.now){super(xe,Ke),this.actions=[],this._active=!1}flush(xe){const{actions:Ke}=this;if(this._active)return void Ke.push(xe);let qe;this._active=!0;do{if(qe=xe.execute(xe.state,xe.delay))break}while(xe=Ke.shift());if(this._active=!1,qe){for(;xe=Ke.shift();)xe.unsubscribe();throw qe}}}},4986:(_n,at,q)=>{q.d(at,{z:()=>$});var R=q(4408);const $=new(q(7565).v)(R.o)},6063:(_n,at,q)=>{q.d(at,{l:()=>R});const R={now:()=>(R.delegate||Date).now(),delegate:void 0}},3410:(_n,at,q)=>{q.d(at,{z:()=>R});const R={setTimeout(ee,$,...Me){const{delegate:xe}=R;return xe?.setTimeout?xe.setTimeout(ee,$,...Me):setTimeout(ee,$,...Me)},clearTimeout(ee){const{delegate:$}=R;return($?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},2202:(_n,at,q)=>{q.d(at,{h:()=>ee});const ee=function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(_n,at,q)=>{q.d(at,{L:()=>R});const R="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(_n,at,q)=>{q.d(at,{K:()=>ee});const ee=(0,q(3888).d)($=>function(){$(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(_n,at,q)=>{q.d(at,{_6:()=>Ke,jO:()=>Me,yG:()=>xe});var R=q(576);function $(qe){return qe[qe.length-1]}function Me(qe){return(0,R.m)($(qe))?qe.pop():void 0}function xe(qe){return function ee(qe){return qe&&(0,R.m)(qe.schedule)}($(qe))?qe.pop():void 0}function Ke(qe,Ie){return"number"==typeof $(qe)?qe.pop():Ie}},4742:(_n,at,q)=>{q.d(at,{D:()=>xe});const{isArray:R}=Array,{getPrototypeOf:ee,prototype:$,keys:Me}=Object;function xe(qe){if(1===qe.length){const Ie=qe[0];if(R(Ie))return{args:Ie,keys:null};if(function Ke(qe){return qe&&"object"==typeof qe&&ee(qe)===$}(Ie)){const Ye=Me(Ie);return{args:Ye.map(ge=>Ie[ge]),keys:Ye}}}return{args:qe,keys:null}}},8737:(_n,at,q)=>{function R(ee,$){if(ee){const Me=ee.indexOf($);0<=Me&&ee.splice(Me,1)}}q.d(at,{P:()=>R})},3888:(_n,at,q)=>{function R(ee){const Me=ee(xe=>{Error.call(xe),xe.stack=(new Error).stack});return Me.prototype=Object.create(Error.prototype),Me.prototype.constructor=Me,Me}q.d(at,{d:()=>R})},1810:(_n,at,q)=>{function R(ee,$){return ee.reduce((Me,xe,Ke)=>(Me[xe]=$[Ke],Me),{})}q.d(at,{n:()=>R})},2806:(_n,at,q)=>{q.d(at,{O:()=>Me,x:()=>$});var R=q(2416);let ee=null;function $(xe){if(R.v.useDeprecatedSynchronousErrorHandling){const Ke=!ee;if(Ke&&(ee={errorThrown:!1,error:null}),xe(),Ke){const{errorThrown:qe,error:Ie}=ee;if(ee=null,qe)throw Ie}}else xe()}function Me(xe){R.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=xe)}},9672:(_n,at,q)=>{function R(ee,$,Me,xe=0,Ke=!1){const qe=$.schedule(function(){Me(),Ke?ee.add(this.schedule(null,xe)):this.unsubscribe()},xe);if(ee.add(qe),!Ke)return qe}q.d(at,{f:()=>R})},4671:(_n,at,q)=>{function R(ee){return ee}q.d(at,{y:()=>R})},1144:(_n,at,q)=>{q.d(at,{z:()=>R});const R=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(_n,at,q)=>{q.d(at,{D:()=>ee});var R=q(576);function ee($){return Symbol.asyncIterator&&(0,R.m)($?.[Symbol.asyncIterator])}},576:(_n,at,q)=>{function R(ee){return"function"==typeof ee}q.d(at,{m:()=>R})},3670:(_n,at,q)=>{q.d(at,{c:()=>$});var R=q(8822),ee=q(576);function $(Me){return(0,ee.m)(Me[R.L])}},6495:(_n,at,q)=>{q.d(at,{T:()=>$});var R=q(2202),ee=q(576);function $(Me){return(0,ee.m)(Me?.[R.h])}},8239:(_n,at,q)=>{q.d(at,{t:()=>ee});var R=q(576);function ee($){return(0,R.m)($?.then)}},3260:(_n,at,q)=>{q.d(at,{L:()=>Me,Q:()=>$});var R=q(7582),ee=q(576);function $(xe){return(0,R.FC)(this,arguments,function*(){const qe=xe.getReader();try{for(;;){const{value:Ie,done:Ye}=yield(0,R.qq)(qe.read());if(Ye)return yield(0,R.qq)(void 0);yield yield(0,R.qq)(Ie)}}finally{qe.releaseLock()}})}function Me(xe){return(0,ee.m)(xe?.getReader)}},4482:(_n,at,q)=>{q.d(at,{A:()=>ee,e:()=>$});var R=q(576);function ee(Me){return(0,R.m)(Me?.lift)}function $(Me){return xe=>{if(ee(xe))return xe.lift(function(Ke){try{return Me(Ke,this)}catch(qe){this.error(qe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(_n,at,q)=>{q.d(at,{Z:()=>Me});var R=q(4004);const{isArray:ee}=Array;function Me(xe){return(0,R.U)(Ke=>function $(xe,Ke){return ee(Ke)?xe(...Ke):xe(Ke)}(xe,Ke))}},5032:(_n,at,q)=>{function R(){}q.d(at,{Z:()=>R})},9635:(_n,at,q)=>{q.d(at,{U:()=>$,z:()=>ee});var R=q(4671);function ee(...Me){return $(Me)}function $(Me){return 0===Me.length?R.y:1===Me.length?Me[0]:function(Ke){return Me.reduce((qe,Ie)=>Ie(qe),Ke)}}},7849:(_n,at,q)=>{q.d(at,{h:()=>$});var R=q(2416),ee=q(3410);function $(Me){ee.z.setTimeout(()=>{const{onUnhandledError:xe}=R.v;if(!xe)throw Me;xe(Me)})}},4532:(_n,at,q)=>{function R(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}q.d(at,{z:()=>R})},7340:(_n,at,q)=>{q.d(at,{EY:()=>Xt,F4:()=>ge,IO:()=>Ot,LC:()=>ee,X$:()=>Me,ZE:()=>At,ZN:()=>ut,_j:()=>R,eR:()=>Te,jt:()=>xe,k1:()=>mt,l3:()=>$,oB:()=>Ie,vP:()=>qe});class R{}class ee{}const $="*";function Me(Ze,Oe){return{type:7,name:Ze,definitions:Oe,options:{}}}function xe(Ze,Oe=null){return{type:4,styles:Oe,timings:Ze}}function qe(Ze,Oe=null){return{type:2,steps:Ze,options:Oe}}function Ie(Ze){return{type:6,styles:Ze,offset:null}}function ge(Ze){return{type:5,steps:Ze}}function Te(Ze,Oe,dt=null){return{type:1,expr:Ze,animation:Oe,options:dt}}function Ot(Ze,Oe,dt=null){return{type:11,selector:Ze,animation:Oe,options:dt}}function Xt(Ze,Oe){return{type:12,timings:Ze,animation:Oe}}function lt(Ze){Promise.resolve().then(Ze)}class ut{constructor(Oe=0,dt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Oe+dt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Oe=>Oe()),this._onDoneFns=[])}onStart(Oe){this._originalOnStartFns.push(Oe),this._onStartFns.push(Oe)}onDone(Oe){this._originalOnDoneFns.push(Oe),this._onDoneFns.push(Oe)}onDestroy(Oe){this._onDestroyFns.push(Oe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){lt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Oe=>Oe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Oe=>Oe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Oe){this._position=this.totalTime?Oe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Oe){const dt="start"==Oe?this._onStartFns:this._onDoneFns;dt.forEach(Rt=>Rt()),dt.length=0}}class At{constructor(Oe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Oe;let dt=0,Rt=0,_t=0;const Be=this.players.length;0==Be?lt(()=>this._onFinish()):this.players.forEach(se=>{se.onDone(()=>{++dt==Be&&this._onFinish()}),se.onDestroy(()=>{++Rt==Be&&this._onDestroy()}),se.onStart(()=>{++_t==Be&&this._onStart()})}),this.totalTime=this.players.reduce((se,Kt)=>Math.max(se,Kt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Oe=>Oe()),this._onDoneFns=[])}init(){this.players.forEach(Oe=>Oe.init())}onStart(Oe){this._onStartFns.push(Oe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Oe=>Oe()),this._onStartFns=[])}onDone(Oe){this._onDoneFns.push(Oe)}onDestroy(Oe){this._onDestroyFns.push(Oe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Oe=>Oe.play())}pause(){this.players.forEach(Oe=>Oe.pause())}restart(){this.players.forEach(Oe=>Oe.restart())}finish(){this._onFinish(),this.players.forEach(Oe=>Oe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Oe=>Oe.destroy()),this._onDestroyFns.forEach(Oe=>Oe()),this._onDestroyFns=[])}reset(){this.players.forEach(Oe=>Oe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Oe){const dt=Oe*this.totalTime;this.players.forEach(Rt=>{const _t=Rt.totalTime?Math.min(1,dt/Rt.totalTime):1;Rt.setPosition(_t)})}getPosition(){const Oe=this.players.reduce((dt,Rt)=>null===dt||Rt.totalTime>dt.totalTime?Rt:dt,null);return null!=Oe?Oe.getPosition():0}beforeDestroy(){this.players.forEach(Oe=>{Oe.beforeDestroy&&Oe.beforeDestroy()})}triggerCallback(Oe){const dt="start"==Oe?this._onStartFns:this._onDoneFns;dt.forEach(Rt=>Rt()),dt.length=0}}const mt="!"},6895:(_n,at,q)=>{q.d(at,{Do:()=>At,EM:()=>ms,HT:()=>Me,JF:()=>ua,K0:()=>Ke,Mx:()=>ts,O5:()=>ke,Ov:()=>lr,PM:()=>Ws,S$:()=>Xt,V_:()=>Ye,Ye:()=>mt,b0:()=>ut,bD:()=>nl,ez:()=>Qo,mk:()=>ar,q:()=>$,sg:()=>Go,uU:()=>Un,w_:()=>xe});var R=q(4650);let ee=null;function $(){return ee}function Me(L){ee||(ee=L)}class xe{}const Ke=new R.OlP("DocumentToken");let qe=(()=>{class L{historyGo(B){throw new Error("Not implemented")}}return L.\u0275fac=function(B){return new(B||L)},L.\u0275prov=R.Yz7({token:L,factory:function(){return function Ie(){return(0,R.LFG)(ge)}()},providedIn:"platform"}),L})();const Ye=new R.OlP("Location Initialized");let ge=(()=>{class L extends qe{constructor(B){super(),this._doc=B,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(B){const te=$().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",B,!1),()=>te.removeEventListener("popstate",B)}onHashChange(B){const te=$().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",B,!1),()=>te.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,te,Ee){Te()?this._history.pushState(B,te,Ee):this._location.hash=Ee}replaceState(B,te,Ee){Te()?this._history.replaceState(B,te,Ee):this._location.hash=Ee}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return L.\u0275fac=function(B){return new(B||L)(R.LFG(Ke))},L.\u0275prov=R.Yz7({token:L,factory:function(){return function Ne(){return new ge((0,R.LFG)(Ke))}()},providedIn:"platform"}),L})();function Te(){return!!window.history.pushState}function ft(L,G){if(0==L.length)return G;if(0==G.length)return L;let B=0;return L.endsWith("/")&&B++,G.startsWith("/")&&B++,2==B?L+G.substring(1):1==B?L+G:L+"/"+G}function wt(L){const G=L.match(/#|\?|$/),B=G&&G.index||L.length;return L.slice(0,B-("/"===L[B-1]?1:0))+L.slice(B)}function Ot(L){return L&&"?"!==L[0]?"?"+L:L}let Xt=(()=>{class L{historyGo(B){throw new Error("Not implemented")}}return L.\u0275fac=function(B){return new(B||L)},L.\u0275prov=R.Yz7({token:L,factory:function(){return(0,R.f3M)(ut)},providedIn:"root"}),L})();const lt=new R.OlP("appBaseHref");let ut=(()=>{class L extends Xt{constructor(B,te){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=te??this._platformLocation.getBaseHrefFromDOM()??(0,R.f3M)(Ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return ft(this._baseHref,B)}path(B=!1){const te=this._platformLocation.pathname+Ot(this._platformLocation.search),Ee=this._platformLocation.hash;return Ee&&B?`${te}${Ee}`:te}pushState(B,te,Ee,st){const Ct=this.prepareExternalUrl(Ee+Ot(st));this._platformLocation.pushState(B,te,Ct)}replaceState(B,te,Ee,st){const Ct=this.prepareExternalUrl(Ee+Ot(st));this._platformLocation.replaceState(B,te,Ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return L.\u0275fac=function(B){return new(B||L)(R.LFG(qe),R.LFG(lt,8))},L.\u0275prov=R.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})(),At=(()=>{class L extends Xt{constructor(B,te){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(B){const te=ft(this._baseHref,B);return te.length>0?"#"+te:te}pushState(B,te,Ee,st){let Ct=this.prepareExternalUrl(Ee+Ot(st));0==Ct.length&&(Ct=this._platformLocation.pathname),this._platformLocation.pushState(B,te,Ct)}replaceState(B,te,Ee,st){let Ct=this.prepareExternalUrl(Ee+Ot(st));0==Ct.length&&(Ct=this._platformLocation.pathname),this._platformLocation.replaceState(B,te,Ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return L.\u0275fac=function(B){return new(B||L)(R.LFG(qe),R.LFG(lt,8))},L.\u0275prov=R.Yz7({token:L,factory:L.\u0275fac}),L})(),mt=(()=>{class L{constructor(B){this._subject=new R.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const te=this._locationStrategy.getBaseHref();this._basePath=function Rt(L){if(new RegExp("^(https?:)?//").test(L)){const[,B]=L.split(/\/\/[^\/]+/);return B}return L}(wt(dt(te))),this._locationStrategy.onPopState(Ee=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ee.state,type:Ee.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,te=""){return this.path()==this.normalize(B+Ot(te))}normalize(B){return L.stripTrailingSlash(function Oe(L,G){if(!L||!G.startsWith(L))return G;const B=G.substring(L.length);return""===B||["/",";","?","#"].includes(B[0])?B:G}(this._basePath,dt(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,te="",Ee=null){this._locationStrategy.pushState(Ee,"",B,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Ot(te)),Ee)}replaceState(B,te="",Ee=null){this._locationStrategy.replaceState(Ee,"",B,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Ot(te)),Ee)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)})),()=>{const te=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(te,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",te){this._urlChangeListeners.forEach(Ee=>Ee(B,te))}subscribe(B,te,Ee){return this._subject.subscribe({next:B,error:te,complete:Ee})}}return L.normalizeQueryParams=Ot,L.joinWithSlash=ft,L.stripTrailingSlash=wt,L.\u0275fac=function(B){return new(B||L)(R.LFG(Xt))},L.\u0275prov=R.Yz7({token:L,factory:function(){return function Ze(){return new mt((0,R.LFG)(Xt))}()},providedIn:"root"}),L})();function dt(L){return L.replace(/\/index.html$/,"")}var Kt=(()=>((Kt=Kt||{})[Kt.Format=0]="Format",Kt[Kt.Standalone=1]="Standalone",Kt))(),$t=(()=>(($t=$t||{})[$t.Narrow=0]="Narrow",$t[$t.Abbreviated=1]="Abbreviated",$t[$t.Wide=2]="Wide",$t[$t.Short=3]="Short",$t))(),hn=(()=>((hn=hn||{})[hn.Short=0]="Short",hn[hn.Medium=1]="Medium",hn[hn.Long=2]="Long",hn[hn.Full=3]="Full",hn))(),jt=(()=>((jt=jt||{})[jt.Decimal=0]="Decimal",jt[jt.Group=1]="Group",jt[jt.List=2]="List",jt[jt.PercentSign=3]="PercentSign",jt[jt.PlusSign=4]="PlusSign",jt[jt.MinusSign=5]="MinusSign",jt[jt.Exponential=6]="Exponential",jt[jt.SuperscriptingExponent=7]="SuperscriptingExponent",jt[jt.PerMille=8]="PerMille",jt[jt.Infinity=9]="Infinity",jt[jt.NaN=10]="NaN",jt[jt.TimeSeparator=11]="TimeSeparator",jt[jt.CurrencyDecimal=12]="CurrencyDecimal",jt[jt.CurrencyGroup=13]="CurrencyGroup",jt))();function nt(L,G){return Nn((0,R.cg1)(L)[R.wAp.DateFormat],G)}function vt(L,G){return Nn((0,R.cg1)(L)[R.wAp.TimeFormat],G)}function Ft(L,G){return Nn((0,R.cg1)(L)[R.wAp.DateTimeFormat],G)}function rn(L,G){const B=(0,R.cg1)(L),te=B[R.wAp.NumberSymbols][G];if(typeof te>"u"){if(G===jt.CurrencyDecimal)return B[R.wAp.NumberSymbols][jt.Decimal];if(G===jt.CurrencyGroup)return B[R.wAp.NumberSymbols][jt.Group]}return te}function Ar(L){if(!L[R.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${L[R.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Nn(L,G){for(let B=G;B>-1;B--)if(typeof L[B]<"u")return L[B];throw new Error("Locale data API: locale data undefined")}function Ht(L){const[G,B]=L.split(":");return{hours:+G,minutes:+B}}const Ur=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Dr={},gr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var gn=(()=>((gn=gn||{})[gn.Short=0]="Short",gn[gn.ShortGMT=1]="ShortGMT",gn[gn.Long=2]="Long",gn[gn.Extended=3]="Extended",gn))(),tn=(()=>((tn=tn||{})[tn.FullYear=0]="FullYear",tn[tn.Month=1]="Month",tn[tn.Date=2]="Date",tn[tn.Hours=3]="Hours",tn[tn.Minutes=4]="Minutes",tn[tn.Seconds=5]="Seconds",tn[tn.FractionalSeconds=6]="FractionalSeconds",tn[tn.Day=7]="Day",tn))(),Pn=(()=>((Pn=Pn||{})[Pn.DayPeriods=0]="DayPeriods",Pn[Pn.Days=1]="Days",Pn[Pn.Months=2]="Months",Pn[Pn.Eras=3]="Eras",Pn))();function vi(L,G,B,te){let Ee=function ne(L){if(ye(L))return L;if("number"==typeof L&&!isNaN(L))return new Date(L);if("string"==typeof L){if(L=L.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(L)){const[Ee,st=1,Ct=1]=L.split("-").map(qt=>+qt);return fi(Ee,st-1,Ct)}const B=parseFloat(L);if(!isNaN(L-B))return new Date(B);let te;if(te=L.match(Ur))return function Re(L){const G=new Date(0);let B=0,te=0;const Ee=L[8]?G.setUTCFullYear:G.setFullYear,st=L[8]?G.setUTCHours:G.setHours;L[9]&&(B=Number(L[9]+L[10]),te=Number(L[9]+L[11])),Ee.call(G,Number(L[1]),Number(L[2])-1,Number(L[3]));const Ct=Number(L[4]||0)-B,qt=Number(L[5]||0)-te,Sr=Number(L[6]||0),mr=Math.floor(1e3*parseFloat("0."+(L[7]||0)));return st.call(G,Ct,qt,Sr,mr),G}(te)}const G=new Date(L);if(!ye(G))throw new Error(`Unable to convert "${L}" into a date`);return G}(L);G=ei(B,G)||G;let qt,Ct=[];for(;G;){if(qt=gr.exec(G),!qt){Ct.push(G);break}{Ct=Ct.concat(qt.slice(1));const tr=Ct.pop();if(!tr)break;G=tr}}let Sr=Ee.getTimezoneOffset();te&&(Sr=we(te,Sr),Ee=function de(L,G,B){const te=B?-1:1,Ee=L.getTimezoneOffset();return function ae(L,G){return(L=new Date(L.getTime())).setMinutes(L.getMinutes()+G),L}(L,te*(we(G,Ee)-Ee))}(Ee,te,!0));let mr="";return Ct.forEach(tr=>{const wr=function De(L){if(es[L])return es[L];let G;switch(L){case"G":case"GG":case"GGG":G=ir(Pn.Eras,$t.Abbreviated);break;case"GGGG":G=ir(Pn.Eras,$t.Wide);break;case"GGGGG":G=ir(Pn.Eras,$t.Narrow);break;case"y":G=Vn(tn.FullYear,1,0,!1,!0);break;case"yy":G=Vn(tn.FullYear,2,0,!0,!0);break;case"yyy":G=Vn(tn.FullYear,3,0,!1,!0);break;case"yyyy":G=Vn(tn.FullYear,4,0,!1,!0);break;case"Y":G=Wi(1);break;case"YY":G=Wi(2,!0);break;case"YYY":G=Wi(3);break;case"YYYY":G=Wi(4);break;case"M":case"L":G=Vn(tn.Month,1,1);break;case"MM":case"LL":G=Vn(tn.Month,2,1);break;case"MMM":G=ir(Pn.Months,$t.Abbreviated);break;case"MMMM":G=ir(Pn.Months,$t.Wide);break;case"MMMMM":G=ir(Pn.Months,$t.Narrow);break;case"LLL":G=ir(Pn.Months,$t.Abbreviated,Kt.Standalone);break;case"LLLL":G=ir(Pn.Months,$t.Wide,Kt.Standalone);break;case"LLLLL":G=ir(Pn.Months,$t.Narrow,Kt.Standalone);break;case"w":G=zi(1);break;case"ww":G=zi(2);break;case"W":G=zi(1,!0);break;case"d":G=Vn(tn.Date,1);break;case"dd":G=Vn(tn.Date,2);break;case"c":case"cc":G=Vn(tn.Day,1);break;case"ccc":G=ir(Pn.Days,$t.Abbreviated,Kt.Standalone);break;case"cccc":G=ir(Pn.Days,$t.Wide,Kt.Standalone);break;case"ccccc":G=ir(Pn.Days,$t.Narrow,Kt.Standalone);break;case"cccccc":G=ir(Pn.Days,$t.Short,Kt.Standalone);break;case"E":case"EE":case"EEE":G=ir(Pn.Days,$t.Abbreviated);break;case"EEEE":G=ir(Pn.Days,$t.Wide);break;case"EEEEE":G=ir(Pn.Days,$t.Narrow);break;case"EEEEEE":G=ir(Pn.Days,$t.Short);break;case"a":case"aa":case"aaa":G=ir(Pn.DayPeriods,$t.Abbreviated);break;case"aaaa":G=ir(Pn.DayPeriods,$t.Wide);break;case"aaaaa":G=ir(Pn.DayPeriods,$t.Narrow);break;case"b":case"bb":case"bbb":G=ir(Pn.DayPeriods,$t.Abbreviated,Kt.Standalone,!0);break;case"bbbb":G=ir(Pn.DayPeriods,$t.Wide,Kt.Standalone,!0);break;case"bbbbb":G=ir(Pn.DayPeriods,$t.Narrow,Kt.Standalone,!0);break;case"B":case"BB":case"BBB":G=ir(Pn.DayPeriods,$t.Abbreviated,Kt.Format,!0);break;case"BBBB":G=ir(Pn.DayPeriods,$t.Wide,Kt.Format,!0);break;case"BBBBB":G=ir(Pn.DayPeriods,$t.Narrow,Kt.Format,!0);break;case"h":G=Vn(tn.Hours,1,-12);break;case"hh":G=Vn(tn.Hours,2,-12);break;case"H":G=Vn(tn.Hours,1);break;case"HH":G=Vn(tn.Hours,2);break;case"m":G=Vn(tn.Minutes,1);break;case"mm":G=Vn(tn.Minutes,2);break;case"s":G=Vn(tn.Seconds,1);break;case"ss":G=Vn(tn.Seconds,2);break;case"S":G=Vn(tn.FractionalSeconds,1);break;case"SS":G=Vn(tn.FractionalSeconds,2);break;case"SSS":G=Vn(tn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":G=kt(gn.Short);break;case"ZZZZZ":G=kt(gn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":G=kt(gn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":G=kt(gn.Long);break;default:return null}return es[L]=G,G}(tr);mr+=wr?wr(Ee,B,Sr):"''"===tr?"'":tr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),mr}function fi(L,G,B){const te=new Date(0);return te.setFullYear(L,G,B),te.setHours(0,0,0),te}function ei(L,G){const B=function zr(L){return(0,R.cg1)(L)[R.wAp.LocaleId]}(L);if(Dr[B]=Dr[B]||{},Dr[B][G])return Dr[B][G];let te="";switch(G){case"shortDate":te=nt(L,hn.Short);break;case"mediumDate":te=nt(L,hn.Medium);break;case"longDate":te=nt(L,hn.Long);break;case"fullDate":te=nt(L,hn.Full);break;case"shortTime":te=vt(L,hn.Short);break;case"mediumTime":te=vt(L,hn.Medium);break;case"longTime":te=vt(L,hn.Long);break;case"fullTime":te=vt(L,hn.Full);break;case"short":const Ee=ei(L,"shortTime"),st=ei(L,"shortDate");te=Fi(Ft(L,hn.Short),[Ee,st]);break;case"medium":const Ct=ei(L,"mediumTime"),qt=ei(L,"mediumDate");te=Fi(Ft(L,hn.Medium),[Ct,qt]);break;case"long":const Sr=ei(L,"longTime"),mr=ei(L,"longDate");te=Fi(Ft(L,hn.Long),[Sr,mr]);break;case"full":const tr=ei(L,"fullTime"),wr=ei(L,"fullDate");te=Fi(Ft(L,hn.Full),[tr,wr])}return te&&(Dr[B][G]=te),te}function Fi(L,G){return G&&(L=L.replace(/\{([^}]+)}/g,function(B,te){return null!=G&&te in G?G[te]:B})),L}function ti(L,G,B="-",te,Ee){let st="";(L<0||Ee&&L<=0)&&(Ee?L=1-L:(L=-L,st=B));let Ct=String(L);for(;Ct.length<G;)Ct="0"+Ct;return te&&(Ct=Ct.slice(Ct.length-G)),st+Ct}function Vn(L,G,B=0,te=!1,Ee=!1){return function(st,Ct){let qt=function as(L,G){switch(L){case tn.FullYear:return G.getFullYear();case tn.Month:return G.getMonth();case tn.Date:return G.getDate();case tn.Hours:return G.getHours();case tn.Minutes:return G.getMinutes();case tn.Seconds:return G.getSeconds();case tn.FractionalSeconds:return G.getMilliseconds();case tn.Day:return G.getDay();default:throw new Error(`Unknown DateType value "${L}".`)}}(L,st);if((B>0||qt>-B)&&(qt+=B),L===tn.Hours)0===qt&&-12===B&&(qt=12);else if(L===tn.FractionalSeconds)return function Hi(L,G){return ti(L,3).substring(0,G)}(qt,G);const Sr=rn(Ct,jt.MinusSign);return ti(qt,G,Sr,te,Ee)}}function ir(L,G,B=Kt.Format,te=!1){return function(Ee,st){return function cr(L,G,B,te,Ee,st){switch(B){case Pn.Months:return function ze(L,G,B){const te=(0,R.cg1)(L),st=Nn([te[R.wAp.MonthsFormat],te[R.wAp.MonthsStandalone]],G);return Nn(st,B)}(G,Ee,te)[L.getMonth()];case Pn.Days:return function pr(L,G,B){const te=(0,R.cg1)(L),st=Nn([te[R.wAp.DaysFormat],te[R.wAp.DaysStandalone]],G);return Nn(st,B)}(G,Ee,te)[L.getDay()];case Pn.DayPeriods:const Ct=L.getHours(),qt=L.getMinutes();if(st){const mr=function nn(L){const G=(0,R.cg1)(L);return Ar(G),(G[R.wAp.ExtraData][2]||[]).map(te=>"string"==typeof te?Ht(te):[Ht(te[0]),Ht(te[1])])}(G),tr=function Or(L,G,B){const te=(0,R.cg1)(L);Ar(te);const st=Nn([te[R.wAp.ExtraData][0],te[R.wAp.ExtraData][1]],G)||[];return Nn(st,B)||[]}(G,Ee,te),wr=mr.findIndex(bt=>{if(Array.isArray(bt)){const[Qn,Qr]=bt,no=Ct>=Qn.hours&&qt>=Qn.minutes,an=Ct<Qr.hours||Ct===Qr.hours&&qt<Qr.minutes;if(Qn.hours<Qr.hours){if(no&&an)return!0}else if(no||an)return!0}else if(bt.hours===Ct&&bt.minutes===qt)return!0;return!1});if(-1!==wr)return tr[wr]}return function Sn(L,G,B){const te=(0,R.cg1)(L),st=Nn([te[R.wAp.DayPeriodsFormat],te[R.wAp.DayPeriodsStandalone]],G);return Nn(st,B)}(G,Ee,te)[Ct<12?0:1];case Pn.Eras:return function Ve(L,G){return Nn((0,R.cg1)(L)[R.wAp.Eras],G)}(G,te)[L.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(Ee,st,L,G,B,te)}}function kt(L){return function(G,B,te){const Ee=-1*te,st=rn(B,jt.MinusSign),Ct=Ee>0?Math.floor(Ee/60):Math.ceil(Ee/60);switch(L){case gn.Short:return(Ee>=0?"+":"")+ti(Ct,2,st)+ti(Math.abs(Ee%60),2,st);case gn.ShortGMT:return"GMT"+(Ee>=0?"+":"")+ti(Ct,1,st);case gn.Long:return"GMT"+(Ee>=0?"+":"")+ti(Ct,2,st)+":"+ti(Math.abs(Ee%60),2,st);case gn.Extended:return 0===te?"Z":(Ee>=0?"+":"")+ti(Ct,2,st)+":"+ti(Math.abs(Ee%60),2,st);default:throw new Error(`Unknown zone width "${L}"`)}}}const ii=0,pi=4;function Ui(L){return fi(L.getFullYear(),L.getMonth(),L.getDate()+(pi-L.getDay()))}function zi(L,G=!1){return function(B,te){let Ee;if(G){const st=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,Ct=B.getDate();Ee=1+Math.floor((Ct+st)/7)}else{const st=Ui(B),Ct=function Ei(L){const G=fi(L,ii,1).getDay();return fi(L,0,1+(G<=pi?pi:pi+7)-G)}(st.getFullYear()),qt=st.getTime()-Ct.getTime();Ee=1+Math.round(qt/6048e5)}return ti(Ee,L,rn(te,jt.MinusSign))}}function Wi(L,G=!1){return function(B,te){return ti(Ui(B).getFullYear(),L,rn(te,jt.MinusSign),G)}}const es={};function we(L,G){L=L.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+L)/6e4;return isNaN(B)?G:B}function ye(L){return L instanceof Date&&!isNaN(L.valueOf())}function ts(L,G){G=encodeURIComponent(G);for(const B of L.split(";")){const te=B.indexOf("="),[Ee,st]=-1==te?[B,""]:[B.slice(0,te),B.slice(te+1)];if(Ee.trim()===G)return decodeURIComponent(st)}return null}const Di=/\s+/,on=[];let ar=(()=>{class L{constructor(B,te,Ee,st){this._iterableDiffers=B,this._keyValueDiffers=te,this._ngEl=Ee,this._renderer=st,this.initialClasses=on,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(Di):on}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(Di):B}ngDoCheck(){for(const te of this.initialClasses)this._updateState(te,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const te of B)this._updateState(te,!0);else if(null!=B)for(const te of Object.keys(B))this._updateState(te,Boolean(B[te]));this._applyStateDiff()}_updateState(B,te){const Ee=this.stateMap.get(B);void 0!==Ee?(Ee.enabled!==te&&(Ee.changed=!0,Ee.enabled=te),Ee.touched=!0):this.stateMap.set(B,{enabled:te,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const te=B[0],Ee=B[1];Ee.changed?(this._toggleClass(te,Ee.enabled),Ee.changed=!1):Ee.touched||(Ee.enabled&&this._toggleClass(te,!1),this.stateMap.delete(te)),Ee.touched=!1}}_toggleClass(B,te){(B=B.trim()).length>0&&B.split(Di).forEach(Ee=>{te?this._renderer.addClass(this._ngEl.nativeElement,Ee):this._renderer.removeClass(this._ngEl.nativeElement,Ee)})}}return L.\u0275fac=function(B){return new(B||L)(R.Y36(R.ZZ4),R.Y36(R.aQg),R.Y36(R.SBq),R.Y36(R.Qsj))},L.\u0275dir=R.lG2({type:L,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),L})();class Bi{constructor(G,B,te,Ee){this.$implicit=G,this.ngForOf=B,this.index=te,this.count=Ee}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Go=(()=>{class L{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,te,Ee){this._viewContainer=B,this._template=te,this._differs=Ee,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const te=this._viewContainer;B.forEachOperation((Ee,st,Ct)=>{if(null==Ee.previousIndex)te.createEmbeddedView(this._template,new Bi(Ee.item,this._ngForOf,-1,-1),null===Ct?void 0:Ct);else if(null==Ct)te.remove(null===st?void 0:st);else if(null!==st){const qt=te.get(st);te.move(qt,Ct),wi(qt,Ee)}});for(let Ee=0,st=te.length;Ee<st;Ee++){const qt=te.get(Ee).context;qt.index=Ee,qt.count=st,qt.ngForOf=this._ngForOf}B.forEachIdentityChange(Ee=>{wi(te.get(Ee.currentIndex),Ee)})}static ngTemplateContextGuard(B,te){return!0}}return L.\u0275fac=function(B){return new(B||L)(R.Y36(R.s_b),R.Y36(R.Rgc),R.Y36(R.ZZ4))},L.\u0275dir=R.lG2({type:L,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),L})();function wi(L,G){L.context.$implicit=G.item}let ke=(()=>{class L{constructor(B,te){this._viewContainer=B,this._context=new Fe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Dt("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Dt("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,te){return!0}}return L.\u0275fac=function(B){return new(B||L)(R.Y36(R.s_b),R.Y36(R.Rgc))},L.\u0275dir=R.lG2({type:L,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),L})();class Fe{constructor(){this.$implicit=null,this.ngIf=null}}function Dt(L,G){if(G&&!G.createEmbeddedView)throw new Error(`${L} must be a TemplateRef, but received '${(0,R.AaK)(G)}'.`)}function Cs(L,G){return new R.vHH(2100,!1)}class aa{createSubscription(G,B){return G.subscribe({next:B,error:te=>{throw te}})}dispose(G){G.unsubscribe()}}class ao{createSubscription(G,B){return G.then(B,te=>{throw te})}dispose(G){}}const Br=new ao,kr=new aa;let lr=(()=>{class L{constructor(B){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=B}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,te=>this._updateLatestValue(B,te))}_selectStrategy(B){if((0,R.QGY)(B))return Br;if((0,R.F4k)(B))return kr;throw Cs()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,te){B===this._obj&&(this._latestValue=te,this._ref.markForCheck())}}return L.\u0275fac=function(B){return new(B||L)(R.Y36(R.sBO,16))},L.\u0275pipe=R.Yjl({name:"async",type:L,pure:!1,standalone:!0}),L})();const Ko=new R.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),hi=new R.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Un=(()=>{class L{constructor(B,te,Ee){this.locale=B,this.defaultTimezone=te,this.defaultOptions=Ee}transform(B,te,Ee,st){if(null==B||""===B||B!=B)return null;try{return vi(B,te??this.defaultOptions?.dateFormat??"mediumDate",st||this.locale,Ee??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ct){throw Cs()}}}return L.\u0275fac=function(B){return new(B||L)(R.Y36(R.soG,16),R.Y36(Ko,24),R.Y36(hi,24))},L.\u0275pipe=R.Yjl({name:"date",type:L,pure:!0,standalone:!0}),L})(),Qo=(()=>{class L{}return L.\u0275fac=function(B){return new(B||L)},L.\u0275mod=R.oAB({type:L}),L.\u0275inj=R.cJS({}),L})();const nl="browser",zs="server";function Ws(L){return L===zs}let ms=(()=>{class L{}return L.\u0275prov=(0,R.Yz7)({token:L,providedIn:"root",factory:()=>new Ql((0,R.LFG)(Ke),window)}),L})();class Ql{constructor(G,B){this.document=G,this.window=B,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const B=function gu(L,G){const B=L.getElementById(G)||L.getElementsByName(G)[0];if(B)return B;if("function"==typeof L.createTreeWalker&&L.body&&(L.body.createShadowRoot||L.body.attachShadow)){const te=L.createTreeWalker(L.body,NodeFilter.SHOW_ELEMENT);let Ee=te.currentNode;for(;Ee;){const st=Ee.shadowRoot;if(st){const Ct=st.getElementById(G)||st.querySelector(`[name="${G}"]`);if(Ct)return Ct}Ee=te.nextNode()}}return null}(this.document,G);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=G)}}scrollToElement(G){const B=G.getBoundingClientRect(),te=B.left+this.window.pageXOffset,Ee=B.top+this.window.pageYOffset,st=this.offset();this.window.scrollTo(te-st[0],Ee-st[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=Vi(this.window.history)||Vi(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Vi(L){return Object.getOwnPropertyDescriptor(L,"scrollRestoration")}class ua{}},4650:(_n,at,q)=>{q.d(at,{$8M:()=>Ba,$WT:()=>Gi,$Z:()=>Kf,AFp:()=>J0,ALo:()=>w0,AaK:()=>Ie,AsE:()=>qd,CHM:()=>Xl,CRH:()=>P0,CZH:()=>o_,CqO:()=>Mh,D6c:()=>SI,DdM:()=>p0,EJc:()=>Hw,EpF:()=>rp,F4k:()=>eg,FYo:()=>Ti,FiY:()=>yr,GfV:()=>uc,Gpc:()=>Te,JOm:()=>ol,KtG:()=>No,LFG:()=>kt,LSH:()=>dd,Lbi:()=>Bw,Lck:()=>LE,MMx:()=>rv,MR2:()=>Kh,NdJ:()=>tg,O4$:()=>eo,OlP:()=>$r,Oqu:()=>wf,P3R:()=>Lf,PXZ:()=>iI,Q6J:()=>os,QGY:()=>vf,QbO:()=>Vw,Qsj:()=>ta,R0b:()=>Ed,RDi:()=>$s,Rgc:()=>vy,SBq:()=>cn,Sil:()=>Ww,Suo:()=>x0,TTD:()=>Io,TgZ:()=>js,Tol:()=>v_,VKq:()=>g0,X6Q:()=>uI,XFs:()=>Ht,Xpm:()=>bn,Xts:()=>Wl,Y36:()=>mh,YKP:()=>s0,YNc:()=>hl,Yjl:()=>rr,Yz7:()=>rn,Z0I:()=>Fr,ZZ4:()=>Rv,_Bn:()=>r0,_UZ:()=>el,_Vd:()=>pt,_c5:()=>CI,_uU:()=>sy,aQg:()=>xv,c2e:()=>$w,cJS:()=>Jt,cg1:()=>Zy,dDg:()=>eI,dqk:()=>gr,eFA:()=>hE,eJc:()=>fv,ekj:()=>Oy,eoX:()=>lE,f3M:()=>pi,g9A:()=>tE,h0i:()=>wm,hGG:()=>DI,iGM:()=>R0,ifc:()=>de,ip1:()=>X0,jDz:()=>a0,kL8:()=>P_,kcU:()=>Ll,lG2:()=>Kn,lcZ:()=>I0,lqb:()=>Gl,lri:()=>oE,n5z:()=>Fa,oAB:()=>Xe,oxw:()=>sp,q4F:()=>hh,qLn:()=>pd,qOj:()=>tp,qZA:()=>Ra,rWj:()=>aE,s9C:()=>zd,sBO:()=>cI,s_b:()=>r_,soG:()=>a_,tb:()=>cE,tp0:()=>Ao,uIk:()=>dn,vHH:()=>lt,vpe:()=>Lh,wAp:()=>Nr,xi3:()=>T0,xp6:()=>Ag,z2F:()=>l_,zSh:()=>Ld,zs3:()=>Oc});var R=q(7579),ee=q(727),$=q(9751),Me=q(6451),xe=q(3099);function Ke(n){for(let i in n)if(n[i]===Ke)return i;throw Error("Could not find renamed property on target object.")}function qe(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Ie(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ie).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Ye(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const ge=Ke({__forward_ref__:Ke});function Te(n){return n.__forward_ref__=Te,n.toString=function(){return Ie(this())},n}function Ne(n){return ft(n)?n():n}function ft(n){return"function"==typeof n&&n.hasOwnProperty(ge)&&n.__forward_ref__===Te}function wt(n){return n&&!!n.\u0275providers}const Xt="https://g.co/ng/security#xss";class lt extends Error{constructor(i,o){super(ut(i,o)),this.code=i}}function ut(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function At(n){return"string"==typeof n?n:null==n?"":String(n)}function Rt(n,i){throw new lt(-201,!1)}function Qe(n,i){null==n&&function Le(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function rn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Jt(n){return{providers:n.providers||[],imports:n.imports||[]}}function nr(n){return qn(n,nn)||qn(n,Jr)}function Fr(n){return null!==nr(n)}function qn(n,i){return n.hasOwnProperty(i)?n[i]:null}function Ar(n){return n&&(n.hasOwnProperty(Or)||n.hasOwnProperty(Nn))?n[Or]:null}const nn=Ke({\u0275prov:Ke}),Or=Ke({\u0275inj:Ke}),Jr=Ke({ngInjectableDef:Ke}),Nn=Ke({ngInjectorDef:Ke});var Ht=(()=>((Ht=Ht||{})[Ht.Default=0]="Default",Ht[Ht.Host=1]="Host",Ht[Ht.Self=2]="Self",Ht[Ht.SkipSelf=4]="SkipSelf",Ht[Ht.Optional=8]="Optional",Ht))();let Zn;function Er(n){const i=Zn;return Zn=n,i}function Ur(n,i,o){const u=nr(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Ht.Optional?null:void 0!==i?i:void Rt(Ie(n))}const gr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),vi={},fi="__NG_DI_FLAG__",ei="ngTempTokenPath",Fi="ngTokenPath",ti=/\n/gm,Hi="\u0275",Vn="__source";let as;function ir(n){const i=as;return as=n,i}function cr(n,i=Ht.Default){if(void 0===as)throw new lt(-203,!1);return null===as?Ur(n,void 0,i):as.get(n,i&Ht.Optional?null:void 0,i)}function kt(n,i=Ht.Default){return(function Cr(){return Zn}()||cr)(Ne(n),i)}function pi(n,i=Ht.Default){return kt(n,Ei(i))}function Ei(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ui(n){const i=[];for(let o=0;o<n.length;o++){const u=Ne(n[o]);if(Array.isArray(u)){if(0===u.length)throw new lt(900,!1);let p,v=Ht.Default;for(let b=0;b<u.length;b++){const O=u[b],V=Wi(O);"number"==typeof V?-1===V?p=O.token:v|=V:p=O}i.push(kt(p,v))}else i.push(kt(u))}return i}function zi(n,i){return n[fi]=i,n.prototype[fi]=i,n}function Wi(n){return n[fi]}function we(n){return{toString:n}.toString()}var ae=(()=>((ae=ae||{})[ae.OnPush=0]="OnPush",ae[ae.Default=1]="Default",ae))(),de=(()=>{return(n=de||(de={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",de;var n})();const ne={},Re=[],ye=Ke({\u0275cmp:Ke}),_e=Ke({\u0275dir:Ke}),fe=Ke({\u0275pipe:Ke}),Pe=Ke({\u0275mod:Ke}),it=Ke({\u0275fac:Ke}),xt=Ke({__NG_ELEMENT_ID__:Ke});let fn=0;function bn(n){return we(()=>{const i=Ro(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ae.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||de.Emulated,id:"c"+fn++,styles:n.styles||Re,_:null,schemas:n.schemas||null,tView:null};ls(o);const u=n.dependencies;return o.directiveDefs=ts(u,!1),o.pipeDefs=ts(u,!0),o})}function xs(n){return vn(n)||qr(n)}function ct(n){return null!==n}function Xe(n){return we(()=>({type:n.type,bootstrap:n.bootstrap||Re,declarations:n.declarations||Re,imports:n.imports||Re,exports:n.exports||Re,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function mn(n,i){if(null==n)return ne;const o={};for(const u in n)if(n.hasOwnProperty(u)){let p=n[u],v=p;Array.isArray(p)&&(v=p[1],p=p[0]),o[p]=u,i&&(i[p]=v)}return o}function Kn(n){return we(()=>{const i=Ro(n);return ls(i),i})}function rr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function vn(n){return n[ye]||null}function qr(n){return n[_e]||null}function Tr(n){return n[fe]||null}function Gi(n){const i=vn(n)||qr(n)||Tr(n);return null!==i&&i.standalone}function Mi(n,i){const o=n[Pe]||null;if(!o&&!0===i)throw new Error(`Type ${Ie(n)} does not have '\u0275mod' property.`);return o}function Ro(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Re,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mn(n.inputs,i),outputs:mn(n.outputs)}}function ls(n){n.features?.forEach(i=>i(n))}function ts(n,i){if(!n)return null;const o=i?Tr:xs;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(ct)}const Di=0,on=1,ar=2,Gr=3,Rr=4,xo=5,Bi=6,Go=7,wi=8,je=9,ke=10,Fe=11,Dt=12,Nt=13,Fn=14,sr=15,Tn=16,xr=17,us=18,ws=19,cs=20,Ki=21,gi=22,aa=1,ao=2,Br=7,kr=8,lr=9,Si=10;function ps(n){return Array.isArray(n)&&"object"==typeof n[aa]}function qi(n){return Array.isArray(n)&&!0===n[aa]}function ds(n){return 0!=(4&n.flags)}function Ko(n){return n.componentOffset>-1}function hi(n){return 1==(1&n.flags)}function Un(n){return!!n.template}function Yn(n){return 0!=(256&n[ar])}function Xo(n,i){return n.hasOwnProperty(it)?n[it]:null}class gs{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Io(){return ms}function ms(n){return n.type.prototype.ngOnChanges&&(n.setInput=Vi),Ql}function Ql(){const n=la(this),i=n?.current;if(i){const o=n.previous;if(o===ne)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function Vi(n,i,o,u){const p=this.declaredInputs[o],v=la(n)||function ua(n,i){return n[gu]=i}(n,{previous:ne,current:null}),b=v.current||(v.current={}),O=v.previous,V=O[p];b[p]=new gs(V&&V.currentValue,i,O===ne),n[u]=i}Io.ngInherit=!0;const gu="__ngSimpleChanges__";function la(n){return n[gu]||null}const Ni=function(n,i,o){},ca="svg";function Ai(n){for(;Array.isArray(n);)n=n[Di];return n}function yl(n,i){return Ai(i[n])}function Vr(n,i){return Ai(i[n.index])}function ai(n,i){return n.data[i]}function Gs(n,i){return n[i]}function Ds(n,i){const o=i[n];return ps(o)?o:o[Di]}function bo(n){return 64==(64&n[ar])}function hs(n,i){return null==i?null:n[i]}function Ys(n){n[us]=0}function Bn(n,i){n[xo]+=i;let o=n,u=n[Gr];for(;null!==u&&(1===i&&1===o[xo]||-1===i&&0===o[xo]);)u[xo]+=i,o=u,u=u[Gr]}const or={lFrame:Fo(null),bindingsEnabled:!0};function Jo(){return or.bindingsEnabled}function ot(){return or.lFrame.lView}function Gn(){return or.lFrame.tView}function Xl(n){return or.lFrame.contextLView=n,n[wi]}function No(n){return or.lFrame.contextLView=null,n}function Oi(){let n=mu();for(;null!==n&&64===n.type;)n=n.parent;return n}function mu(){return or.lFrame.currentTNode}function Qs(n,i){const o=or.lFrame;o.currentTNode=n,o.isParent=i}function Jl(){return or.lFrame.isParent}function Ss(){const n=or.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function ko(){return or.lFrame.bindingIndex++}function Ls(n){const i=or.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function Pa(n,i){const o=or.lFrame;o.bindingIndex=o.bindingRootIndex=n,$i(i)}function $i(n){or.lFrame.currentDirectiveIndex=n}function pa(){return or.lFrame.currentQueryIndex}function Yr(n){or.lFrame.currentQueryIndex=n}function ho(n){const i=n[on];return 2===i.type?i.declTNode:1===i.type?n[Bi]:null}function Ma(n,i,o){if(o&Ht.SkipSelf){let p=i,v=n;for(;!(p=p.parent,null!==p||o&Ht.Host||(p=ho(v),null===p||(v=v[sr],10&p.type))););if(null===p)return!1;i=p,n=v}const u=or.lFrame=Ms();return u.currentTNode=i,u.lView=n,!0}function Ps(n){const i=Ms(),o=n[on];or.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Ms(){const n=or.lFrame,i=null===n?null:n.child;return null===i?Fo(n):i}function Fo(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function ns(){const n=or.lFrame;return or.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Do=ns;function ga(){const n=ns();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function br(){return or.lFrame.selectedIndex}function _s(n){or.lFrame.selectedIndex=n}function li(){const n=or.lFrame;return ai(n.tView,n.selectedIndex)}function eo(){or.lFrame.currentNamespace=ca}function Ll(){!function eu(){or.lFrame.currentNamespace=null}()}function El(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const v=n.data[o].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:O,ngAfterViewInit:V,ngAfterViewChecked:K,ngOnDestroy:oe}=v;b&&(n.contentHooks??(n.contentHooks=[])).push(-o,b),O&&((n.contentHooks??(n.contentHooks=[])).push(o,O),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,O)),V&&(n.viewHooks??(n.viewHooks=[])).push(-o,V),K&&((n.viewHooks??(n.viewHooks=[])).push(o,K),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,K)),null!=oe&&(n.destroyHooks??(n.destroyHooks=[])).push(o,oe)}}function ru(n,i,o){G(n,i,3,o)}function Na(n,i,o,u){(3&n[ar])===o&&G(n,i,o,u)}function L(n,i){let o=n[ar];(3&o)===i&&(o&=2047,o+=1,n[ar]=o)}function G(n,i,o,u){const v=u??-1,b=i.length-1;let O=0;for(let V=void 0!==u?65535&n[us]:0;V<b;V++)if("number"==typeof i[V+1]){if(O=i[V],null!=u&&O>=u)break}else i[V]<0&&(n[us]+=65536),(O<v||-1==v)&&(B(n,o,i,V),n[us]=(4294901760&n[us])+V+2),V++}function B(n,i,o,u){const p=o[u]<0,v=o[u+1],O=n[p?-o[u]:o[u]];if(p){if(n[ar]>>11<n[us]>>16&&(3&n[ar])===i){n[ar]+=2048,Ni(4,O,v);try{v.call(O)}finally{Ni(5,O,v)}}}else{Ni(4,O,v);try{v.call(O)}finally{Ni(5,O,v)}}}const te=-1;class Ee{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Qn(n,i,o){let u=0;for(;u<o.length;){const p=o[u];if("number"==typeof p){if(0!==p)break;u++;const v=o[u++],b=o[u++],O=o[u++];n.setAttribute(i,b,O,v)}else{const v=p,b=o[++u];no(v)?n.setProperty(i,v,b):n.setAttribute(i,v,b),u++}}return u}function Qr(n){return 3===n||4===n||6===n}function no(n){return 64===n.charCodeAt(0)}function an(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const p=i[u];"number"==typeof p?o=p:0===o||En(n,o,p,null,-1===o||2===o?i[++u]:null)}}return n}function En(n,i,o,u,p){let v=0,b=n.length;if(-1===i)b=-1;else for(;v<n.length;){const O=n[v++];if("number"==typeof O){if(O===i){b=-1;break}if(O>i){b=v-1;break}}}for(;v<n.length;){const O=n[v];if("number"==typeof O)break;if(O===o){if(null===u)return void(null!==p&&(n[v+1]=p));if(u===n[v+1])return void(n[v+2]=p)}v++,null!==u&&v++,null!==p&&v++}-1!==b&&(n.splice(b,0,i),v=b+1),n.splice(v++,0,o),null!==u&&n.splice(v++,0,u),null!==p&&n.splice(v++,0,p)}function Yi(n){return n!==te}function zt(n){return 32767&n}function Et(n,i){let o=function Je(n){return n>>16}(n),u=i;for(;o>0;)u=u[sr],o--;return u}let Ii=!0;function Oa(n){const i=Ii;return Ii=n,i}const wl=255,Fl=5;let Ul=0;const ro={};function Il(n,i){const o=_c(n,i);if(-1!==o)return o;const u=i[on];u.firstCreatePass&&(n.injectorIndex=i.length,ka(u.data,n),ka(i,null),ka(u.blueprint,null));const p=Qi(n,i),v=n.injectorIndex;if(Yi(p)){const b=zt(p),O=Et(p,i),V=O[on].data;for(let K=0;K<8;K++)i[v+K]=O[b+K]|V[b+K]}return i[v+8]=p,v}function ka(n,i){n.push(0,0,0,0,0,0,0,0,i)}function _c(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Qi(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,p=i;for(;null!==p;){if(u=Ua(p),null===u)return te;if(o++,p=p[sr],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return te}function Cn(n,i,o){!function Uc(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(xt)&&(u=o[xt]),null==u&&(u=o[xt]=Ul++);const p=u&wl;i.data[n+(p>>Fl)]|=1<<p}(n,i,o)}function Bl(n,i,o){if(o&Ht.Optional||void 0!==n)return n;Rt()}function ui(n,i,o,u){if(o&Ht.Optional&&void 0===u&&(u=null),!(o&(Ht.Self|Ht.Host))){const p=n[je],v=Er(void 0);try{return p?p.get(i,u,o&Ht.Optional):Ur(i,u,o&Ht.Optional)}finally{Er(v)}}return Bl(u,0,o)}function Ln(n,i,o,u=Ht.Default,p){if(null!==n){if(1024&i[ar]){const b=function iu(n,i,o,u,p){let v=n,b=i;for(;null!==v&&null!==b&&1024&b[ar]&&!(256&b[ar]);){const O=Vl(v,b,o,u|Ht.Self,ro);if(O!==ro)return O;let V=v.parent;if(!V){const K=b[Ki];if(K){const oe=K.get(o,ro,u);if(oe!==ro)return oe}V=Ua(b),b=b[sr]}v=V}return p}(n,i,o,u,ro);if(b!==ro)return b}const v=Vl(n,i,o,u,ro);if(v!==ro)return v}return ui(i,o,u,p)}function Vl(n,i,o,u,p){const v=function sn(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(xt)?n[xt]:void 0;return"number"==typeof i?i>=0?i&wl:La:i}(o);if("function"==typeof v){if(!Ma(i,n,u))return u&Ht.Host?Bl(p,0,u):ui(i,o,u,p);try{const b=v(u);if(null!=b||u&Ht.Optional)return b;Rt()}finally{Do()}}else if("number"==typeof v){let b=null,O=_c(n,i),V=te,K=u&Ht.Host?i[Tn][Bi]:null;for((-1===O||u&Ht.SkipSelf)&&(V=-1===O?Qi(n,i):i[O+8],V!==te&&Tl(u,!1)?(b=i[on],O=zt(V),i=Et(V,i)):O=-1);-1!==O;){const oe=i[on];if(Uo(v,O,oe.data)){const ve=Xn(O,i,o,b,u,K);if(ve!==ro)return ve}V=i[O+8],V!==te&&Tl(u,i[on].data[O+8]===K)&&Uo(v,O,i)?(b=oe,O=zt(V),i=Et(V,i)):O=-1}}return p}function Xn(n,i,o,u,p,v){const b=i[on],O=b.data[n+8],oe=yu(O,b,o,null==u?Ko(O)&&Ii:u!=b&&0!=(3&O.type),p&Ht.Host&&v===O);return null!==oe?Wn(i,b,oe,O):ro}function yu(n,i,o,u,p){const v=n.providerIndexes,b=i.data,O=1048575&v,V=n.directiveStart,oe=v>>20,He=p?O+oe:n.directiveEnd;for(let rt=u?O:O+oe;rt<He;rt++){const Mt=b[rt];if(rt<V&&o===Mt||rt>=V&&Mt.type===o)return rt}if(p){const rt=b[V];if(rt&&Un(rt)&&rt.type===o)return V}return null}function Wn(n,i,o,u){let p=n[o];const v=i.data;if(function st(n){return n instanceof Ee}(p)){const b=p;b.resolving&&function Ze(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new lt(-200,`Circular dependency in DI detected for ${n}${o}`)}(function mt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():At(n)}(v[o]));const O=Oa(b.canSeeViewProviders);b.resolving=!0;const V=b.injectImpl?Er(b.injectImpl):null;Ma(n,u,Ht.Default);try{p=n[o]=b.factory(void 0,v,n,u),i.firstCreatePass&&o>=u.directiveStart&&function nu(n,i,o){const{ngOnChanges:u,ngOnInit:p,ngDoCheck:v}=i.type.prototype;if(u){const b=ms(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,b),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,b)}p&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,p),v&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,v))}(o,v[o],i)}finally{null!==V&&Er(V),Oa(O),b.resolving=!1,Do()}}return p}function Uo(n,i,o){return!!(o[i+(n>>Fl)]&1<<n)}function Tl(n,i){return!(n&Ht.Self||n&Ht.Host&&i)}class Bo{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return Ln(this._tNode,this._lView,i,Ei(u),o)}}function La(){return new Bo(Oi(),ot())}function Fa(n){return we(()=>{const i=n.prototype.constructor,o=i[it]||bl(i),u=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==u;){const v=p[it]||bl(p);if(v&&v!==o)return v;p=Object.getPrototypeOf(p)}return v=>new v})}function bl(n){return ft(n)?()=>{const i=bl(Ne(n));return i&&i()}:Xo(n)}function Ua(n){const i=n[on],o=i.type;return 2===o?i.declTNode:1===o?n[Bi]:null}function Ba(n){return function ma(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let p=0;for(;p<u;){const v=o[p];if(Qr(v))break;if(0===v)p+=2;else if("number"==typeof v)for(p++;p<u&&"string"==typeof o[p];)p++;else{if(v===i)return o[p+1];p+=2}}}return null}(Oi(),n)}const Cl="__parameters__";function io(n,i,o){return we(()=>{const u=function _a(n){return function(...o){if(n){const u=n(...o);for(const p in u)this[p]=u[p]}}}(i);function p(...v){if(this instanceof p)return u.apply(this,v),this;const b=new p(...v);return O.annotation=b,O;function O(V,K,oe){const ve=V.hasOwnProperty(Cl)?V[Cl]:Object.defineProperty(V,Cl,{value:[]})[Cl];for(;ve.length<=oe;)ve.push(null);return(ve[oe]=ve[oe]||[]).push(b),V}}return o&&(p.prototype=Object.create(o.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class $r{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=rn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ja(n,i){n.forEach(o=>Array.isArray(o)?ja(o,i):i(o))}function so(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Vo(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function So(n,i,o){let u=wu(n,i);return u>=0?n[1|u]=o:(u=~u,function jl(n,i,o,u){let p=n.length;if(p==i)n.push(o,u);else if(1===p)n.push(u,n[0]),n[0]=o;else{for(p--,n.push(n[p-1],n[p]);p>i;)n[p]=n[p-2],p--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function sl(n,i){const o=wu(n,i);if(o>=0)return n[1|o]}function wu(n,i){return function A(n,i,o){let u=0,p=n.length>>o;for(;p!==u;){const v=u+(p-u>>1),b=n[v<<o];if(i===b)return v<<o;b>i?p=v:u=v+1}return~(p<<o)}(n,i,1)}const yr=zi(io("Optional"),8),Ao=zi(io("SkipSelf"),4);var ol=(()=>((ol=ol||{})[ol.Important=1]="Important",ol[ol.DashCase=2]="DashCase",ol))();const Bs=new Map;let qa=0;const be="__ngContext__";function Ue(n,i){ps(i)?(n[be]=i[cs],function Su(n){Bs.set(n[cs],n)}(i)):n[be]=i}let Za;function Ya(n,i){return Za(n,i)}function Id(n){const i=n[Gr];return qi(i)?i[Gr]:i}function ll(n){return Vc(n[Nt])}function Wu(n){return Vc(n[Rr])}function Vc(n){for(;null!==n&&!qi(n);)n=n[Rr];return n}function ul(n,i,o,u,p){if(null!=u){let v,b=!1;qi(u)?v=u:ps(u)&&(b=!0,u=u[Di]);const O=Ai(u);0===n&&null!==o?null==p?Ca(i,o,O):jr(i,o,O,p||null,!0):1===n&&null!==o?jr(i,o,O,p||null,!0):2===n?function Uh(n,i,o){const u=mo(n,i);u&&function $c(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,O,b):3===n&&i.destroyNode(O),null!=v&&function mg(n,i,o,u,p){const v=o[Br];v!==Ai(o)&&ul(i,n,u,v,p);for(let O=Si;O<o.length;O++){const V=o[O];Cd(V[on],V,n,i,u,v)}}(i,n,v,o,p)}}function Ic(n,i,o){return n.createElement(i,o)}function M(n,i){const o=n[lr],u=o.indexOf(i),p=i[Gr];512&i[ar]&&(i[ar]&=-513,Bn(p,-1)),o.splice(u,1)}function Q(n,i){if(n.length<=Si)return;const o=Si+i,u=n[o];if(u){const p=u[xr];null!==p&&p!==n&&M(p,u),i>0&&(n[o-1][Rr]=u[Rr]);const v=Vo(n,Si+i);!function Tc(n,i){Cd(n,i,i[Fe],2,null,null),i[Di]=null,i[Bi]=null}(u[on],u);const b=v[ws];null!==b&&b.detachView(v[on]),u[Gr]=null,u[Rr]=null,u[ar]&=-65}return u}function ue(n,i){if(!(128&i[ar])){const o=i[Fe];o.destroyNode&&Cd(n,i,o,3,null,null),function x(n){let i=n[Nt];if(!i)return $e(n[on],n);for(;i;){let o=null;if(ps(i))o=i[Nt];else{const u=i[Si];u&&(o=u)}if(!o){for(;i&&!i[Rr]&&i!==n;)ps(i)&&$e(i[on],i),i=i[Gr];null===i&&(i=n),ps(i)&&$e(i[on],i),o=i&&i[Rr]}i=o}}(i)}}function $e(n,i){if(!(128&i[ar])){i[ar]&=-65,i[ar]|=128,function Qt(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const p=i[o[u]];if(!(p instanceof Ee)){const v=o[u+1];if(Array.isArray(v))for(let b=0;b<v.length;b+=2){const O=p[v[b]],V=v[b+1];Ni(4,O,V);try{V.call(O)}finally{Ni(5,O,V)}}else{Ni(4,p,v);try{v.call(p)}finally{Ni(5,p,v)}}}}}(n,i),function gt(n,i){const o=n.cleanup,u=i[Go];let p=-1;if(null!==o)for(let v=0;v<o.length-1;v+=2)if("string"==typeof o[v]){const b=o[v+3];b>=0?u[p=b]():u[p=-b].unsubscribe(),v+=2}else{const b=u[p=o[v+1]];o[v].call(b)}if(null!==u){for(let v=p+1;v<u.length;v++)(0,u[v])();i[Go]=null}}(n,i),1===i[on].type&&i[Fe].destroy();const o=i[xr];if(null!==o&&qi(i[Gr])){o!==i[Gr]&&M(o,i);const u=i[ws];null!==u&&u.detachView(n)}!function al(n){Bs.delete(n[cs])}(i)}}function pn(n,i,o){return function zn(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[Di];{const{componentOffset:p}=u;if(p>-1){const{encapsulation:v}=n.data[u.directiveStart+p];if(v===de.None||v===de.Emulated)return null}return Vr(u,o)}}(n,i.parent,o)}function jr(n,i,o,u,p){n.insertBefore(i,o,u,p)}function Ca(n,i,o){n.appendChild(i,o)}function zo(n,i,o,u,p){null!==u?jr(n,i,o,u,p):Ca(n,i,o)}function mo(n,i){return n.parentNode(i)}let cl,Ad,rh,Xa=function Da(n,i,o){return 40&n.type?Vr(n,o):null};function jc(n,i,o,u){const p=pn(n,u,i),v=i[Fe],O=function uu(n,i,o){return Xa(n,i,o)}(u.parent||i[Bi],u,i);if(null!=p)if(Array.isArray(o))for(let V=0;V<o.length;V++)zo(v,p,o[V],O,!1);else zo(v,p,o,O,!1);void 0!==cl&&cl(v,u,i,o,p)}function vr(n,i){if(null!==i){const o=i.type;if(3&o)return Vr(i,n);if(4&o)return ld(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return vr(n,u);{const p=n[i.index];return qi(p)?ld(-1,p):Ai(p)}}if(32&o)return Ya(i,n)()||Ai(n[i.index]);{const u=eh(n,i);return null!==u?Array.isArray(u)?u[0]:vr(Id(n[Tn]),u):vr(n,i.next)}}return null}function eh(n,i){return null!==i?n[Tn][Bi].projection[i.projection]:null}function ld(n,i){const o=Si+n+1;if(o<i.length){const u=i[o],p=u[on].firstChild;if(null!==p)return vr(u,p)}return i[Br]}function bd(n,i,o,u,p,v,b){for(;null!=o;){const O=u[o.index],V=o.type;if(b&&0===i&&(O&&Ue(Ai(O),u),o.flags|=2),32!=(32&o.flags))if(8&V)bd(n,i,o.child,u,p,v,!1),ul(i,n,p,O,v);else if(32&V){const K=Ya(o,u);let oe;for(;oe=K();)ul(i,n,p,oe,v);ul(i,n,p,O,v)}else 16&V?dp(n,i,u,o,p,v):ul(i,n,p,O,v);o=b?o.projectionNext:o.next}}function Cd(n,i,o,u,p,v){bd(o,u,n.firstChild,i,p,v,!1)}function dp(n,i,o,u,p,v){const b=o[Tn],V=b[Bi].projection[u.projection];if(Array.isArray(V))for(let K=0;K<V.length;K++)ul(i,n,p,V[K],v);else bd(n,i,V,b[Gr],p,v,!0)}function Ru(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function th(n,i,o){const{mergedAttrs:u,classes:p,styles:v}=o;null!==u&&Qn(n,i,u),null!==p&&Ru(n,i,p),null!==v&&function Cc(n,i,o){n.setAttribute(i,"style",o)}(n,i,v)}function $s(n){Ad=n}function fp(n){return function ih(){if(void 0===rh&&(rh=null,gr.trustedTypes))try{rh=gr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return rh}()?.createScriptURL(n)||n}class Af{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xt})`}}function du(n){return n instanceof Af?n.changingThisBreaksApplicationSecurity:n}function cd(n,i){const o=function Rf(n){return n instanceof Af&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Xt})`)}return o===i}const sh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var oi=(()=>((oi=oi||{})[oi.NONE=0]="NONE",oi[oi.HTML=1]="HTML",oi[oi.STYLE=2]="STYLE",oi[oi.SCRIPT=3]="SCRIPT",oi[oi.URL=4]="URL",oi[oi.RESOURCE_URL=5]="RESOURCE_URL",oi))();function dd(n){const i=lh();return i?i.sanitize(oi.URL,n)||"":cd(n,"URL")?du(n):function Vh(n){return(n=String(n)).match(sh)?n:"unsafe:"+n}(At(n))}function qu(n){const i=lh();if(i)return fp(i.sanitize(oi.RESOURCE_URL,n)||"");if(cd(n,"ResourceURL"))return fp(du(n));throw new lt(904,!1)}function Lf(n,i,o){return function Od(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?qu:dd}(i,o)(n)}function lh(){const n=ot();return n&&n[Dt]}const Wl=new $r("ENVIRONMENT_INITIALIZER"),zc=new $r("INJECTOR",-1),Gh=new $r("INJECTOR_DEF_TYPES");class uh{get(i,o=vi){if(o===vi){const u=new Error(`NullInjectorError: No provider for ${Ie(i)}!`);throw u.name="NullInjectorError",u}return o}}function Kh(n){return{\u0275providers:n}}function qh(...n){return{\u0275providers:Zh(0,n),\u0275fromNgModule:!0}}function Zh(n,...i){const o=[],u=new Set;let p;return ja(i,v=>{const b=v;fs(b,o,[],u)&&(p||(p=[]),p.push(b))}),void 0!==p&&Rs(p,o),o}function Rs(n,i){for(let o=0;o<n.length;o++){const{providers:p}=n[o];kd(p,v=>{i.push(v)})}}function fs(n,i,o,u){if(!(n=Ne(n)))return!1;let p=null,v=Ar(n);const b=!v&&vn(n);if(v||b){if(b&&!b.standalone)return!1;p=n}else{const V=n.ngModule;if(v=Ar(V),!v)return!1;p=V}const O=u.has(p);if(b){if(O)return!1;if(u.add(p),b.dependencies){const V="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const K of V)fs(K,i,o,u)}}else{if(!v)return!1;{if(null!=v.imports&&!O){let K;u.add(p);try{ja(v.imports,oe=>{fs(oe,i,o,u)&&(K||(K=[]),K.push(oe))})}finally{}void 0!==K&&Rs(K,i)}if(!O){const K=Xo(p)||(()=>new p);i.push({provide:p,useFactory:K,deps:Re},{provide:Gh,useValue:p,multi:!0},{provide:Wl,useValue:()=>kt(p),multi:!0})}const V=v.providers;null==V||O||kd(V,oe=>{i.push(oe)})}}return p!==n&&void 0!==n.providers}function kd(n,i){for(let o of n)wt(o)&&(o=o.\u0275providers),Array.isArray(o)?kd(o,i):i(o)}const sc=Ke({provide:String,useValue:Ke});function Ac(n){return null!==n&&"object"==typeof n&&sc in n}function oc(n){return"function"==typeof n}const Ld=new $r("Set Injector scope."),ch={},Ff={};let Wc;function Pu(){return void 0===Wc&&(Wc=new uh),Wc}class Gl{}class ac extends Gl{get destroyed(){return this._destroyed}constructor(i,o,u,p){super(),this.parent=o,this.source=u,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_(i,b=>this.processProvider(b)),this.records.set(zc,Mu(void 0,this)),p.has("environment")&&this.records.set(Gl,Mu(void 0,this));const v=this.records.get(Ld);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(Gh.multi,Re,Ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=ir(this),u=Er(void 0);try{return i()}finally{ir(o),Er(u)}}get(i,o=vi,u=Ht.Default){this.assertNotDestroyed(),u=Ei(u);const p=ir(this),v=Er(void 0);try{if(!(u&Ht.SkipSelf)){let O=this.records.get(i);if(void 0===O){const V=function d(n){return"function"==typeof n||"object"==typeof n&&n instanceof $r}(i)&&nr(i);O=V&&this.injectableDefInScope(V)?Mu(Gc(i),ch):null,this.records.set(i,O)}if(null!=O)return this.hydrate(i,O)}return(u&Ht.Self?Pu():this.parent).get(i,o=u&Ht.Optional&&o===vi?null:o)}catch(b){if("NullInjectorError"===b.name){if((b[ei]=b[ei]||[]).unshift(Ie(i)),p)throw b;return function es(n,i,o,u){const p=n[ei];throw i[Vn]&&p.unshift(i[Vn]),n.message=function De(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Hi?n.slice(2):n;let p=Ie(i);if(Array.isArray(i))p=i.map(Ie).join(" -> ");else if("object"==typeof i){let v=[];for(let b in i)if(i.hasOwnProperty(b)){let O=i[b];v.push(b+":"+("string"==typeof O?JSON.stringify(O):Ie(O)))}p=`{${v.join(", ")}}`}return`${o}${u?"("+u+")":""}[${p}]: ${n.replace(ti,"\n  ")}`}("\n"+n.message,p,o,u),n[Fi]=p,n[ei]=null,n}(b,i,"R3InjectorError",this.source)}throw b}finally{Er(v),ir(p)}}resolveInjectorInitializers(){const i=ir(this),o=Er(void 0);try{const u=this.get(Wl.multi,Re,Ht.Self);for(const p of u)p()}finally{ir(i),Er(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(Ie(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new lt(205,!1)}processProvider(i){let o=oc(i=Ne(i))?i:Ne(i&&i.provide);const u=function dh(n){return Ac(n)?Mu(void 0,n.useValue):Mu(fd(n),ch)}(i);if(oc(i)||!0!==i.multi)this.records.get(o);else{let p=this.records.get(o);p||(p=Mu(void 0,ch,!0),p.factory=()=>Ui(p.multi),this.records.set(o,p)),o=i,p.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===ch&&(o.value=Ff,o.value=o.factory()),"object"==typeof o.value&&o.value&&function c(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Ne(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Gc(n){const i=nr(n),o=null!==i?i.factory:Xo(n);if(null!==o)return o;if(n instanceof $r)throw new lt(204,!1);if(n instanceof Function)return function Kc(n){const i=n.length;if(i>0)throw function $o(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new lt(204,!1);const o=function Hn(n){return n&&(n[nn]||n[Jr])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new lt(204,!1)}function fd(n,i,o){let u;if(oc(n)){const p=Ne(n);return Xo(p)||Gc(p)}if(Ac(n))u=()=>Ne(n.useValue);else if(function Qh(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Ui(n.deps||[]));else if(function Yh(n){return!(!n||!n.useExisting)}(n))u=()=>kt(Ne(n.useExisting));else{const p=Ne(n&&(n.useClass||n.provide));if(!function f(n){return!!n.deps}(n))return Xo(p)||Gc(p);u=()=>new p(...Ui(n.deps))}return u}function Mu(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function _(n,i){for(const o of n)Array.isArray(o)?_(o,i):o&&wt(o)?_(o.\u0275providers,i):i(o)}class D{}class F{}class Se{resolveComponentFactory(i){throw function W(n){const i=Error(`No component factory found for ${Ie(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let pt=(()=>{class n{}return n.NULL=new Se,n})();function It(){return Tt(Oi(),ot())}function Tt(n,i){return new cn(Vr(n,i))}let cn=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=It,n})();function Rn(n){return n instanceof cn?n.nativeElement:n}class Ti{}let ta=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Al(){const n=ot(),o=Ds(Oi().index,n);return(ps(o)?o:n)[Fe]}(),n})(),lc=(()=>{class n{}return n.\u0275prov=rn({token:n,providedIn:"root",factory:()=>null}),n})();class uc{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const hh=new uc("15.2.9"),Uf={},Xh="ngOriginalError";function Bf(n){return n[Xh]}class pd{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Bf(i);for(;o&&Bf(o);)o=Bf(o);return o||null}}function Rc(n){return n instanceof Function?n():n}function Pc(n,i,o){let u=n.length;for(;;){const p=n.indexOf(i,o);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const v=i.length;if(p+v===u||n.charCodeAt(p+v)<=32)return p}o=p+1}}const Fd="ng-template";function xl(n,i,o){let u=0,p=!0;for(;u<n.length;){let v=n[u++];if("string"==typeof v&&p){const b=n[u++];if(o&&"class"===v&&-1!==Pc(b.toLowerCase(),i,0))return!0}else{if(1===v){for(;u<n.length&&"string"==typeof(v=n[u++]);)if(v.toLowerCase()===i)return!0;return!1}"number"==typeof v&&(p=!1)}}return!1}function dc(n){return 4===n.type&&n.value!==Fd}function xm(n,i,o){return i===(4!==n.type||o?n.value:Fd)}function Mc(n,i,o){let u=4;const p=n.attrs||[],v=function $f(n){for(let i=0;i<n.length;i++)if(Qr(n[i]))return i;return n.length}(p);let b=!1;for(let O=0;O<i.length;O++){const V=i[O];if("number"!=typeof V){if(!b)if(4&u){if(u=2|1&u,""!==V&&!xm(n,V,o)||""===V&&1===i.length){if(Zu(u))return!1;b=!0}}else{const K=8&u?V:i[++O];if(8&u&&null!==n.attrs){if(!xl(n.attrs,K,o)){if(Zu(u))return!1;b=!0}continue}const ve=gd(8&u?"class":V,p,dc(n),o);if(-1===ve){if(Zu(u))return!1;b=!0;continue}if(""!==K){let He;He=ve>v?"":p[ve+1].toLowerCase();const rt=8&u?He:null;if(rt&&-1!==Pc(rt,K,0)||2&u&&K!==He){if(Zu(u))return!1;b=!0}}}}else{if(!b&&!Zu(u)&&!Zu(V))return!1;if(b&&Zu(V))continue;b=!1,u=V|1&u}}return Zu(u)||b}function Zu(n){return 0==(1&n)}function gd(n,i,o,u){if(null===i)return-1;let p=0;if(u||!o){let v=!1;for(;p<i.length;){const b=i[p];if(b===n)return p;if(3===b||6===b)v=!0;else{if(1===b||2===b){let O=i[++p];for(;"string"==typeof O;)O=i[++p];continue}if(4===b)break;if(0===b){p+=4;continue}}p+=v?1:2}return-1}return function Dg(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function Vf(n,i,o=!1){for(let u=0;u<i.length;u++)if(Mc(n,i[u],o))return!0;return!1}function Sg(n,i){return n?":not("+i.trim()+")":i}function jf(n){let i=n[0],o=1,u=2,p="",v=!1;for(;o<n.length;){let b=n[o];if("string"==typeof b)if(2&u){const O=n[++o];p+="["+b+(O.length>0?'="'+O+'"':"")+"]"}else 8&u?p+="."+b:4&u&&(p+=" "+b);else""!==p&&!Zu(b)&&(i+=Sg(v,p),p=""),u=b,v=v||!Zu(u);o++}return""!==p&&(i+=Sg(v,p)),i}const Lr={};function Ag(n){Cp(Gn(),ot(),br()+n,!1)}function Cp(n,i,o,u){if(!u)if(3==(3&i[ar])){const v=n.preOrderCheckHooks;null!==v&&ru(i,v,o)}else{const v=n.preOrderHooks;null!==v&&Na(i,v,0,o)}_s(o)}function na(n,i=null,o=null,u){const p=Rp(n,i,o,u);return p.resolveInjectorInitializers(),p}function Rp(n,i=null,o=null,u,p=new Set){const v=[o||Re,qh(n)];return u=u||("object"==typeof n?void 0:Ie(n)),new ac(v,i||Pu(),u||null,p)}let Oc=(()=>{class n{static create(o,u){if(Array.isArray(o))return na({name:""},u,o,"");{const p=o.name??"";return na({name:p},o.parent,o.providers,p)}}}return n.THROW_IF_NOT_FOUND=vi,n.NULL=new uh,n.\u0275prov=rn({token:n,providedIn:"any",factory:()=>kt(zc)}),n.__NG_ELEMENT_ID__=-1,n})();function mh(n,i=Ht.Default){const o=ot();return null===o?kt(n,i):Ln(Oi(),o,Ne(n),i)}function Kf(){throw new Error("invalid")}function qf(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const v=o[u+1];if(-1!==v){const b=n.data[v];Yr(o[u]),b.contentQueries(2,i[v],v)}}}function yh(n,i,o,u,p,v,b,O,V,K,oe){const ve=i.blueprint.slice();return ve[Di]=p,ve[ar]=76|u,(null!==oe||n&&1024&n[ar])&&(ve[ar]|=1024),Ys(ve),ve[Gr]=ve[sr]=n,ve[wi]=o,ve[ke]=b||n&&n[ke],ve[Fe]=O||n&&n[Fe],ve[Dt]=V||n&&n[Dt]||null,ve[je]=K||n&&n[je]||null,ve[Bi]=v,ve[cs]=function rs(){return qa++}(),ve[Ki]=oe,ve[Tn]=2==i.type?n[Tn]:ve,ve}function kc(n,i,o,u,p){let v=n.data[i];if(null===v)v=function jd(n,i,o,u,p){const v=mu(),b=Jl(),V=n.data[i]=function Bm(n,i,o,u,p,v){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?v:v&&v.parent,o,i,u,p);return null===n.firstChild&&(n.firstChild=V),null!==v&&(b?null==v.child&&null!==V.parent&&(v.child=V):null===v.next&&(v.next=V,V.prev=v)),V}(n,i,o,u,p),function Xs(){return or.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=o,v.value=u,v.attrs=p;const b=function Oo(){const n=or.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();v.injectorIndex=null===b?-1:b.injectorIndex}return Qs(v,!0),v}function Lc(n,i,o,u){if(0===o)return-1;const p=i.length;for(let v=0;v<o;v++)i.push(u),n.blueprint.push(u),n.data.push(null);return p}function _h(n,i,o){Ps(i);try{const u=n.viewQuery;null!==u&&bh(1,u,o);const p=n.template;null!==p&&uf(n,i,p,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&qf(n,i),n.staticViewQueries&&bh(2,n.viewQuery,o);const v=n.components;null!==v&&function Lp(n,i){for(let o=0;o<i.length;o++)Wg(n,i[o])}(i,v)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[ar]&=-5,ga()}}function Hd(n,i,o,u){const p=i[ar];if(128!=(128&p)){Ps(i);try{Ys(i),function ea(n){return or.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&uf(n,i,o,2,u);const b=3==(3&p);if(b){const K=n.preOrderCheckHooks;null!==K&&ru(i,K,null)}else{const K=n.preOrderHooks;null!==K&&Na(i,K,0,null),L(i,0)}if(function jm(n){for(let i=ll(n);null!==i;i=Wu(i)){if(!i[ao])continue;const o=i[lr];for(let u=0;u<o.length;u++){const p=o[u];512&p[ar]||Bn(p[Gr],1),p[ar]|=512}}}(i),function Hg(n){for(let i=ll(n);null!==i;i=Wu(i))for(let o=Si;o<i.length;o++){const u=i[o],p=u[on];bo(u)&&Hd(p,u,p.template,u[wi])}}(i),null!==n.contentQueries&&qf(n,i),b){const K=n.contentCheckHooks;null!==K&&ru(i,K)}else{const K=n.contentHooks;null!==K&&Na(i,K,1),L(i,1)}!function kg(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const p=o[u];if(p<0)_s(~p);else{const v=p,b=o[++u],O=o[++u];Pa(b,v),O(2,i[v])}}}finally{_s(-1)}}(n,i);const O=n.components;null!==O&&function Lg(n,i){for(let o=0;o<i.length;o++)zg(n,i[o])}(i,O);const V=n.viewQuery;if(null!==V&&bh(2,V,u),b){const K=n.viewCheckHooks;null!==K&&ru(i,K)}else{const K=n.viewHooks;null!==K&&Na(i,K,2),L(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[ar]&=-41,512&i[ar]&&(i[ar]&=-513,Bn(i[Gr],-1))}finally{ga()}}}function uf(n,i,o,u,p){const v=br(),b=2&u;try{_s(-1),b&&i.length>gi&&Cp(n,i,gi,!1),Ni(b?2:0,p),o(u,p)}finally{_s(v),Ni(b?3:1,p)}}function Fp(n,i,o){if(ds(i)){const p=i.directiveEnd;for(let v=i.directiveStart;v<p;v++){const b=n.data[v];b.contentQueries&&b.contentQueries(1,o[v],v)}}}function Fg(n,i,o){Jo()&&(function Yf(n,i,o,u){const p=o.directiveStart,v=o.directiveEnd;Ko(o)&&function $g(n,i,o){const u=Vr(i,n),p=cf(o),v=n[ke],b=md(n,yh(n,p,null,o.onPush?32:16,u,i,v,v.createRenderer(u,o),null,null,null));n[i.index]=b}(i,o,n.data[p+o.componentOffset]),n.firstCreatePass||Il(o,i),Ue(u,i);const b=o.initialInputs;for(let O=p;O<v;O++){const V=n.data[O],K=Wn(i,n,O,o);Ue(K,i),null!==b&&Cy(0,O-p,K,V,0,b),Un(V)&&(Ds(o.index,i)[wi]=Wn(i,n,O,o))}}(n,i,o,Vr(o,i)),64==(64&o.flags)&&wh(n,i,o))}function Up(n,i,o=Vr){const u=i.localNames;if(null!==u){let p=i.index+1;for(let v=0;v<u.length;v+=2){const b=u[v+1],O=-1===b?o(i,n):n[b];n[p++]=O}}}function cf(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Zf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Zf(n,i,o,u,p,v,b,O,V,K){const oe=gi+u,ve=oe+p,He=function wy(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:Lr);return o}(oe,ve),rt="function"==typeof K?K():K;return He[on]={type:n,blueprint:He,template:o,queries:null,viewQuery:O,declTNode:i,data:He.slice().fill(null,oe),bindingStartIndex:oe,expandoStartIndex:ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:V,consts:rt,incompleteFirstPass:!1}}function dl(n,i,o,u){const p=Gg(i);null===o?p.push(u):(p.push(o),n.firstCreatePass&&Qf(n).push(u,p.length-1))}function Bp(n,i,o,u){for(let p in n)if(n.hasOwnProperty(p)){o=null===o?{}:o;const v=n[p];null===u?vh(o,i,p,v):u.hasOwnProperty(p)&&vh(o,i,u[p],v)}return o}function vh(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function Ou(n,i,o,u,p,v,b,O){const V=Vr(i,o);let oe,K=i.inputs;!O&&null!=K&&(oe=K[u])?(Dh(n,o,oe,u,p),Ko(i)&&function Iy(n,i){const o=Ds(i,n);16&o[ar]||(o[ar]|=32)}(o,i.index)):3&i.type&&(u=function Vp(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),p=null!=b?b(p,i.value||"",u):p,v.setProperty(V,u,p))}function $p(n,i,o,u){if(Jo()){const p=null===u?null:{"":-1},v=function jp(n,i){const o=n.directiveRegistry;let u=null,p=null;if(o)for(let v=0;v<o.length;v++){const b=o[v];if(Vf(i,b.selectors,!1))if(u||(u=[]),Un(b))if(null!==b.findHostDirectiveDefs){const O=[];p=p||new Map,b.findHostDirectiveDefs(b,O,p),u.unshift(...O,b),Th(n,i,O.length)}else u.unshift(b),Th(n,i,0);else p=p||new Map,b.findHostDirectiveDefs?.(b,u,p),u.push(b)}return null===u?null:[u,p]}(n,o);let b,O;null===v?b=O=null:[b,O]=v,null!==b&&Eh(n,i,o,b,p,O),p&&function hf(n,i,o){if(i){const u=n.localNames=[];for(let p=0;p<i.length;p+=2){const v=o[i[p+1]];if(null==v)throw new lt(-301,!1);u.push(i[p],v)}}}(o,u,p)}o.mergedAttrs=an(o.mergedAttrs,o.attrs)}function Eh(n,i,o,u,p,v){for(let K=0;K<u.length;K++)Cn(Il(o,i),n,u[K].type);!function Bg(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let K=0;K<u.length;K++){const oe=u[K];oe.providersResolver&&oe.providersResolver(oe)}let b=!1,O=!1,V=Lc(n,i,u.length,null);for(let K=0;K<u.length;K++){const oe=u[K];o.mergedAttrs=an(o.mergedAttrs,oe.hostAttrs),Vg(n,o,i,V,oe),Hp(V,oe,p),null!==oe.contentQueries&&(o.flags|=4),(null!==oe.hostBindings||null!==oe.hostAttrs||0!==oe.hostVars)&&(o.flags|=64);const ve=oe.type.prototype;!b&&(ve.ngOnChanges||ve.ngOnInit||ve.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),b=!0),!O&&(ve.ngOnChanges||ve.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),O=!0),V++}!function df(n,i,o){const p=i.directiveEnd,v=n.data,b=i.attrs,O=[];let V=null,K=null;for(let oe=i.directiveStart;oe<p;oe++){const ve=v[oe],He=o?o.get(ve):null,Mt=He?He.outputs:null;V=Bp(ve.inputs,oe,V,He?He.inputs:null),K=Bp(ve.outputs,oe,K,Mt);const un=null===V||null===b||dc(i)?null:jg(V,oe,b);O.push(un)}null!==V&&(V.hasOwnProperty("class")&&(i.flags|=8),V.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=O,i.inputs=V,i.outputs=K}(n,o,v)}function wh(n,i,o){const u=o.directiveStart,p=o.directiveEnd,v=o.index,b=function vl(){return or.lFrame.currentDirectiveIndex}();try{_s(v);for(let O=u;O<p;O++){const V=n.data[O],K=i[O];$i(O),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&Ih(V,K)}}finally{_s(-1),$i(b)}}function Ih(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Th(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function Hp(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;Un(i)&&(o[""]=n)}}function Vg(n,i,o,u,p){n.data[u]=p;const v=p.factory||(p.factory=Xo(p.type)),b=new Ee(v,Un(p),mh);n.blueprint[u]=b,o[u]=b,function Ug(n,i,o,u,p){const v=p.hostBindings;if(v){let b=n.hostBindingOpCodes;null===b&&(b=n.hostBindingOpCodes=[]);const O=~i.index;(function Vm(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(b)!=O&&b.push(O),b.push(o,u,v)}}(n,i,u,Lc(n,o,p.hostVars,Lr),p)}function Pl(n,i,o,u,p,v){const b=Vr(n,i);!function zp(n,i,o,u,p,v,b){if(null==v)n.removeAttribute(i,p,o);else{const O=null==b?At(v):b(v,u||"",p);n.setAttribute(i,p,O,o)}}(i[Fe],b,v,n.value,o,u,p)}function Cy(n,i,o,u,p,v){const b=v[i];if(null!==b){const O=u.setInput;for(let V=0;V<b.length;){const K=b[V++],oe=b[V++],ve=b[V++];null!==O?u.setInput(o,ve,K,oe):o[oe]=ve}}}function jg(n,i,o){let u=null,p=0;for(;p<o.length;){const v=o[p];if(0!==v)if(5!==v){if("number"==typeof v)break;if(n.hasOwnProperty(v)){null===u&&(u=[]);const b=n[v];for(let O=0;O<b.length;O+=2)if(b[O]===i){u.push(v,b[O+1],o[p+1]);break}}p+=2}else p+=2;else p+=4}return u}function $m(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function zg(n,i){const o=Ds(i,n);if(bo(o)){const u=o[on];48&o[ar]?Hd(u,o,u.template,o[wi]):o[xo]>0&&ff(o)}}function ff(n){for(let u=ll(n);null!==u;u=Wu(u))for(let p=Si;p<u.length;p++){const v=u[p];if(bo(v))if(512&v[ar]){const b=v[on];Hd(b,v,b.template,v[wi])}else v[xo]>0&&ff(v)}const o=n[on].components;if(null!==o)for(let u=0;u<o.length;u++){const p=Ds(o[u],n);bo(p)&&p[xo]>0&&ff(p)}}function Wg(n,i){const o=Ds(i,n),u=o[on];(function Hm(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),_h(u,o,o[wi])}function md(n,i){return n[Nt]?n[Fn][Rr]=i:n[Nt]=i,n[Fn]=i,i}function pf(n){for(;n;){n[ar]|=32;const i=Id(n);if(Yn(n)&&!i)return n;n=i}return null}function Wp(n,i,o,u=!0){const p=i[ke];p.begin&&p.begin();try{Hd(n,i,n.template,o)}catch(b){throw u&&gf(i,b),b}finally{p.end&&p.end()}}function bh(n,i,o){Yr(0),i(n,o)}function Gg(n){return n[Go]||(n[Go]=[])}function Qf(n){return n.cleanup||(n.cleanup=[])}function gf(n,i){const o=n[je],u=o?o.get(pd,null):null;u&&u.handleError(i)}function Dh(n,i,o,u,p){for(let v=0;v<o.length;){const b=o[v++],O=o[v++],V=i[b],K=n.data[b];null!==K.setInput?K.setInput(V,p,u,O):V[O]=p}}function hc(n,i,o){const u=yl(i,n);!function Jd(n,i,o){n.setValue(i,o)}(n[Fe],u,o)}function Xf(n,i,o){let u=o?n.styles:null,p=o?n.classes:null,v=0;if(null!==i)for(let b=0;b<i.length;b++){const O=i[b];"number"==typeof O?v=O:1==v?p=Ye(p,O):2==v&&(u=Ye(u,O+": "+i[++b]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=p:n.classesWithoutHost=p}function Sh(n,i,o,u,p=!1){for(;null!==o;){const v=i[o.index];if(null!==v&&u.push(Ai(v)),qi(v))for(let O=Si;O<v.length;O++){const V=v[O],K=V[on].firstChild;null!==K&&Sh(V[on],V,K,u)}const b=o.type;if(8&b)Sh(n,i,o.child,u);else if(32&b){const O=Ya(o,i);let V;for(;V=O();)u.push(V)}else if(16&b){const O=eh(i,o);if(Array.isArray(O))u.push(...O);else{const V=Id(i[Tn]);Sh(V[on],V,O,u,!0)}}o=p?o.projectionNext:o.next}return u}class Ah{get rootNodes(){const i=this._lView,o=i[on];return Sh(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wi]}set context(i){this._lView[wi]=i}get destroyed(){return 128==(128&this._lView[ar])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Gr];if(qi(i)){const o=i[kr],u=o?o.indexOf(this):-1;u>-1&&(Q(i,u),Vo(o,u))}this._attachedToViewContainer=!1}ue(this._lView[on],this._lView)}onDestroy(i){dl(this._lView[on],this._lView,null,i)}markForCheck(){pf(this._cdRefInjectingView||this._lView)}detach(){this._lView[ar]&=-65}reattach(){this._lView[ar]|=64}detectChanges(){Wp(this._lView[on],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new lt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Fh(n,i){Cd(n,i,i[Fe],2,null,null)}(this._lView[on],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new lt(902,!1);this._appRef=i}}class Gp extends Ah{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Wp(i[on],i,i[wi],!1)}checkNoChanges(){}get context(){return null}}class mf extends pt{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=vn(i);return new yd(o,this.ngModule)}}function Jf(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class Xc{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=Ei(u);const p=this.injector.get(i,Uf,u);return p!==Uf||o===Uf?p:this.parentInjector.get(i,o,u)}}class yd extends F{get inputs(){return Jf(this.componentDef.inputs)}get outputs(){return Jf(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function qc(n){return n.map(jf).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,p){let v=(p=p||this.ngModule)instanceof Gl?p:p?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const b=v?new Xc(i,v):i,O=b.get(Ti,null);if(null===O)throw new lt(407,!1);const V=b.get(lc,null),K=O.createRenderer(null,this.componentDef),oe=this.componentDef.selectors[0][0]||"div",ve=u?function Um(n,i,o){return n.selectRootElement(i,o===de.ShadowDom)}(K,u,this.componentDef.encapsulation):Ic(K,oe,function Qc(n){const i=n.toLowerCase();return"svg"===i?ca:"math"===i?"math":null}(oe)),He=this.componentDef.onPush?288:272,rt=Zf(0,null,null,1,0,null,null,null,null,null),Mt=yh(null,rt,null,He,null,null,O,K,V,b,null);let un,xn;Ps(Mt);try{const er=this.componentDef;let Hr,Gt=null;er.findHostDirectiveDefs?(Hr=[],Gt=new Map,er.findHostDirectiveDefs(er,Hr,Gt),Hr.push(er)):Hr=[er];const di=function Kp(n,i){const o=n[on],u=gi;return n[u]=i,kc(o,u,2,"#host",null)}(Mt,ve),oa=function xh(n,i,o,u,p,v,b,O){const V=p[on];!function zm(n,i,o,u){for(const p of n)i.mergedAttrs=an(i.mergedAttrs,p.hostAttrs);null!==i.mergedAttrs&&(Xf(i,i.mergedAttrs,!0),null!==o&&th(u,o,i))}(u,n,i,b);const K=v.createRenderer(i,o),oe=yh(p,cf(o),null,o.onPush?32:16,p[n.index],n,v,K,O||null,null,null);return V.firstCreatePass&&Th(V,n,u.length-1),md(p,oe),p[n.index]=oe}(di,ve,er,Hr,Mt,O,K);xn=ai(rt,gi),ve&&function qp(n,i,o,u){if(u)Qn(n,o,["ng-version",hh.full]);else{const{attrs:p,classes:v}=function Nc(n){const i=[],o=[];let u=1,p=2;for(;u<n.length;){let v=n[u];if("string"==typeof v)2===p?""!==v&&i.push(v,n[++u]):8===p&&o.push(v);else{if(!Zu(p))break;p=v}u++}return{attrs:i,classes:o}}(i.selectors[0]);p&&Qn(n,o,p),v&&v.length>0&&Ru(n,o,v.join(" "))}}(K,er,ve,u),void 0!==o&&function Zp(n,i,o){const u=n.projection=[];for(let p=0;p<i.length;p++){const v=o[p];u.push(null!=v?Array.from(v):null)}}(xn,this.ngContentSelectors,o),un=function Wm(n,i,o,u,p,v){const b=Oi(),O=p[on],V=Vr(b,p);Eh(O,p,b,o,null,u);for(let oe=0;oe<o.length;oe++)Ue(Wn(p,O,b.directiveStart+oe,b),p);wh(O,p,b),V&&Ue(V,p);const K=Wn(p,O,b.directiveStart+b.componentOffset,b);if(n[wi]=p[wi]=K,null!==v)for(const oe of v)oe(K,i);return Fp(O,b,n),K}(oa,er,Hr,Gt,Mt,[Yp]),_h(rt,Mt,null)}finally{ga()}return new pu(this.componentType,un,Tt(xn,Mt),Mt,xn)}}class pu extends D{constructor(i,o,u,p,v){super(),this.location=u,this._rootLView=p,this._tNode=v,this.instance=o,this.hostView=this.changeDetectorRef=new Gp(p),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let p;if(null!==u&&(p=u[i])){const v=this._rootLView;Dh(v[on],v,p,i,o),pf(Ds(this._tNode.index,v))}}get injector(){return new Bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Yp(){const n=Oi();El(ot()[on],n)}function tp(n){let i=function ep(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let p;if(Un(n))p=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new lt(903,!1);p=i.\u0275dir}if(p){if(o){u.push(p);const b=n;b.inputs=yf(n.inputs),b.declaredInputs=yf(n.declaredInputs),b.outputs=yf(n.outputs);const O=p.hostBindings;O&&qg(n,O);const V=p.viewQuery,K=p.contentQueries;if(V&&Qp(n,V),K&&Gm(n,K),qe(n.inputs,p.inputs),qe(n.declaredInputs,p.declaredInputs),qe(n.outputs,p.outputs),Un(p)&&p.data.animation){const oe=n.data;oe.animation=(oe.animation||[]).concat(p.data.animation)}}const v=p.features;if(v)for(let b=0;b<v.length;b++){const O=v[b];O&&O.ngInherit&&O(n),O===tp&&(o=!1)}}i=Object.getPrototypeOf(i)}!function np(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const p=n[u];p.hostVars=i+=p.hostVars,p.hostAttrs=an(p.hostAttrs,o=an(o,p.hostAttrs))}}(u)}function yf(n){return n===ne?{}:n===Re?[]:n}function Qp(n,i){const o=n.viewQuery;n.viewQuery=o?(u,p)=>{i(u,p),o(u,p)}:i}function Gm(n,i){const o=n.contentQueries;n.contentQueries=o?(u,p,v)=>{i(u,p,v),o(u,p,v)}:i}function qg(n,i){const o=n.hostBindings;n.hostBindings=o?(u,p)=>{i(u,p),o(u,p)}:i}function j(n){return!!pe(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function pe(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ge(n,i,o){return n[i]=o}function Bt(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function Ut(n,i,o,u){const p=Bt(n,i,o);return Bt(n,i+1,u)||p}function dn(n,i,o,u){const p=ot();return Bt(p,ko(),i)&&(Gn(),Pl(li(),p,n,i,o,u)),dn}function hr(n,i,o,u){return Bt(n,ko(),o)?i+At(o)+u:Lr}function Jn(n,i,o,u,p,v){const O=Ut(n,function As(){return or.lFrame.bindingIndex}(),o,p);return Ls(2),O?i+At(o)+u+At(p)+v:Lr}function hl(n,i,o,u,p,v,b,O){const V=ot(),K=Gn(),oe=n+gi,ve=K.firstCreatePass?function yo(n,i,o,u,p,v,b,O,V){const K=i.consts,oe=kc(i,n,4,b||null,hs(K,O));$p(i,o,oe,hs(K,V)),El(i,oe);const ve=oe.tView=Zf(2,oe,u,p,v,i.directiveRegistry,i.pipeRegistry,null,i.schemas,K);return null!==i.queries&&(i.queries.template(i,oe),ve.queries=i.queries.embeddedTView(oe)),oe}(oe,K,V,i,o,u,p,v,b):K.data[oe];Qs(ve,!1);const He=V[Fe].createComment("");jc(K,V,He,ve),Ue(He,V),md(V,V[oe]=$m(He,V,He,ve)),hi(ve)&&Fg(K,V,ve),null!=b&&Up(V,ve,O)}function os(n,i,o){const u=ot();return Bt(u,ko(),i)&&Ou(Gn(),li(),u,n,i,u[Fe],o,!1),os}function Zl(n,i,o,u,p){const b=p?"class":"style";Dh(n,o,i.inputs[b],b,u)}function js(n,i,o,u){const p=ot(),v=Gn(),b=gi+n,O=p[Fe],V=v.firstCreatePass?function _d(n,i,o,u,p,v){const b=i.consts,V=kc(i,n,2,u,hs(b,p));return $p(i,o,V,hs(b,v)),null!==V.attrs&&Xf(V,V.attrs,!1),null!==V.mergedAttrs&&Xf(V,V.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,V),V}(b,v,p,i,o,u):v.data[b],K=p[b]=Ic(O,i,function tu(){return or.lFrame.currentNamespace}()),oe=hi(V);return Qs(V,!0),th(O,K,V),32!=(32&V.flags)&&jc(v,p,K,V),0===function Ri(){return or.lFrame.elementDepthCount}()&&Ue(K,p),function ha(){or.lFrame.elementDepthCount++}(),oe&&(Fg(v,p,V),Fp(v,V,p)),null!==u&&Up(p,V),js}function Ra(){let n=Oi();Jl()?function kl(){or.lFrame.isParent=!1}():(n=n.parent,Qs(n,!1));const i=n;!function fa(){or.lFrame.elementDepthCount--}();const o=Gn();return o.firstCreatePass&&(El(o,n),ds(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function mr(n){return 0!=(8&n.flags)}(i)&&Zl(o,i,ot(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function tr(n){return 0!=(16&n.flags)}(i)&&Zl(o,i,ot(),i.stylesWithoutHost,!1),Ra}function el(n,i,o,u){return js(n,i,o,u),Ra(),el}function rp(){return ot()}function vf(n){return!!n&&"function"==typeof n.then}function eg(n){return!!n&&"function"==typeof n.subscribe}const Mh=eg;function tg(n,i,o,u){const p=ot(),v=Gn(),b=Oi();return function Fc(n,i,o,u,p,v,b){const O=hi(u),K=n.firstCreatePass&&Qf(n),oe=i[wi],ve=Gg(i);let He=!0;if(3&u.type||b){const un=Vr(u,i),xn=b?b(un):un,er=ve.length,Hr=b?di=>b(Ai(di[u.index])):u.index;let Gt=null;if(!b&&O&&(Gt=function vd(n,i,o,u){const p=n.cleanup;if(null!=p)for(let v=0;v<p.length-1;v+=2){const b=p[v];if(b===o&&p[v+1]===u){const O=i[Go],V=p[v+2];return O.length>V?O[V]:null}"string"==typeof b&&(v+=2)}return null}(n,i,p,u.index)),null!==Gt)(Gt.__ngLastListenerFn__||Gt).__ngNextListenerFn__=v,Gt.__ngLastListenerFn__=v,He=!1;else{v=Nh(u,i,oe,v,!1);const di=o.listen(xn,p,v);ve.push(v,di),K&&K.push(p,Hr,er,er+1)}}else v=Nh(u,i,oe,v,!1);const rt=u.outputs;let Mt;if(He&&null!==rt&&(Mt=rt[p])){const un=Mt.length;if(un)for(let xn=0;xn<un;xn+=2){const oa=i[Mt[xn]][Mt[xn+1]].subscribe(v),gl=ve.length;ve.push(v,oa),K&&K.push(p,u.index,gl,-(gl+1))}}}(v,p,p[Fe],b,n,i,u),tg}function ip(n,i,o,u){try{return Ni(6,i,o),!1!==o(u)}catch(p){return gf(n,p),!1}finally{Ni(7,i,o)}}function Nh(n,i,o,u,p){return function v(b){if(b===Function)return u;pf(n.componentOffset>-1?Ds(n.index,i):i);let V=ip(i,o,u,b),K=v.__ngNextListenerFn__;for(;K;)V=ip(i,o,K,b)&&V,K=K.__ngNextListenerFn__;return p&&!1===V&&(b.preventDefault(),b.returnValue=!1),V}}function sp(n=1){return function Ns(n){return(or.lFrame.contextLView=function Zi(n,i){for(;n>0;)i=i[sr],n--;return i}(n,or.lFrame.contextLView))[wi]}(n)}function zd(n,i,o){return rg(n,"",i,"",o),zd}function rg(n,i,o,u,p){const v=ot(),b=hr(v,i,o,u);return b!==Lr&&Ou(Gn(),li(),v,n,b,v[Fe],p,!1),rg}function Ef(n,i){return n<<17|i<<2}function Wd(n){return n>>17&32767}function Oh(n){return 2|n}function Gd(n){return(131068&n)>>2}function Xm(n,i){return-131069&n|i<<2}function Jm(n){return 1|n}function Ay(n,i,o,u,p){const v=n[o+1],b=null===i;let O=u?Wd(v):Gd(v),V=!1;for(;0!==O&&(!1===V||b);){const oe=n[O+1];m_(n[O],i)&&(V=!0,n[O+1]=u?Jm(oe):Oh(oe)),O=u?Wd(oe):Gd(oe)}V&&(n[o+1]=u?Oh(v):Jm(v))}function m_(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&wu(n,i)>=0}const fl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ey(n){return n.substring(fl.key,fl.keyEnd)}function xy(n,i){const o=fl.textEnd;return o===i?-1:(i=fl.keyEnd=function My(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,fl.key=i,o),Ci(n,i,o))}function Ci(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function Oy(n,i){return function td(n,i,o,u){const p=ot(),v=Gn(),b=Ls(2);v.firstUpdatePass&&E_(v,n,b,u),i!==Lr&&Bt(p,b,i)&&I_(v,v.data[br()],p,p[Fe],n,p[b+1]=function Lv(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Ie(du(n)))),n}(i,o),u,b)}(n,i,null,!0),Oy}function v_(n){!function gc(n,i,o,u){const p=Gn(),v=Ls(2);p.firstUpdatePass&&E_(p,null,v,u);const b=ot();if(o!==Lr&&Bt(b,v,o)){const O=p.data[br()];if(b_(O,u)&&!ky(p,v)){let V=u?O.classesWithoutHost:O.stylesWithoutHost;null!==V&&(o=Ye(V,o||"")),Zl(p,O,b,o,u)}else!function kv(n,i,o,u,p,v,b,O){p===Lr&&(p=Re);let V=0,K=0,oe=0<p.length?p[0]:null,ve=0<v.length?v[0]:null;for(;null!==oe||null!==ve;){const He=V<p.length?p[V+1]:void 0,rt=K<v.length?v[K+1]:void 0;let un,Mt=null;oe===ve?(V+=2,K+=2,He!==rt&&(Mt=ve,un=rt)):null===ve||null!==oe&&oe<ve?(V+=2,Mt=oe):(K+=2,Mt=ve,un=rt),null!==Mt&&I_(n,i,o,u,Mt,un,b,O),oe=V<p.length?p[V]:null,ve=K<v.length?v[K]:null}}(p,O,b,b[Fe],b[v+1],b[v+1]=function Nv(n,i,o){if(null==o||""===o)return Re;const u=[],p=du(o);if(Array.isArray(p))for(let v=0;v<p.length;v++)n(u,p[v],!0);else if("object"==typeof p)for(const v in p)p.hasOwnProperty(v)&&n(u,v,p[v]);else"string"==typeof p&&i(u,p);return u}(n,i,o),u,v)}}(Ov,ed,n,!0)}function ed(n,i){for(let o=function ty(n){return function sg(n){fl.key=0,fl.keyEnd=0,fl.value=0,fl.valueEnd=0,fl.textEnd=n.length}(n),xy(n,Ci(n,0,fl.textEnd))}(i);o>=0;o=xy(i,o))So(n,ey(i),!0)}function ky(n,i){return i>=n.expandoStartIndex}function E_(n,i,o,u){const p=n.data;if(null===p[o+1]){const v=p[br()],b=ky(n,o);b_(v,u)&&null===i&&!b&&(i=!1),i=function _o(n,i,o,u){const p=function Js(n){const i=or.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let v=u?i.residualClasses:i.residualStyles;if(null===p)0===(u?i.classBindings:i.styleBindings)&&(o=om(o=sm(null,n,i,o,u),i.attrs,u),v=null);else{const b=i.directiveStylingLast;if(-1===b||n[b]!==p)if(o=sm(p,n,i,o,u),null===v){let V=function Mv(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==Gd(u))return n[Wd(u)]}(n,i,u);void 0!==V&&Array.isArray(V)&&(V=sm(null,n,i,V[1],u),V=om(V,i.attrs,u),function w_(n,i,o,u){n[Wd(o?i.classBindings:i.styleBindings)]=u}(n,i,u,V))}else v=function tl(n,i,o){let u;const p=i.directiveEnd;for(let v=1+i.directiveStylingLast;v<p;v++)u=om(u,n[v].hostAttrs,o);return om(u,i.attrs,o)}(n,i,u)}return void 0!==v&&(u?i.residualClasses=v:i.residualStyles=v),o}(p,v,i,u),function Sy(n,i,o,u,p,v){let b=v?i.classBindings:i.styleBindings,O=Wd(b),V=Gd(b);n[u]=o;let oe,K=!1;if(Array.isArray(o)?(oe=o[1],(null===oe||wu(o,oe)>0)&&(K=!0)):oe=o,p)if(0!==V){const He=Wd(n[O+1]);n[u+1]=Ef(He,O),0!==He&&(n[He+1]=Xm(n[He+1],u)),n[O+1]=function Dy(n,i){return 131071&n|i<<17}(n[O+1],u)}else n[u+1]=Ef(O,0),0!==O&&(n[O+1]=Xm(n[O+1],u)),O=u;else n[u+1]=Ef(V,0),0===O?O=u:n[V+1]=Xm(n[V+1],u),V=u;K&&(n[u+1]=Oh(n[u+1])),Ay(n,oe,u,!0),Ay(n,oe,u,!1),function g_(n,i,o,u,p){const v=p?n.residualClasses:n.residualStyles;null!=v&&"string"==typeof i&&wu(v,i)>=0&&(o[u+1]=Jm(o[u+1]))}(i,oe,n,u,v),b=Ef(O,V),v?i.classBindings=b:i.styleBindings=b}(p,v,i,o,b,u)}}function sm(n,i,o,u,p){let v=null;const b=o.directiveEnd;let O=o.directiveStylingLast;for(-1===O?O=o.directiveStart:O++;O<b&&(v=i[O],u=om(u,v.hostAttrs,p),v!==n);)O++;return null!==n&&(o.directiveStylingLast=O),u}function om(n,i,o){const u=o?1:2;let p=-1;if(null!==i)for(let v=0;v<i.length;v++){const b=i[v];"number"==typeof b?p=b:p===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),So(n,b,!!o||i[++v]))}return void 0===n?null:n}function Ov(n,i,o){const u=String(i);""!==u&&!u.includes(" ")&&So(n,u,o)}function I_(n,i,o,u,p,v,b,O){if(!(3&i.type))return;const V=n.data,K=V[O+1],oe=function f_(n){return 1==(1&n)}(K)?T_(V,i,o,p,Gd(K),b):void 0;iy(oe)||(iy(v)||function Qm(n){return 2==(2&n)}(K)&&(v=T_(V,null,o,p,O,b)),function Dd(n,i,o,u,p){if(i)p?n.addClass(o,u):n.removeClass(o,u);else{let v=-1===u.indexOf("-")?void 0:ol.DashCase;null==p?n.removeStyle(o,u,v):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),v|=ol.Important),n.setStyle(o,u,p,v))}}(u,b,yl(br(),o),p,v))}function T_(n,i,o,u,p,v){const b=null===i;let O;for(;p>0;){const V=n[p],K=Array.isArray(V),oe=K?V[1]:V,ve=null===oe;let He=o[p+1];He===Lr&&(He=ve?Re:void 0);let rt=ve?sl(He,u):oe===u?He:void 0;if(K&&!iy(rt)&&(rt=sl(V,u)),iy(rt)&&(O=rt,b))return O;const Mt=n[p+1];p=b?Wd(Mt):Gd(Mt)}if(null!==i){let V=v?i.residualClasses:i.residualStyles;null!=V&&(O=sl(V,u))}return O}function iy(n){return void 0!==n}function b_(n,i){return 0!=(n.flags&(i?8:16))}function sy(n,i=""){const o=ot(),u=Gn(),p=n+gi,v=u.firstCreatePass?kc(u,p,1,i,null):u.data[p],b=o[p]=function au(n,i){return n.createText(i)}(o[Fe],i);jc(u,o,b,v),Qs(v,!1)}function wf(n){return oy("",n,""),wf}function oy(n,i,o){const u=ot(),p=hr(u,n,i,o);return p!==Lr&&hc(u,br(),p),oy}function qd(n,i,o,u,p){const v=ot(),b=Jn(v,n,i,o,u,p);return b!==Lr&&hc(v,br(),b),qd}const up=void 0;var Fv=["en",[["a","p"],["AM","PM"],up],[["AM","PM"],up,up],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],up,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],up,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",up,"{1} 'at' {0}",up],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cg(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let nd={};function Zy(n){const i=function um(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=dg(i);if(o)return o;const u=i.split("-")[0];if(o=dg(u),o)return o;if("en"===u)return Fv;throw new lt(701,!1)}function P_(n){return Zy(n)[Nr.PluralCase]}function dg(n){return n in nd||(nd[n]=gr.ng&&gr.ng.common&&gr.ng.common.locales&&gr.ng.common.locales[n]),nd[n]}var Nr=(()=>((Nr=Nr||{})[Nr.LocaleId=0]="LocaleId",Nr[Nr.DayPeriodsFormat=1]="DayPeriodsFormat",Nr[Nr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nr[Nr.DaysFormat=3]="DaysFormat",Nr[Nr.DaysStandalone=4]="DaysStandalone",Nr[Nr.MonthsFormat=5]="MonthsFormat",Nr[Nr.MonthsStandalone=6]="MonthsStandalone",Nr[Nr.Eras=7]="Eras",Nr[Nr.FirstDayOfWeek=8]="FirstDayOfWeek",Nr[Nr.WeekendRange=9]="WeekendRange",Nr[Nr.DateFormat=10]="DateFormat",Nr[Nr.TimeFormat=11]="TimeFormat",Nr[Nr.DateTimeFormat=12]="DateTimeFormat",Nr[Nr.NumberSymbols=13]="NumberSymbols",Nr[Nr.NumberFormats=14]="NumberFormats",Nr[Nr.CurrencyCode=15]="CurrencyCode",Nr[Nr.CurrencySymbol=16]="CurrencySymbol",Nr[Nr.CurrencyName=17]="CurrencyName",Nr[Nr.Currencies=18]="Currencies",Nr[Nr.Directionality=19]="Directionality",Nr[Nr.PluralCase=20]="PluralCase",Nr[Nr.ExtraData=21]="ExtraData",Nr))();const Zd="en-US";let gy=Zd;function Em(n,i,o,u,p){if(n=Ne(n),Array.isArray(n))for(let v=0;v<n.length;v++)Em(n[v],i,o,u,p);else{const v=Gn(),b=ot();let O=oc(n)?n:Ne(n.provide),V=fd(n);const K=Oi(),oe=1048575&K.providerIndexes,ve=K.directiveStart,He=K.providerIndexes>>20;if(oc(n)||!n.multi){const rt=new Ee(V,p,mh),Mt=ev(O,i,p?oe:oe+He,ve);-1===Mt?(Cn(Il(K,b),v,O),J_(v,n,i.length),i.push(O),K.directiveStart++,K.directiveEnd++,p&&(K.providerIndexes+=1048576),o.push(rt),b.push(rt)):(o[Mt]=rt,b[Mt]=rt)}else{const rt=ev(O,i,oe+He,ve),Mt=ev(O,i,oe,oe+He),xn=Mt>=0&&o[Mt];if(p&&!xn||!p&&!(rt>=0&&o[rt])){Cn(Il(K,b),v,O);const er=function kE(n,i,o,u,p){const v=new Ee(n,o,mh);return v.multi=[],v.index=i,v.componentProviders=0,n0(v,p,u&&!o),v}(p?OE:NE,o.length,p,u,V);!p&&xn&&(o[Mt].providerFactory=er),J_(v,n,i.length,0),i.push(O),K.directiveStart++,K.directiveEnd++,p&&(K.providerIndexes+=1048576),o.push(er),b.push(er)}else J_(v,n,rt>-1?rt:Mt,n0(o[p?Mt:rt],V,!p&&u));!p&&u&&xn&&o[Mt].componentProviders++}}}function J_(n,i,o,u){const p=oc(i),v=function xu(n){return!!n.useClass}(i);if(p||v){const V=(v?Ne(i.useClass):i).prototype.ngOnDestroy;if(V){const K=n.destroyHooks||(n.destroyHooks=[]);if(!p&&i.multi){const oe=K.indexOf(o);-1===oe?K.push(o,[u,V]):K[oe+1].push(u,V)}else K.push(o,V)}}}function n0(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function ev(n,i,o,u){for(let p=o;p<u;p++)if(i[p]===n)return p;return-1}function NE(n,i,o,u){return tv(this.multi,[])}function OE(n,i,o,u){const p=this.multi;let v;if(this.providerFactory){const b=this.providerFactory.componentProviders,O=Wn(o,o[on],this.providerFactory.index,u);v=O.slice(0,b),tv(p,v);for(let V=b;V<O.length;V++)v.push(O[V])}else v=[],tv(p,v);return v}function tv(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function r0(n,i=[]){return o=>{o.providersResolver=(u,p)=>function Cf(n,i,o){const u=Gn();if(u.firstCreatePass){const p=Un(n);Em(o,u.data,u.blueprint,p,!0),Em(i,u.data,u.blueprint,p,!1)}}(u,p?p(n):n,i)}}class wm{}class s0{}function LE(n,i){return new o0(n,i??null)}class o0 extends wm{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mf(this);const u=Mi(i);this._bootstrapComponents=Rc(u.bootstrap),this._r3Injector=Rp(i,o,[{provide:wm,useValue:this},{provide:pt,useValue:this.componentFactoryResolver}],Ie(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class nv extends s0{constructor(i){super(),this.moduleType=i}create(i){return new o0(this.moduleType,i)}}class FE extends wm{constructor(i,o,u){super(),this.componentFactoryResolver=new mf(this),this.instance=null;const p=new ac([...i,{provide:wm,useValue:this},{provide:pt,useValue:this.componentFactoryResolver}],o||Pu(),u,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function rv(n,i,o=null){return new FE(n,i,o).injector}let UE=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Zh(0,o.type),p=u.length>0?rv([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,p)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=rn({token:n,providedIn:"environment",factory:()=>new n(kt(Gl))}),n})();function a0(n){n.getStandaloneInjector=i=>i.get(UE).getOrCreateStandaloneInjector(n)}function p0(n,i,o){const u=Ss()+n,p=ot();return p[u]===Lr?Ge(p,u,o?i.call(o):i()):function Pt(n,i){return n[i]}(p,u)}function g0(n,i,o,u){return m0(ot(),Ss(),n,i,o,u)}function yy(n,i){const o=n[i];return o===Lr?void 0:o}function m0(n,i,o,u,p,v){const b=i+o;return Bt(n,b,p)?Ge(n,b+1,v?u.call(v,p):u(p)):yy(n,b+1)}function w0(n,i){const o=Gn();let u;const p=n+gi;o.firstCreatePass?(u=function tw(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[p]=u,u.onDestroy&&(o.destroyHooks??(o.destroyHooks=[])).push(p,u.onDestroy)):u=o.data[p];const v=u.factory||(u.factory=Xo(u.type)),b=Er(mh);try{const O=Oa(!1),V=v();return Oa(O),function Aa(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,ot(),p,V),V}finally{Er(b)}}function I0(n,i,o){const u=n+gi,p=ot(),v=Gs(p,u);return _y(p,u)?m0(p,Ss(),i,v.transform,o,v):v.transform(o)}function T0(n,i,o,u){const p=n+gi,v=ot(),b=Gs(v,p);return _y(v,p)?function y0(n,i,o,u,p,v,b){const O=i+o;return Ut(n,O,p,v)?Ge(n,O+2,b?u.call(b,p,v):u(p,v)):yy(n,O+2)}(v,Ss(),i,b.transform,o,u,b):b.transform(o,u)}function _y(n,i){return n[on].data[i].pure}function sv(n){return i=>{setTimeout(n,void 0,i)}}const Lh=class sw extends R.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let p=i,v=o||(()=>null),b=u;if(i&&"object"==typeof i){const V=i;p=V.next?.bind(V),v=V.error?.bind(V),b=V.complete?.bind(V)}this.__isAsync&&(v=sv(v),p&&(p=sv(p)),b&&(b=sv(b)));const O=super.subscribe({next:p,error:v,complete:b});return i instanceof ee.w0&&i.add(O),O}};function ow(){return this._results[Symbol.iterator]()}class ov{get changes(){return this._changes||(this._changes=new Lh)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=ov.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=ow)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const p=function vs(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Os(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let p=n[u],v=i[u];if(o&&(p=o(p),v=o(v)),v!==p)return!1}return!0}(u._results,p,o))&&(u._results=p,u.length=p.length,u.last=p[this.length-1],u.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let vy=(()=>{class n{}return n.__NG_ELEMENT_ID__=uw,n})();const aw=vy,lw=class extends aw{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,p=yh(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);p[xr]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[ws];return null!==b&&(p[ws]=b.createEmbeddedView(u)),_h(u,p,i),new Ah(p)}};function uw(){return n_(Oi(),ot())}function n_(n,i){return 4&n.type?new lw(i,n,Tt(n,i)):null}let r_=(()=>{class n{}return n.__NG_ELEMENT_ID__=cw,n})();function cw(){return D0(Oi(),ot())}const dw=r_,b0=class extends dw{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Tt(this._hostTNode,this._hostLView)}get injector(){return new Bo(this._hostTNode,this._hostLView)}get parentInjector(){const i=Qi(this._hostTNode,this._hostLView);if(Yi(i)){const o=Et(i,this._hostLView),u=zt(i);return new Bo(o[on].data[u+8],o)}return new Bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=C0(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-Si}createEmbeddedView(i,o,u){let p,v;"number"==typeof u?p=u:null!=u&&(p=u.index,v=u.injector);const b=i.createEmbeddedView(o||{},v);return this.insert(b,p),b}createComponent(i,o,u,p,v){const b=i&&!function $a(n){return"function"==typeof n}(i);let O;if(b)O=o;else{const ve=o||{};O=ve.index,u=ve.injector,p=ve.projectableNodes,v=ve.environmentInjector||ve.ngModuleRef}const V=b?i:new yd(vn(i)),K=u||this.parentInjector;if(!v&&null==V.ngModule){const He=(b?K:this.parentInjector).get(Gl,null);He&&(v=He)}const oe=V.create(K,p,void 0,v);return this.insert(oe.hostView,O),oe}insert(i,o){const u=i._lView,p=u[on];if(function ys(n){return qi(n[Gr])}(u)){const oe=this.indexOf(i);if(-1!==oe)this.detach(oe);else{const ve=u[Gr],He=new b0(ve,ve[Bi],ve[Gr]);He.detach(He.indexOf(i))}}const v=this._adjustIndex(o),b=this._lContainer;!function y(n,i,o,u){const p=Si+u,v=o.length;u>0&&(o[p-1][Rr]=i),u<v-Si?(i[Rr]=o[p],so(o,Si+u,i)):(o.push(i),i[Rr]=null),i[Gr]=o;const b=i[xr];null!==b&&o!==b&&function I(n,i){const o=n[lr];i[Tn]!==i[Gr][Gr][Tn]&&(n[ao]=!0),null===o?n[lr]=[i]:o.push(i)}(b,i);const O=i[ws];null!==O&&O.insertView(n),i[ar]|=64}(p,u,b,v);const O=ld(v,b),V=u[Fe],K=mo(V,b[Br]);return null!==K&&function bc(n,i,o,u,p,v){u[Di]=p,u[Bi]=i,Cd(n,u,o,1,p,v)}(p,b[Bi],V,u,K,O),i.attachToViewContainerRef(),so(av(b),v,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=C0(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=Q(this._lContainer,o);u&&(Vo(av(this._lContainer),o),ue(u[on],u))}detach(i){const o=this._adjustIndex(i,-1),u=Q(this._lContainer,o);return u&&null!=Vo(av(this._lContainer),o)?new Ah(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function C0(n){return n[kr]}function av(n){return n[kr]||(n[kr]=[])}function D0(n,i){let o;const u=i[n.index];if(qi(u))o=u;else{let p;if(8&n.type)p=Ai(u);else{const v=i[Fe];p=v.createComment("");const b=Vr(n,i);jr(v,mo(v,b),p,function Gu(n,i){return n.nextSibling(i)}(v,b),!1)}i[n.index]=o=$m(u,i,p,n),md(i,o)}return new b0(o,n,i)}class lv{constructor(i){this.queryList=i,this.matches=null}clone(){return new lv(this.queryList)}setDirty(){this.queryList.setDirty()}}class uv{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,p=[];for(let v=0;v<u;v++){const b=o.getByIndex(v);p.push(this.queries[b.indexInDeclarationView].clone())}return new uv(p)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==O0(i,o).matches&&this.queries[o].setDirty()}}class S0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class cv{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const p=null!==o?o.length:0,v=this.getByIndex(u).embeddedTView(i,p);v&&(v.indexInDeclarationView=u,null!==o?o.push(v):o=[v])}return null!==o?new cv(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class dv{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new dv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let p=0;p<u.length;p++){const v=u[p];this.matchTNodeWithReadOption(i,o,hw(o,v)),this.matchTNodeWithReadOption(i,o,yu(o,i,v,!1,!1))}else u===vy?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,yu(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const p=this.metadata.read;if(null!==p)if(p===cn||p===r_||p===vy&&4&o.type)this.addMatch(o.index,-2);else{const v=yu(o,i,p,!1,!1);null!==v&&this.addMatch(o.index,v)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function hw(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function pw(n,i,o,u){return-1===o?function fw(n,i){return 11&n.type?Tt(n,i):4&n.type?n_(n,i):null}(i,n):-2===o?function gw(n,i,o){return o===cn?Tt(i,n):o===vy?n_(i,n):o===r_?D0(i,n):void 0}(n,i,u):Wn(n,n[on],o,i)}function A0(n,i,o,u){const p=i[ws].queries[u];if(null===p.matches){const v=n.data,b=o.matches,O=[];for(let V=0;V<b.length;V+=2){const K=b[V];O.push(K<0?null:pw(i,v[K],b[V+1],o.metadata.read))}p.matches=O}return p.matches}function hv(n,i,o,u){const p=n.queries.getByIndex(o),v=p.matches;if(null!==v){const b=A0(n,i,p,o);for(let O=0;O<v.length;O+=2){const V=v[O];if(V>0)u.push(b[O/2]);else{const K=v[O+1],oe=i[-V];for(let ve=Si;ve<oe.length;ve++){const He=oe[ve];He[xr]===He[Gr]&&hv(He[on],He,K,u)}if(null!==oe[lr]){const ve=oe[lr];for(let He=0;He<ve.length;He++){const rt=ve[He];hv(rt[on],rt,K,u)}}}}}return u}function R0(n){const i=ot(),o=Gn(),u=pa();Yr(u+1);const p=O0(o,u);if(n.dirty&&function Zr(n){return 4==(4&n[ar])}(i)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const v=p.crossesNgTemplate?hv(o,i,u,[]):A0(o,i,p,u);n.reset(v,Rn),n.notifyOnChanges()}return!0}return!1}function x0(n,i,o,u){const p=Gn();if(p.firstCreatePass){const v=Oi();(function N0(n,i,o){null===n.queries&&(n.queries=new cv),n.queries.track(new dv(i,o))})(p,new S0(i,o,u),v.index),function _w(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(p,n),2==(2&o)&&(p.staticContentQueries=!0)}!function M0(n,i,o){const u=new ov(4==(4&o));dl(n,i,u,u.destroy),null===i[ws]&&(i[ws]=new uv),i[ws].queries.push(new lv(u))}(p,ot(),o)}function P0(){return function yw(n,i){return n[ws].queries[i].queryList}(ot(),pa())}function O0(n,i){return n.queries.getByIndex(i)}function fv(n){return!!Mi(n)}function s_(...n){}const X0=new $r("Application Initializer");let o_=(()=>{class n{constructor(o){this.appInits=o,this.resolve=s_,this.reject=s_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,p)=>{this.resolve=u,this.reject=p})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const v=this.appInits[p]();if(vf(v))o.push(v);else if(Mh(v)){const b=new Promise((O,V)=>{v.subscribe({complete:O,error:V})});o.push(b)}}Promise.all(o).then(()=>{u()}).catch(p=>{this.reject(p)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(kt(X0,8))},n.\u0275prov=rn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const J0=new $r("AppId",{providedIn:"root",factory:function eE(){return`${_v()}${_v()}${_v()}`}});function _v(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tE=new $r("Platform Initializer"),Bw=new $r("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vw=new $r("AnimationModuleType");let $w=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=rn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const a_=new $r("LocaleId",{providedIn:"root",factory:()=>pi(a_,Ht.Optional|Ht.SkipSelf)||function jw(){return typeof $localize<"u"&&$localize.locale||Zd}()}),Hw=new $r("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zw{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let Ww=(()=>{class n{compileModuleSync(o){return new nv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),v=Rc(Mi(o).declarations).reduce((b,O)=>{const V=vn(O);return V&&b.push(new yd(V)),b},[]);return new zw(u,v)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=rn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qw=(()=>Promise.resolve(0))();function vv(n){typeof Zone>"u"?qw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ed{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lh(!1),this.onMicrotaskEmpty=new Lh(!1),this.onStable=new Lh(!1),this.onError=new Lh(!1),typeof Zone>"u")throw new lt(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!u&&o,p.shouldCoalesceRunChangeDetection=u,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function Zw(){let n=gr.requestAnimationFrame,i=gr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Xw(n){const i=()=>{!function Qw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(gr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,wv(n),n.isCheckStableRunning=!0,Ev(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),wv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,p,v,b,O)=>{try{return iE(n),o.invokeTask(p,v,b,O)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||n.shouldCoalesceRunChangeDetection)&&i(),sE(n)}},onInvoke:(o,u,p,v,b,O,V)=>{try{return iE(n),o.invoke(p,v,b,O,V)}finally{n.shouldCoalesceRunChangeDetection&&i(),sE(n)}},onHasTask:(o,u,p,v)=>{o.hasTask(p,v),u===p&&("microTask"==v.change?(n._hasPendingMicrotasks=v.microTask,wv(n),Ev(n)):"macroTask"==v.change&&(n.hasPendingMacrotasks=v.macroTask))},onHandleError:(o,u,p,v)=>(o.handleError(p,v),n.runOutsideAngular(()=>n.onError.emit(v)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ed.isInAngularZone())throw new lt(909,!1)}static assertNotInAngularZone(){if(Ed.isInAngularZone())throw new lt(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,p){const v=this._inner,b=v.scheduleEventTask("NgZoneEvent: "+p,i,Yw,s_,s_);try{return v.runTask(b,o,u)}finally{v.cancelTask(b)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const Yw={};function Ev(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function wv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function iE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function sE(n){n._nesting--,Ev(n)}class Jw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lh,this.onMicrotaskEmpty=new Lh,this.onStable=new Lh,this.onError=new Lh}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,p){return i.apply(o,u)}}const oE=new $r(""),aE=new $r("");let Iv,eI=(()=>{class n{constructor(o,u,p){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Iv||(function tI(n){Iv=n}(p),p.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ed.assertNotInAngularZone(),vv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vv(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,p){let v=-1;u&&u>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==v),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:v,updateCb:p})}whenStable(o,u,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,p){return[]}}return n.\u0275fac=function(o){return new(o||n)(kt(Ed),kt(lE),kt(aE))},n.\u0275prov=rn({token:n,factory:n.\u0275fac}),n})(),lE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Iv?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=rn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Df=!1;let cp=null;const uE=new $r("AllowMultipleToken"),Tv=new $r("PlatformDestroyListeners"),cE=new $r("appBootstrapListener");class iI{constructor(i,o){this.name=i,this.token=o}}function hE(n,i,o=[]){const u=`Platform: ${i}`,p=new $r(u);return(v=[])=>{let b=bv();if(!b||b.injector.get(uE,!1)){const O=[...o,...v,{provide:p,useValue:!0}];n?n(O):function sI(n){if(cp&&!cp.get(uE,!1))throw new lt(400,!1);cp=n;const i=n.get(pE);(function dE(n){const i=n.get(tE,null);i&&i.forEach(o=>o())})(n)}(function fE(n=[],i){return Oc.create({name:i,providers:[{provide:Ld,useValue:"platform"},{provide:Tv,useValue:new Set([()=>cp=null])},...n]})}(O,u))}return function aI(n){const i=bv();if(!i)throw new lt(401,!1);return i}()}}function bv(){return cp?.get(pE)??null}let pE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const p=function mE(n,i){let o;return o="noop"===n?new Jw:("zone.js"===n?void 0:n)||new Ed(i),o}(u?.ngZone,function gE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),v=[{provide:Ed,useValue:p}];return p.run(()=>{const b=Oc.create({providers:v,parent:this.injector,name:o.moduleType.name}),O=o.create(b),V=O.injector.get(pd,null);if(!V)throw new lt(402,!1);return p.runOutsideAngular(()=>{const K=p.onError.subscribe({next:oe=>{V.handleError(oe)}});O.onDestroy(()=>{u_(this._modules,O),K.unsubscribe()})}),function yE(n,i,o){try{const u=o();return vf(u)?u.catch(p=>{throw i.runOutsideAngular(()=>n.handleError(p)),p}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(V,p,()=>{const K=O.injector.get(o_);return K.runInitializers(),K.donePromise.then(()=>(function my(n){Qe(n,"Expected localeId to be defined"),"string"==typeof n&&(gy=n.toLowerCase().replace(/_/g,"-"))}(O.injector.get(a_,Zd)||Zd),this._moduleDoBootstrap(O),O))})})}bootstrapModule(o,u=[]){const p=_E({},u);return function nI(n,i,o){const u=new nv(o);return Promise.resolve(u)}(0,0,o).then(v=>this.bootstrapModuleFactory(v,p))}_moduleDoBootstrap(o){const u=o.injector.get(l_);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(p=>u.bootstrap(p));else{if(!o.instance.ngDoBootstrap)throw new lt(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new lt(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(Tv,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(kt(Oc))},n.\u0275prov=rn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function _E(n,i){return Array.isArray(i)?i.reduce(_E,n):{...n,...i}}let l_=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,p){this._zone=o,this._injector=u,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new $.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),b=new $.y(O=>{let V;this._zone.runOutsideAngular(()=>{V=this._zone.onStable.subscribe(()=>{Ed.assertNotInAngularZone(),vv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{Ed.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{V.unsubscribe(),K.unsubscribe()}});this.isStable=(0,Me.T)(v,b.pipe((0,xe.B)()))}bootstrap(o,u){const p=o instanceof F;if(!this._injector.get(o_).done){!p&&Gi(o);throw new lt(405,Df)}let b;b=p?o:this._injector.get(pt).resolveComponentFactory(o),this.componentTypes.push(b.componentType);const O=function rI(n){return n.isBoundToModule}(b)?void 0:this._injector.get(wm),K=b.create(Oc.NULL,[],u||b.selector,O),oe=K.location.nativeElement,ve=K.injector.get(oE,null);return ve?.registerApplication(oe),K.onDestroy(()=>{this.detachView(K.hostView),u_(this.components,K),ve?.unregisterApplication(oe)}),this._loadComponent(K),K}tick(){if(this._runningTick)throw new lt(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;u_(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(cE,[]);u.push(...this._bootstrapListeners),u.forEach(p=>p(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>u_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new lt(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(kt(Ed),kt(Gl),kt(pd))},n.\u0275prov=rn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function u_(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function uI(){return!1}let cI=(()=>{class n{}return n.__NG_ELEMENT_ID__=dI,n})();function dI(n){return function hI(n,i,o){if(Ko(n)&&!o){const u=Ds(n.index,i);return new Ah(u,u)}return 47&n.type?new Ah(i[Tn],i):null}(Oi(),ot(),16==(16&n))}class TE{constructor(){}supports(i){return j(i)}create(i){return new _I(i)}}const yI=(n,i)=>i;class _I{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||yI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,p=0,v=null;for(;o||u;){const b=!u||o&&o.currentIndex<CE(u,p,v)?o:u,O=CE(b,p,v),V=b.currentIndex;if(b===u)p--,u=u._nextRemoved;else if(o=o._next,null==b.previousIndex)p++;else{v||(v=[]);const K=O-p,oe=V-p;if(K!=oe){for(let He=0;He<K;He++){const rt=He<v.length?v[He]:v[He]=0,Mt=rt+He;oe<=Mt&&Mt<K&&(v[He]=rt+1)}v[b.previousIndex]=oe-K}}O!==V&&i(b,O,V)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!j(i))throw new lt(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let p,v,b,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let O=0;O<this.length;O++)v=i[O],b=this._trackByFn(O,v),null!==o&&Object.is(o.trackById,b)?(u&&(o=this._verifyReinsertion(o,v,b,O)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,b,O),u=!0),o=o._next}else p=0,function ie(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,O=>{b=this._trackByFn(p,O),null!==o&&Object.is(o.trackById,b)?(u&&(o=this._verifyReinsertion(o,O,b,p)),Object.is(o.item,O)||this._addIdentityChange(o,O)):(o=this._mismatch(o,O,b,p),u=!0),o=o._next,p++}),this.length=p;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,p){let v;return null===i?v=this._itTail:(v=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,v,p)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,p))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,v,p)):i=this._addAfter(new vI(o,u),v,p),i}_verifyReinsertion(i,o,u,p){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==v?i=this._reinsertAfter(v,i._prev,p):i.currentIndex!=p&&(i.currentIndex=p,this._addToMoves(i,p)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const p=i._prevRemoved,v=i._nextRemoved;return null===p?this._removalsHead=v:p._nextRemoved=v,null===v?this._removalsTail=p:v._prevRemoved=p,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const p=null===o?this._itHead:o._next;return i._next=p,i._prev=o,null===p?this._itTail=i:p._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new bE),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bE),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class vI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class bE{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new EI,this.map.set(o,u)),u.add(i)}get(i,o){const p=this.map.get(i);return p?p.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CE(n,i,o){const u=n.previousIndex;if(null===u)return u;let p=0;return o&&u<o.length&&(p=o[u]),u+i+p}class DE{constructor(){}supports(i){return i instanceof Map||pe(i)}create(){return new wI}}class wI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||pe(i)))throw new lt(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,p)=>{if(o&&o.key===p)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const v=this._getOrCreateRecordForKey(p,u);o=this._insertBeforeOrAppend(o,v)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const p=this._records.get(i);this._maybeAddToChanges(p,o);const v=p._prev,b=p._next;return v&&(v._next=b),b&&(b._prev=v),p._next=null,p._prev=null,p}const u=new II(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class II{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SE(){return new Rv([new TE])}let Rv=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const p=u.factories.slice();o=o.concat(p)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||SE()),deps:[[n,new Ao,new yr]]}}find(o){const u=this.factories.find(p=>p.supports(o));if(null!=u)return u;throw new lt(901,!1)}}return n.\u0275prov=rn({token:n,providedIn:"root",factory:SE}),n})();function AE(){return new xv([new DE])}let xv=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const p=u.factories.slice();o=o.concat(p)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||AE()),deps:[[n,new Ao,new yr]]}}find(o){const u=this.factories.find(p=>p.supports(o));if(u)return u;throw new lt(901,!1)}}return n.\u0275prov=rn({token:n,providedIn:"root",factory:AE}),n})();const CI=hE(null,"core",[]);let DI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(kt(l_))},n.\u0275mod=Xe({type:n}),n.\u0275inj=Jt({}),n})();function SI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},1481:(_n,at,q)=>{q.d(at,{Dx:()=>gn,b2:()=>Cr,q6:()=>Jr,se:()=>jt});var R=q(6895),ee=q(4650);class $ extends R.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Me extends ${static makeCurrent(){(0,R.HT)(new Me)}onAndCancel(_e,fe,Pe){return _e.addEventListener(fe,Pe,!1),()=>{_e.removeEventListener(fe,Pe,!1)}}dispatchEvent(_e,fe){_e.dispatchEvent(fe)}remove(_e){_e.parentNode&&_e.parentNode.removeChild(_e)}createElement(_e,fe){return(fe=fe||this.getDefaultDocument()).createElement(_e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(_e){return _e.nodeType===Node.ELEMENT_NODE}isShadowRoot(_e){return _e instanceof DocumentFragment}getGlobalEventTarget(_e,fe){return"window"===fe?window:"document"===fe?_e:"body"===fe?_e.body:null}getBaseHref(_e){const fe=function Ke(){return xe=xe||document.querySelector("base"),xe?xe.getAttribute("href"):null}();return null==fe?null:function Ie(ye){qe=qe||document.createElement("a"),qe.setAttribute("href",ye);const _e=qe.pathname;return"/"===_e.charAt(0)?_e:`/${_e}`}(fe)}resetBaseElement(){xe=null}getUserAgent(){return window.navigator.userAgent}getCookie(_e){return(0,R.Mx)(document.cookie,_e)}}let qe,xe=null;const Ye=new ee.OlP("TRANSITION_ID"),Te=[{provide:ee.ip1,useFactory:function ge(ye,_e,fe){return()=>{fe.get(ee.CZH).donePromise.then(()=>{const Pe=(0,R.q)(),it=_e.querySelectorAll(`style[ng-transition="${ye}"]`);for(let xt=0;xt<it.length;xt++)Pe.remove(it[xt])})}},deps:[Ye,R.K0,ee.zs3],multi:!0}];let ft=(()=>{class ye{build(){return new XMLHttpRequest}}return ye.\u0275fac=function(fe){return new(fe||ye)},ye.\u0275prov=ee.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const wt=new ee.OlP("EventManagerPlugins");let Ot=(()=>{class ye{constructor(fe,Pe){this._zone=Pe,this._eventNameToPlugin=new Map,fe.forEach(it=>{it.manager=this}),this._plugins=fe.slice().reverse()}addEventListener(fe,Pe,it){return this._findPluginFor(Pe).addEventListener(fe,Pe,it)}addGlobalEventListener(fe,Pe,it){return this._findPluginFor(Pe).addGlobalEventListener(fe,Pe,it)}getZone(){return this._zone}_findPluginFor(fe){const Pe=this._eventNameToPlugin.get(fe);if(Pe)return Pe;const it=this._plugins;for(let xt=0;xt<it.length;xt++){const fn=it[xt];if(fn.supports(fe))return this._eventNameToPlugin.set(fe,fn),fn}throw new Error(`No event manager plugin found for event ${fe}`)}}return ye.\u0275fac=function(fe){return new(fe||ye)(ee.LFG(wt),ee.LFG(ee.R0b))},ye.\u0275prov=ee.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class Xt{constructor(_e){this._doc=_e}addGlobalEventListener(_e,fe,Pe){const it=(0,R.q)().getGlobalEventTarget(this._doc,_e);if(!it)throw new Error(`Unsupported event target ${it} for event ${fe}`);return this.addEventListener(it,fe,Pe)}}let lt=(()=>{class ye{constructor(){this.usageCount=new Map}addStyles(fe){for(const Pe of fe)1===this.changeUsageCount(Pe,1)&&this.onStyleAdded(Pe)}removeStyles(fe){for(const Pe of fe)0===this.changeUsageCount(Pe,-1)&&this.onStyleRemoved(Pe)}onStyleRemoved(fe){}onStyleAdded(fe){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(fe,Pe){const it=this.usageCount;let xt=it.get(fe)??0;return xt+=Pe,xt>0?it.set(fe,xt):it.delete(fe),xt}ngOnDestroy(){for(const fe of this.getAllStyles())this.onStyleRemoved(fe);this.usageCount.clear()}}return ye.\u0275fac=function(fe){return new(fe||ye)},ye.\u0275prov=ee.Yz7({token:ye,factory:ye.\u0275fac}),ye})(),ut=(()=>{class ye extends lt{constructor(fe){super(),this.doc=fe,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(fe){for(const Pe of this.hostNodes)this.addStyleToHost(Pe,fe)}onStyleRemoved(fe){const Pe=this.styleRef;Pe.get(fe)?.forEach(xt=>xt.remove()),Pe.delete(fe)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(fe){this.hostNodes.add(fe);for(const Pe of this.getAllStyles())this.addStyleToHost(fe,Pe)}removeHost(fe){this.hostNodes.delete(fe)}addStyleToHost(fe,Pe){const it=this.doc.createElement("style");it.textContent=Pe,fe.appendChild(it);const xt=this.styleRef.get(Pe);xt?xt.push(it):this.styleRef.set(Pe,[it])}resetHostNodes(){const fe=this.hostNodes;fe.clear(),fe.add(this.doc.head)}}return ye.\u0275fac=function(fe){return new(fe||ye)(ee.LFG(R.K0))},ye.\u0275prov=ee.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const At={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mt=/%COMP%/g,Be=new ee.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function $t(ye,_e){return _e.flat(100).map(fe=>fe.replace(mt,ye))}function hn(ye){return _e=>{if("__ngUnwrap__"===_e)return ye;!1===ye(_e)&&(_e.preventDefault(),_e.returnValue=!1)}}let jt=(()=>{class ye{constructor(fe,Pe,it,xt){this.eventManager=fe,this.sharedStylesHost=Pe,this.appId=it,this.removeStylesOnCompDestory=xt,this.rendererByCompId=new Map,this.defaultRenderer=new kn(fe)}createRenderer(fe,Pe){if(!fe||!Pe)return this.defaultRenderer;const it=this.getOrCreateRenderer(fe,Pe);return it instanceof Qe?it.applyToHost(fe):it instanceof Ve&&it.applyStyles(),it}getOrCreateRenderer(fe,Pe){const it=this.rendererByCompId;let xt=it.get(Pe.id);if(!xt){const fn=this.eventManager,bn=this.sharedStylesHost,Wr=this.removeStylesOnCompDestory;switch(Pe.encapsulation){case ee.ifc.Emulated:xt=new Qe(fn,bn,Pe,this.appId,Wr);break;case ee.ifc.ShadowDom:return new ze(fn,bn,fe,Pe);default:xt=new Ve(fn,bn,Pe,Wr)}xt.onDestroy=()=>it.delete(Pe.id),it.set(Pe.id,xt)}return xt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ye.\u0275fac=function(fe){return new(fe||ye)(ee.LFG(Ot),ee.LFG(ut),ee.LFG(ee.AFp),ee.LFG(Be))},ye.\u0275prov=ee.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class kn{constructor(_e){this.eventManager=_e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(_e,fe){return fe?document.createElementNS(At[fe]||fe,_e):document.createElement(_e)}createComment(_e){return document.createComment(_e)}createText(_e){return document.createTextNode(_e)}appendChild(_e,fe){(pr(_e)?_e.content:_e).appendChild(fe)}insertBefore(_e,fe,Pe){_e&&(pr(_e)?_e.content:_e).insertBefore(fe,Pe)}removeChild(_e,fe){_e&&_e.removeChild(fe)}selectRootElement(_e,fe){let Pe="string"==typeof _e?document.querySelector(_e):_e;if(!Pe)throw new Error(`The selector "${_e}" did not match any elements`);return fe||(Pe.textContent=""),Pe}parentNode(_e){return _e.parentNode}nextSibling(_e){return _e.nextSibling}setAttribute(_e,fe,Pe,it){if(it){fe=it+":"+fe;const xt=At[it];xt?_e.setAttributeNS(xt,fe,Pe):_e.setAttribute(fe,Pe)}else _e.setAttribute(fe,Pe)}removeAttribute(_e,fe,Pe){if(Pe){const it=At[Pe];it?_e.removeAttributeNS(it,fe):_e.removeAttribute(`${Pe}:${fe}`)}else _e.removeAttribute(fe)}addClass(_e,fe){_e.classList.add(fe)}removeClass(_e,fe){_e.classList.remove(fe)}setStyle(_e,fe,Pe,it){it&(ee.JOm.DashCase|ee.JOm.Important)?_e.style.setProperty(fe,Pe,it&ee.JOm.Important?"important":""):_e.style[fe]=Pe}removeStyle(_e,fe,Pe){Pe&ee.JOm.DashCase?_e.style.removeProperty(fe):_e.style[fe]=""}setProperty(_e,fe,Pe){_e[fe]=Pe}setValue(_e,fe){_e.nodeValue=fe}listen(_e,fe,Pe){return"string"==typeof _e?this.eventManager.addGlobalEventListener(_e,fe,hn(Pe)):this.eventManager.addEventListener(_e,fe,hn(Pe))}}function pr(ye){return"TEMPLATE"===ye.tagName&&void 0!==ye.content}class ze extends kn{constructor(_e,fe,Pe,it){super(_e),this.sharedStylesHost=fe,this.hostEl=Pe,this.shadowRoot=Pe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const xt=$t(it.id,it.styles);for(const fn of xt){const bn=document.createElement("style");bn.textContent=fn,this.shadowRoot.appendChild(bn)}}nodeOrShadowRoot(_e){return _e===this.hostEl?this.shadowRoot:_e}appendChild(_e,fe){return super.appendChild(this.nodeOrShadowRoot(_e),fe)}insertBefore(_e,fe,Pe){return super.insertBefore(this.nodeOrShadowRoot(_e),fe,Pe)}removeChild(_e,fe){return super.removeChild(this.nodeOrShadowRoot(_e),fe)}parentNode(_e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(_e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ve extends kn{constructor(_e,fe,Pe,it,xt=Pe.id){super(_e),this.sharedStylesHost=fe,this.removeStylesOnCompDestory=it,this.rendererUsageCount=0,this.styles=$t(xt,Pe.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Qe extends Ve{constructor(_e,fe,Pe,it,xt){const fn=it+"-"+Pe.id;super(_e,fe,Pe,xt,fn),this.contentAttr=function se(ye){return"_ngcontent-%COMP%".replace(mt,ye)}(fn),this.hostAttr=function Kt(ye){return"_nghost-%COMP%".replace(mt,ye)}(fn)}applyToHost(_e){this.applyStyles(),this.setAttribute(_e,this.hostAttr,"")}createElement(_e,fe){const Pe=super.createElement(_e,fe);return super.setAttribute(Pe,this.contentAttr,""),Pe}}let Le=(()=>{class ye extends Xt{constructor(fe){super(fe)}supports(fe){return!0}addEventListener(fe,Pe,it){return fe.addEventListener(Pe,it,!1),()=>this.removeEventListener(fe,Pe,it)}removeEventListener(fe,Pe,it){return fe.removeEventListener(Pe,it)}}return ye.\u0275fac=function(fe){return new(fe||ye)(ee.LFG(R.K0))},ye.\u0275prov=ee.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const nt=["alt","control","meta","shift"],vt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ft={alt:ye=>ye.altKey,control:ye=>ye.ctrlKey,meta:ye=>ye.metaKey,shift:ye=>ye.shiftKey};let rn=(()=>{class ye extends Xt{constructor(fe){super(fe)}supports(fe){return null!=ye.parseEventName(fe)}addEventListener(fe,Pe,it){const xt=ye.parseEventName(Pe),fn=ye.eventCallback(xt.fullKey,it,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,R.q)().onAndCancel(fe,xt.domEventName,fn))}static parseEventName(fe){const Pe=fe.toLowerCase().split("."),it=Pe.shift();if(0===Pe.length||"keydown"!==it&&"keyup"!==it)return null;const xt=ye._normalizeKey(Pe.pop());let fn="",bn=Pe.indexOf("code");if(bn>-1&&(Pe.splice(bn,1),fn="code."),nt.forEach(xs=>{const ct=Pe.indexOf(xs);ct>-1&&(Pe.splice(ct,1),fn+=xs+".")}),fn+=xt,0!=Pe.length||0===xt.length)return null;const Wr={};return Wr.domEventName=it,Wr.fullKey=fn,Wr}static matchEventFullKeyCode(fe,Pe){let it=vt[fe.key]||fe.key,xt="";return Pe.indexOf("code.")>-1&&(it=fe.code,xt="code."),!(null==it||!it)&&(it=it.toLowerCase()," "===it?it="space":"."===it&&(it="dot"),nt.forEach(fn=>{fn!==it&&(0,Ft[fn])(fe)&&(xt+=fn+".")}),xt+=it,xt===Pe)}static eventCallback(fe,Pe,it){return xt=>{ye.matchEventFullKeyCode(xt,fe)&&it.runGuarded(()=>Pe(xt))}}static _normalizeKey(fe){return"esc"===fe?"escape":fe}}return ye.\u0275fac=function(fe){return new(fe||ye)(ee.LFG(R.K0))},ye.\u0275prov=ee.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const Jr=(0,ee.eFA)(ee._c5,"browser",[{provide:ee.Lbi,useValue:R.bD},{provide:ee.g9A,useValue:function Hn(){Me.makeCurrent()},multi:!0},{provide:R.K0,useFactory:function nn(){return(0,ee.RDi)(document),document},deps:[]}]),Nn=new ee.OlP(""),Ht=[{provide:ee.rWj,useClass:class Ne{addToWindow(_e){ee.dqk.getAngularTestability=(Pe,it=!0)=>{const xt=_e.findTestabilityInTree(Pe,it);if(null==xt)throw new Error("Could not find testability for element.");return xt},ee.dqk.getAllAngularTestabilities=()=>_e.getAllTestabilities(),ee.dqk.getAllAngularRootElements=()=>_e.getAllRootElements(),ee.dqk.frameworkStabilizers||(ee.dqk.frameworkStabilizers=[]),ee.dqk.frameworkStabilizers.push(Pe=>{const it=ee.dqk.getAllAngularTestabilities();let xt=it.length,fn=!1;const bn=function(Wr){fn=fn||Wr,xt--,0==xt&&Pe(fn)};it.forEach(function(Wr){Wr.whenStable(bn)})})}findTestabilityInTree(_e,fe,Pe){return null==fe?null:_e.getTestability(fe)??(Pe?(0,R.q)().isShadowRoot(fe)?this.findTestabilityInTree(_e,fe.host,!0):this.findTestabilityInTree(_e,fe.parentElement,!0):null)}},deps:[]},{provide:ee.lri,useClass:ee.dDg,deps:[ee.R0b,ee.eoX,ee.rWj]},{provide:ee.dDg,useClass:ee.dDg,deps:[ee.R0b,ee.eoX,ee.rWj]}],Zn=[{provide:ee.zSh,useValue:"root"},{provide:ee.qLn,useFactory:function Ar(){return new ee.qLn},deps:[]},{provide:wt,useClass:Le,multi:!0,deps:[R.K0,ee.R0b,ee.Lbi]},{provide:wt,useClass:rn,multi:!0,deps:[R.K0]},{provide:jt,useClass:jt,deps:[Ot,ut,ee.AFp,Be]},{provide:ee.FYo,useExisting:jt},{provide:lt,useExisting:ut},{provide:ut,useClass:ut,deps:[R.K0]},{provide:Ot,useClass:Ot,deps:[wt,ee.R0b]},{provide:R.JF,useClass:ft,deps:[]},[]];let Cr=(()=>{class ye{constructor(fe){}static withServerTransition(fe){return{ngModule:ye,providers:[{provide:ee.AFp,useValue:fe.appId},{provide:Ye,useExisting:ee.AFp},Te]}}}return ye.\u0275fac=function(fe){return new(fe||ye)(ee.LFG(Nn,12))},ye.\u0275mod=ee.oAB({type:ye}),ye.\u0275inj=ee.cJS({providers:[...Zn,...Ht],imports:[R.ez,ee.hGG]}),ye})(),gn=(()=>{class ye{constructor(fe){this._doc=fe}getTitle(){return this._doc.title}setTitle(fe){this._doc.title=fe||""}}return ye.\u0275fac=function(fe){return new(fe||ye)(ee.LFG(R.K0))},ye.\u0275prov=ee.Yz7({token:ye,factory:function(fe){let Pe=null;return Pe=fe?new fe:function gr(){return new gn((0,ee.LFG)(R.K0))}(),Pe},providedIn:"root"}),ye})();typeof window<"u"&&window},4778:(_n,at,q)=>{q.d(at,{gz:()=>Hs,F0:()=>Wn,rH:()=>Uo,Od:()=>Tl,Bz:()=>Vo,lC:()=>ks});var R=q(4650),ee=q(8996),$=q(9646),Me=q(7579);class xe extends Me.x{constructor(A){super(),this._value=A}get value(){return this.getValue()}_subscribe(A){const T=super._subscribe(A);return!T.closed&&A.next(this._value),T}getValue(){const{hasError:A,thrownError:T,_value:k}=this;if(A)throw T;return this._throwIfClosed(),k}next(A){super.next(this._value=A)}}var Ke=q(6805),qe=q(9751),Ie=q(4742),Ye=q(4671),ge=q(3268),Te=q(7669),Ne=q(1810),ft=q(5403),wt=q(9672);function Ot(...C){const A=(0,Te.yG)(C),T=(0,Te.jO)(C),{args:k,keys:z}=(0,Ie.D)(C);if(0===k.length)return(0,ee.D)([],A);const J=new qe.y(function Xt(C,A,T=Ye.y){return k=>{lt(A,()=>{const{length:z}=C,J=new Array(z);let ce=z,We=z;for(let yt=0;yt<z;yt++)lt(A,()=>{const Yt=(0,ee.D)(C[yt],A);let yn=!1;Yt.subscribe((0,ft.x)(k,yr=>{J[yt]=yr,yn||(yn=!0,We--),We||k.next(T(J.slice()))},()=>{--ce||k.complete()}))},k)},k)}}(k,A,z?ce=>(0,Ne.n)(z,ce):Ye.y));return T?J.pipe((0,ge.Z)(T)):J}function lt(C,A,T){C?(0,wt.f)(T,C,A):A()}var ut=q(8189);function mt(...C){return function At(){return(0,ut.J)(1)}()((0,ee.D)(C,(0,Te.yG)(C)))}var Ze=q(8421);function Oe(C){return new qe.y(A=>{(0,Ze.Xf)(C()).subscribe(A)})}var dt=q(9635),Rt=q(576);function _t(C,A){const T=(0,Rt.m)(C)?C:()=>C,k=z=>z.error(T());return new qe.y(A?z=>A.schedule(k,0,z):k)}var Be=q(515),se=q(727),Kt=q(4482);function $t(){return(0,Kt.e)((C,A)=>{let T=null;C._refCount++;const k=(0,ft.x)(A,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(T=null);const z=C._connection,J=T;T=null,z&&(!J||z===J)&&z.unsubscribe(),A.unsubscribe()});C.subscribe(k),k.closed||(T=C.connect())})}class hn extends qe.y{constructor(A,T){super(),this.source=A,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,Kt.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,A?.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new se.w0;const T=this.getSubject();A.add(this.source.subscribe((0,ft.x)(T,void 0,()=>{this._teardown(),T.complete()},k=>{this._teardown(),T.error(k)},()=>this._teardown()))),A.closed&&(this._connection=null,A=se.w0.EMPTY)}return A}refCount(){return $t()(this)}}var jt=q(6895),kn=q(4004),zr=q(3900),Sn=q(5698),ze=q(9300),Ve=q(5577),Qe=q(590);function Le(C,A){return(0,Rt.m)(A)?(0,Ve.z)(C,A,1):(0,Ve.z)(C,1)}var nt=q(8505);function vt(C){return(0,Kt.e)((A,T)=>{let J,k=null,z=!1;k=A.subscribe((0,ft.x)(T,void 0,void 0,ce=>{J=(0,Ze.Xf)(C(ce,vt(C)(A))),k?(k.unsubscribe(),k=null,J.subscribe(T)):z=!0})),z&&(k.unsubscribe(),k=null,J.subscribe(T))})}var Ft=q(5026);function rn(C){return C<=0?()=>Be.E:(0,Kt.e)((A,T)=>{let k=[];A.subscribe((0,ft.x)(T,z=>{k.push(z),C<k.length&&k.shift()},()=>{for(const z of k)T.next(z);T.complete()},void 0,()=>{k=null}))})}var jn=q(8068),Jt=q(6590);function nr(C,A){const T=arguments.length>=2;return k=>k.pipe(C?(0,ze.h)((z,J)=>C(z,J,k)):Ye.y,rn(1),T?(0,Jt.d)(A):(0,jn.T)(()=>new Ke.K))}function Hn(C){return(0,Kt.e)((A,T)=>{try{A.subscribe(T)}finally{T.add(C)}})}var Ar=q(1481);const nn="primary",Or=Symbol("RouteTitle");class Jr{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const T=this.params[A];return Array.isArray(T)?T[0]:T}return null}getAll(A){if(this.has(A)){const T=this.params[A];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function Nn(C){return new Jr(C)}function Ht(C,A,T){const k=T.path.split("/");if(k.length>C.length||"full"===T.pathMatch&&(A.hasChildren()||k.length<C.length))return null;const z={};for(let J=0;J<k.length;J++){const ce=k[J],We=C[J];if(ce.startsWith(":"))z[ce.substring(1)]=We;else if(ce!==We.path)return null}return{consumed:C.slice(0,k.length),posParams:z}}function Cr(C,A){const T=C?Object.keys(C):void 0,k=A?Object.keys(A):void 0;if(!T||!k||T.length!=k.length)return!1;let z;for(let J=0;J<T.length;J++)if(z=T[J],!Er(C[z],A[z]))return!1;return!0}function Er(C,A){if(Array.isArray(C)&&Array.isArray(A)){if(C.length!==A.length)return!1;const T=[...C].sort(),k=[...A].sort();return T.every((z,J)=>k[J]===z)}return C===A}function Ur(C){return Array.prototype.concat.apply([],C)}function Dr(C){return C.length>0?C[C.length-1]:null}function gn(C,A){for(const T in C)C.hasOwnProperty(T)&&A(C[T],T)}function tn(C){return(0,R.CqO)(C)?C:(0,R.QGY)(C)?(0,ee.D)(Promise.resolve(C)):(0,$.of)(C)}const Pn=!1,vi={exact:function ti(C,A,T){if(!Ei(C.segments,A.segments)||!ir(C.segments,A.segments,T)||C.numberOfChildren!==A.numberOfChildren)return!1;for(const k in A.children)if(!C.children[k]||!ti(C.children[k],A.children[k],T))return!1;return!0},subset:Vn},fi={exact:function Fi(C,A){return Cr(C,A)},subset:function Hi(C,A){return Object.keys(A).length<=Object.keys(C).length&&Object.keys(A).every(T=>Er(C[T],A[T]))},ignored:()=>!0};function ei(C,A,T){return vi[T.paths](C.root,A.root,T.matrixParams)&&fi[T.queryParams](C.queryParams,A.queryParams)&&!("exact"===T.fragment&&C.fragment!==A.fragment)}function Vn(C,A,T){return as(C,A,A.segments,T)}function as(C,A,T,k){if(C.segments.length>T.length){const z=C.segments.slice(0,T.length);return!(!Ei(z,T)||A.hasChildren()||!ir(z,T,k))}if(C.segments.length===T.length){if(!Ei(C.segments,T)||!ir(C.segments,T,k))return!1;for(const z in A.children)if(!C.children[z]||!Vn(C.children[z],A.children[z],k))return!1;return!0}{const z=T.slice(0,C.segments.length),J=T.slice(C.segments.length);return!!(Ei(C.segments,z)&&ir(C.segments,z,k)&&C.children[nn])&&as(C.children[nn],A,J,k)}}function ir(C,A,T){return A.every((k,z)=>fi[T](C[z].parameters,k.parameters))}class cr{constructor(A=new kt([],{}),T={},k=null){this.root=A,this.queryParams=T,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nn(this.queryParams)),this._queryParamMap}toString(){return es.serialize(this)}}class kt{constructor(A,T){this.segments=A,this.children=T,this.parent=null,gn(T,(k,z)=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return De(this)}}class ii{constructor(A,T){this.path=A,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=Nn(this.parameters)),this._parameterMap}toString(){return fe(this)}}function Ei(C,A){return C.length===A.length&&C.every((T,k)=>T.path===A[k].path)}let zi=(()=>{class C{}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=R.Yz7({token:C,factory:function(){return new Wi},providedIn:"root"}),C})();class Wi{parse(A){const T=new Xe(A);return new cr(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(A){const T=`/${we(A.root,!0)}`,k=function it(C){const A=Object.keys(C).map(T=>{const k=C[T];return Array.isArray(k)?k.map(z=>`${de(T)}=${de(z)}`).join("&"):`${de(T)}=${de(k)}`}).filter(T=>!!T);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${T}${k}${"string"==typeof A.fragment?`#${function ne(C){return encodeURI(C)}(A.fragment)}`:""}`}}const es=new Wi;function De(C){return C.segments.map(A=>fe(A)).join("/")}function we(C,A){if(!C.hasChildren())return De(C);if(A){const T=C.children[nn]?we(C.children[nn],!1):"",k=[];return gn(C.children,(z,J)=>{J!==nn&&k.push(`${J}:${we(z,!1)}`)}),k.length>0?`${T}(${k.join("//")})`:T}{const T=function Ui(C,A){let T=[];return gn(C.children,(k,z)=>{z===nn&&(T=T.concat(A(k,z)))}),gn(C.children,(k,z)=>{z!==nn&&(T=T.concat(A(k,z)))}),T}(C,(k,z)=>z===nn?[we(C.children[nn],!1)]:[`${z}:${we(k,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[nn]?`${De(C)}/${T[0]}`:`${De(C)}/(${T.join("//")})`}}function ae(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function de(C){return ae(C).replace(/%3B/gi,";")}function Re(C){return ae(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ye(C){return decodeURIComponent(C)}function _e(C){return ye(C.replace(/\+/g,"%20"))}function fe(C){return`${Re(C.path)}${function Pe(C){return Object.keys(C).map(A=>`;${Re(A)}=${Re(C[A])}`).join("")}(C.parameters)}`}const xt=/^[^\/()?;=#]+/;function fn(C){const A=C.match(xt);return A?A[0]:""}const bn=/^[^=?&#]+/,xs=/^[^&#]+/;class Xe{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(A.length>0||Object.keys(T).length>0)&&(k[nn]=new kt(A,T)),k}parseSegment(){const A=fn(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new R.vHH(4009,Pn);return this.capture(A),new ii(ye(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const T=fn(this.remaining);if(!T)return;this.capture(T);let k="";if(this.consumeOptional("=")){const z=fn(this.remaining);z&&(k=z,this.capture(k))}A[ye(T)]=ye(k)}parseQueryParam(A){const T=function Wr(C){const A=C.match(bn);return A?A[0]:""}(this.remaining);if(!T)return;this.capture(T);let k="";if(this.consumeOptional("=")){const ce=function ct(C){const A=C.match(xs);return A?A[0]:""}(this.remaining);ce&&(k=ce,this.capture(k))}const z=_e(T),J=_e(k);if(A.hasOwnProperty(z)){let ce=A[z];Array.isArray(ce)||(ce=[ce],A[z]=ce),ce.push(J)}else A[z]=J}parseParens(A){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=fn(this.remaining),z=this.remaining[k.length];if("/"!==z&&")"!==z&&";"!==z)throw new R.vHH(4010,Pn);let J;k.indexOf(":")>-1?(J=k.slice(0,k.indexOf(":")),this.capture(J),this.capture(":")):A&&(J=nn);const ce=this.parseChildren();T[J]=1===Object.keys(ce).length?ce[nn]:new kt([],ce),this.consumeOptional("//")}return T}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new R.vHH(4011,Pn)}}function Lt(C){return C.segments.length>0?new kt([],{[nn]:C}):C}function mn(C){const A={};for(const k of Object.keys(C.children)){const J=mn(C.children[k]);(J.segments.length>0||J.hasChildren())&&(A[k]=J)}return function Kn(C){if(1===C.numberOfChildren&&C.children[nn]){const A=C.children[nn];return new kt(C.segments.concat(A.segments),A.children)}return C}(new kt(C.segments,A))}function rr(C){return C instanceof cr}const vn=!1;function Mi(C,A,T,k,z){if(0===T.length)return ts(A.root,A.root,A.root,k,z);const J=function ar(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new on(!0,0,C);let A=0,T=!1;const k=C.reduce((z,J,ce)=>{if("object"==typeof J&&null!=J){if(J.outlets){const We={};return gn(J.outlets,(yt,Yt)=>{We[Yt]="string"==typeof yt?yt.split("/"):yt}),[...z,{outlets:We}]}if(J.segmentPath)return[...z,J.segmentPath]}return"string"!=typeof J?[...z,J]:0===ce?(J.split("/").forEach((We,yt)=>{0==yt&&"."===We||(0==yt&&""===We?T=!0:".."===We?A++:""!=We&&z.push(We))}),z):[...z,J]},[]);return new on(T,A,k)}(T);return J.toRoot()?ts(A.root,A.root,new kt([],{}),k,z):function ce(yt){const Yt=function xo(C,A,T,k){if(C.isAbsolute)return new Gr(A.root,!0,0);if(-1===k)return new Gr(T,T===A.root,0);return function Bi(C,A,T){let k=C,z=A,J=T;for(;J>z;){if(J-=z,k=k.parent,!k)throw new R.vHH(4005,vn&&"Invalid number of '../'");z=k.segments.length}return new Gr(k,!1,z-J)}(T,k+(Ro(C.commands[0])?0:1),C.numberOfDoubleDots)}(J,A,C.snapshot?._urlSegment,yt),yn=Yt.processChildren?je(Yt.segmentGroup,Yt.index,J.commands):wi(Yt.segmentGroup,Yt.index,J.commands);return ts(A.root,Yt.segmentGroup,yn,k,z)}(C.snapshot?._lastPathIndex)}function Ro(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function ls(C){return"object"==typeof C&&null!=C&&C.outlets}function ts(C,A,T,k,z){let ce,J={};k&&gn(k,(yt,Yt)=>{J[Yt]=Array.isArray(yt)?yt.map(yn=>`${yn}`):`${yt}`}),ce=C===A?T:Di(C,A,T);const We=Lt(mn(ce));return new cr(We,J,z)}function Di(C,A,T){const k={};return gn(C.children,(z,J)=>{k[J]=z===A?T:Di(z,A,T)}),new kt(C.segments,k)}class on{constructor(A,T,k){if(this.isAbsolute=A,this.numberOfDoubleDots=T,this.commands=k,A&&k.length>0&&Ro(k[0]))throw new R.vHH(4003,vn&&"Root segment cannot have matrix parameters");const z=k.find(ls);if(z&&z!==Dr(k))throw new R.vHH(4004,vn&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gr{constructor(A,T,k){this.segmentGroup=A,this.processChildren=T,this.index=k}}function wi(C,A,T){if(C||(C=new kt([],{})),0===C.segments.length&&C.hasChildren())return je(C,A,T);const k=function ke(C,A,T){let k=0,z=A;const J={match:!1,pathIndex:0,commandIndex:0};for(;z<C.segments.length;){if(k>=T.length)return J;const ce=C.segments[z],We=T[k];if(ls(We))break;const yt=`${We}`,Yt=k<T.length-1?T[k+1]:null;if(z>0&&void 0===yt)break;if(yt&&Yt&&"object"==typeof Yt&&void 0===Yt.outlets){if(!Fn(yt,Yt,ce))return J;k+=2}else{if(!Fn(yt,{},ce))return J;k++}z++}return{match:!0,pathIndex:z,commandIndex:k}}(C,A,T),z=T.slice(k.commandIndex);if(k.match&&k.pathIndex<C.segments.length){const J=new kt(C.segments.slice(0,k.pathIndex),{});return J.children[nn]=new kt(C.segments.slice(k.pathIndex),C.children),je(J,0,z)}return k.match&&0===z.length?new kt(C.segments,{}):k.match&&!C.hasChildren()?Fe(C,A,T):k.match?je(C,0,z):Fe(C,A,T)}function je(C,A,T){if(0===T.length)return new kt(C.segments,{});{const k=function Go(C){return ls(C[0])?C[0].outlets:{[nn]:C}}(T),z={};if(!k[nn]&&C.children[nn]&&1===C.numberOfChildren&&0===C.children[nn].segments.length){const J=je(C.children[nn],A,T);return new kt(C.segments,J.children)}return gn(k,(J,ce)=>{"string"==typeof J&&(J=[J]),null!==J&&(z[ce]=wi(C.children[ce],A,J))}),gn(C.children,(J,ce)=>{void 0===k[ce]&&(z[ce]=J)}),new kt(C.segments,z)}}function Fe(C,A,T){const k=C.segments.slice(0,A);let z=0;for(;z<T.length;){const J=T[z];if(ls(J)){const yt=Dt(J.outlets);return new kt(k,yt)}if(0===z&&Ro(T[0])){k.push(new ii(C.segments[A].path,Nt(T[0]))),z++;continue}const ce=ls(J)?J.outlets[nn]:`${J}`,We=z<T.length-1?T[z+1]:null;ce&&We&&Ro(We)?(k.push(new ii(ce,Nt(We))),z+=2):(k.push(new ii(ce,{})),z++)}return new kt(k,{})}function Dt(C){const A={};return gn(C,(T,k)=>{"string"==typeof T&&(T=[T]),null!==T&&(A[k]=Fe(new kt([],{}),0,T))}),A}function Nt(C){const A={};return gn(C,(T,k)=>A[k]=`${T}`),A}function Fn(C,A,T){return C==T.path&&Cr(A,T.parameters)}const sr="imperative";class Tn{constructor(A,T){this.id=A,this.url=T}}class xr extends Tn{constructor(A,T,k="imperative",z=null){super(A,T),this.type=0,this.navigationTrigger=k,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class us extends Tn{constructor(A,T,k){super(A,T),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ws extends Tn{constructor(A,T,k,z){super(A,T),this.reason=k,this.code=z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cs extends Tn{constructor(A,T,k,z){super(A,T),this.reason=k,this.code=z,this.type=16}}class Ki extends Tn{constructor(A,T,k,z){super(A,T),this.error=k,this.target=z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gi extends Tn{constructor(A,T,k,z){super(A,T),this.urlAfterRedirects=k,this.state=z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cs extends Tn{constructor(A,T,k,z){super(A,T),this.urlAfterRedirects=k,this.state=z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aa extends Tn{constructor(A,T,k,z,J){super(A,T),this.urlAfterRedirects=k,this.state=z,this.shouldActivate=J,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ao extends Tn{constructor(A,T,k,z){super(A,T),this.urlAfterRedirects=k,this.state=z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Br extends Tn{constructor(A,T,k,z){super(A,T),this.urlAfterRedirects=k,this.state=z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kr{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lr{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Si{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kr{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ps{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qi{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ds{constructor(A,T,k){this.routerEvent=A,this.position=T,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Un=(()=>{class C{createUrlTree(T,k,z,J,ce,We){return Mi(T||k.root,z,J,ce,We)}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=R.Yz7({token:C,factory:C.\u0275fac}),C})(),qo=(()=>{class C{}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=R.Yz7({token:C,factory:function(A){return Un.\u0275fac(A)},providedIn:"root"}),C})();class Zo{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const T=this.pathFromRoot(A);return T.length>1?T[T.length-2]:null}children(A){const T=mi(A,this._root);return T?T.children.map(k=>k.value):[]}firstChild(A){const T=mi(A,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(A){const T=Qu(A,this._root);return T.length<2?[]:T[T.length-2].children.map(z=>z.value).filter(z=>z!==A)}pathFromRoot(A){return Qu(A,this._root).map(T=>T.value)}}function mi(C,A){if(C===A.value)return A;for(const T of A.children){const k=mi(C,T);if(k)return k}return null}function Qu(C,A){if(C===A.value)return[A];for(const T of A.children){const k=Qu(C,T);if(k.length)return k.unshift(A),k}return[]}class Zs{constructor(A,T){this.value=A,this.children=T}toString(){return`TreeNode(${this.value})`}}function Eo(C){const A={};return C&&C.children.forEach(T=>A[T.value.outlet]=T),A}class Ml extends Zo{constructor(A,T){super(A),this.snapshot=T,nl(this,A)}toString(){return this.snapshot.toString()}}function Yo(C,A){const T=function ml(C,A){const ce=new uo([],{},{},"",{},nn,A,null,C.root,-1,{});return new Qo("",new Zs(ce,[]))}(C,A),k=new xe([new ii("",{})]),z=new xe({}),J=new xe({}),ce=new xe({}),We=new xe(""),yt=new Hs(k,z,ce,We,J,nn,A,T.root);return yt.snapshot=T.root,new Ml(new Zs(yt,[]),T)}class Hs{constructor(A,T,k,z,J,ce,We,yt){this.url=A,this.params=T,this.queryParams=k,this.fragment=z,this.data=J,this.outlet=ce,this.component=We,this.title=this.data?.pipe((0,kn.U)(Yt=>Yt[Or]))??(0,$.of)(void 0),this._futureSnapshot=yt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,kn.U)(A=>Nn(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,kn.U)(A=>Nn(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lo(C,A="emptyOnly"){const T=C.pathFromRoot;let k=0;if("always"!==A)for(k=T.length-1;k>=1;){const z=T[k],J=T[k-1];if(z.routeConfig&&""===z.routeConfig.path)k--;else{if(J.component)break;k--}}return function Yl(C){return C.reduce((A,T)=>({params:{...A.params,...T.params},data:{...A.data,...T.data},resolve:{...T.data,...A.resolve,...T.routeConfig?.data,...T._resolvedData}}),{params:{},data:{},resolve:{}})}(T.slice(k))}class uo{get title(){return this.data?.[Or]}constructor(A,T,k,z,J,ce,We,yt,Yt,yn,yr){this.url=A,this.params=T,this.queryParams=k,this.fragment=z,this.data=J,this.outlet=ce,this.component=We,this.routeConfig=yt,this._urlSegment=Yt,this._lastPathIndex=yn,this._resolve=yr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qo extends Zo{constructor(A,T){super(T),this.url=A,nl(this,T)}toString(){return zs(this._root)}}function nl(C,A){A.value._routerState=C,A.children.forEach(T=>nl(C,T))}function zs(C){const A=C.children.length>0?` { ${C.children.map(zs).join(", ")} } `:"";return`${C.value}${A}`}function wo(C){if(C.snapshot){const A=C.snapshot,T=C._futureSnapshot;C.snapshot=T,Cr(A.queryParams,T.queryParams)||C.queryParams.next(T.queryParams),A.fragment!==T.fragment&&C.fragment.next(T.fragment),Cr(A.params,T.params)||C.params.next(T.params),function Zn(C,A){if(C.length!==A.length)return!1;for(let T=0;T<C.length;++T)if(!Cr(C[T],A[T]))return!1;return!0}(A.url,T.url)||C.url.next(T.url),Cr(A.data,T.data)||C.data.next(T.data)}else C.snapshot=C._futureSnapshot,C.data.next(C._futureSnapshot.data)}function dr(C,A){const T=Cr(C.params,A.params)&&function pi(C,A){return Ei(C,A)&&C.every((T,k)=>Cr(T.parameters,A[k].parameters))}(C.url,A.url);return T&&!(!C.parent!=!A.parent)&&(!C.parent||dr(C.parent,A.parent))}function Ws(C,A,T){if(T&&C.shouldReuseRoute(A.value,T.value.snapshot)){const k=T.value;k._futureSnapshot=A.value;const z=function Xo(C,A,T){return A.children.map(k=>{for(const z of T.children)if(C.shouldReuseRoute(k.value,z.value.snapshot))return Ws(C,k,z);return Ws(C,k)})}(C,A,T);return new Zs(k,z)}{if(C.shouldAttach(A.value)){const J=C.retrieve(A.value);if(null!==J){const ce=J.route;return ce.value._futureSnapshot=A.value,ce.children=A.children.map(We=>Ws(C,We)),ce}}const k=function gs(C){return new Hs(new xe(C.url),new xe(C.params),new xe(C.queryParams),new xe(C.fragment),new xe(C.data),C.outlet,C.component,C)}(A.value),z=A.children.map(J=>Ws(C,J));return new Zs(k,z)}}const Io="ngNavigationCancelingError";function ms(C,A){const{redirectTo:T,navigationBehaviorOptions:k}=rr(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,z=Ql(!1,0,A);return z.url=T,z.navigationBehaviorOptions=k,z}function Ql(C,A,T){const k=new Error("NavigationCancelingError: "+(C||""));return k[Io]=!0,k.cancellationCode=A,T&&(k.url=T),k}function Vi(C){return gu(C)&&rr(C.url)}function gu(C){return C&&C[Io]}class la{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ua,this.attachRef=null}}let ua=(()=>{class C{constructor(){this.contexts=new Map}onChildOutletCreated(T,k){const z=this.getOrCreateContext(T);z.outlet=k,this.contexts.set(T,z)}onChildOutletDestroyed(T){const k=this.getContext(T);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let k=this.getContext(T);return k||(k=new la,this.contexts.set(T,k)),k}getContext(T){return this.contexts.get(T)||null}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=R.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const co=!1;let ks=(()=>{class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=nn,this.activateEvents=new R.vpe,this.deactivateEvents=new R.vpe,this.attachEvents=new R.vpe,this.detachEvents=new R.vpe,this.parentContexts=(0,R.f3M)(ua),this.location=(0,R.f3M)(R.s_b),this.changeDetector=(0,R.f3M)(R.sBO),this.environmentInjector=(0,R.f3M)(R.lqb)}ngOnChanges(T){if(T.name){const{firstChange:k,previousValue:z}=T.name;if(k)return;this.isTrackedInParentContexts(z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(T){return this.parentContexts.getContext(T)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);T?.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R.vHH(4012,co);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R.vHH(4012,co);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R.vHH(4012,co);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,k){this.activated=T,this._activatedRoute=k,this.location.insert(T.hostView),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,k){if(this.isActivated)throw new R.vHH(4013,co);this._activatedRoute=T;const z=this.location,ce=T.snapshot.component,We=this.parentContexts.getOrCreateContext(this.name).children,yt=new Ni(T,We,z.injector);if(k&&function ca(C){return!!C.resolveComponentFactory}(k)){const Yt=k.resolveComponentFactory(ce);this.activated=z.createComponent(Yt,z.length,yt)}else this.activated=z.createComponent(ce,{index:z.length,injector:yt,environmentInjector:k??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275dir=R.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[R.TTD]}),C})();class Ni{constructor(A,T,k){this.route=A,this.childContexts=T,this.parent=k}get(A,T){return A===Hs?this.route:A===ua?this.childContexts:this.parent.get(A,T)}}let To=(()=>{class C{}return C.\u0275fac=function(T){return new(T||C)},C.\u0275cmp=R.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[R.jDz],decls:1,vars:0,template:function(T,k){1&T&&R._UZ(0,"router-outlet")},dependencies:[ks],encapsulation:2}),C})();function Ai(C,A){return C.providers&&!C._injector&&(C._injector=(0,R.MMx)(C.providers,A,`Route: ${C.path}`)),C._injector??A}function bo(C){const A=C.children&&C.children.map(bo),T=A?{...C,children:A}:{...C};return!T.component&&!T.loadComponent&&(A||T.loadChildren)&&T.outlet&&T.outlet!==nn&&(T.component=To),T}function ys(C){return C.outlet||nn}function hs(C,A){const T=C.filter(k=>ys(k)===A);return T.push(...C.filter(k=>ys(k)!==A)),T}function Ys(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let A=C.parent;A;A=A.parent){const T=A.routeConfig;if(T?._loadedInjector)return T._loadedInjector;if(T?._injector)return T._injector}return null}class or{constructor(A,T,k,z){this.routeReuseStrategy=A,this.futureState=T,this.currState=k,this.forwardEvent=z}activate(A){const T=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,k,A),wo(this.futureState.root),this.activateChildRoutes(T,k,A)}deactivateChildRoutes(A,T,k){const z=Eo(T);A.children.forEach(J=>{const ce=J.value.outlet;this.deactivateRoutes(J,z[ce],k),delete z[ce]}),gn(z,(J,ce)=>{this.deactivateRouteAndItsChildren(J,k)})}deactivateRoutes(A,T,k){const z=A.value,J=T?T.value:null;if(z===J)if(z.component){const ce=k.getContext(z.outlet);ce&&this.deactivateChildRoutes(A,T,ce.children)}else this.deactivateChildRoutes(A,T,k);else J&&this.deactivateRouteAndItsChildren(T,k)}deactivateRouteAndItsChildren(A,T){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,T):this.deactivateRouteAndOutlet(A,T)}detachAndStoreRouteSubtree(A,T){const k=T.getContext(A.value.outlet),z=k&&A.value.component?k.children:T,J=Eo(A);for(const ce of Object.keys(J))this.deactivateRouteAndItsChildren(J[ce],z);if(k&&k.outlet){const ce=k.outlet.detach(),We=k.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:ce,route:A,contexts:We})}}deactivateRouteAndOutlet(A,T){const k=T.getContext(A.value.outlet),z=k&&A.value.component?k.children:T,J=Eo(A);for(const ce of Object.keys(J))this.deactivateRouteAndItsChildren(J[ce],z);k&&(k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated()),k.attachRef=null,k.resolver=null,k.route=null)}activateChildRoutes(A,T,k){const z=Eo(T);A.children.forEach(J=>{this.activateRoutes(J,z[J.value.outlet],k),this.forwardEvent(new qi(J.value.snapshot))}),A.children.length&&this.forwardEvent(new Kr(A.value.snapshot))}activateRoutes(A,T,k){const z=A.value,J=T?T.value:null;if(wo(z),z===J)if(z.component){const ce=k.getOrCreateContext(z.outlet);this.activateChildRoutes(A,T,ce.children)}else this.activateChildRoutes(A,T,k);else if(z.component){const ce=k.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const We=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),ce.children.onOutletReAttached(We.contexts),ce.attachRef=We.componentRef,ce.route=We.route.value,ce.outlet&&ce.outlet.attach(We.componentRef,We.route.value),wo(We.route.value),this.activateChildRoutes(A,null,ce.children)}else{const We=Ys(z.snapshot),yt=We?.get(R._Vd)??null;ce.attachRef=null,ce.route=z,ce.resolver=yt,ce.injector=We,ce.outlet&&ce.outlet.activateWith(z,ce.injector),this.activateChildRoutes(A,null,ce.children)}}else this.activateChildRoutes(A,null,k)}}class da{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class Nl{constructor(A,T){this.component=A,this.route=T}}function Ri(C,A,T){const k=C._root;return Jo(k,A?A._root:null,T,[k.value])}function fa(C,A){const T=Symbol(),k=A.get(C,T);return k===T?"function"!=typeof C||(0,R.Z0I)(C)?A.get(C):C:k}function Jo(C,A,T,k,z={canDeactivateChecks:[],canActivateChecks:[]}){const J=Eo(A);return C.children.forEach(ce=>{(function Ol(C,A,T,k,z={canDeactivateChecks:[],canActivateChecks:[]}){const J=C.value,ce=A?A.value:null,We=T?T.getContext(C.value.outlet):null;if(ce&&J.routeConfig===ce.routeConfig){const yt=function _l(C,A,T){if("function"==typeof T)return T(C,A);switch(T){case"pathParamsChange":return!Ei(C.url,A.url);case"pathParamsOrQueryParamsChange":return!Ei(C.url,A.url)||!Cr(C.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dr(C,A)||!Cr(C.queryParams,A.queryParams);default:return!dr(C,A)}}(ce,J,J.routeConfig.runGuardsAndResolvers);yt?z.canActivateChecks.push(new da(k)):(J.data=ce.data,J._resolvedData=ce._resolvedData),Jo(C,A,J.component?We?We.children:null:T,k,z),yt&&We&&We.outlet&&We.outlet.isActivated&&z.canDeactivateChecks.push(new Nl(We.outlet.component,ce))}else ce&&ot(A,We,z),z.canActivateChecks.push(new da(k)),Jo(C,null,J.component?We?We.children:null:T,k,z)})(ce,J[ce.value.outlet],T,k.concat([ce.value]),z),delete J[ce.value.outlet]}),gn(J,(ce,We)=>ot(ce,T.getContext(We),z)),z}function ot(C,A,T){const k=Eo(C),z=C.value;gn(k,(J,ce)=>{ot(J,z.component?A?A.children.getContext(ce):null:A,T)}),T.canDeactivateChecks.push(new Nl(z.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,z))}function Gn(C){return"function"==typeof C}function rl(C){return C instanceof Ke.K||"EmptyError"===C?.name}const Co=Symbol("INITIAL_VALUE");function Is(){return(0,zr.w)(C=>Ot(C.map(A=>A.pipe((0,Sn.q)(1),function pr(...C){const A=(0,Te.yG)(C);return(0,Kt.e)((T,k)=>{(A?mt(C,T,A):mt(C,T)).subscribe(k)})}(Co)))).pipe((0,kn.U)(A=>{for(const T of A)if(!0!==T){if(T===Co)return Co;if(!1===T||T instanceof cr)return T}return!0}),(0,ze.h)(A=>A!==Co),(0,Sn.q)(1)))}function $i(C){return(0,dt.z)((0,nt.b)(A=>{if(rr(A))throw ms(0,A)}),(0,kn.U)(A=>!0===A))}const pa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yr(C,A,T,k,z){const J=ho(C,A,T);return J.matched?function Js(C,A,T,k){const z=A.canMatch;if(!z||0===z.length)return(0,$.of)(!0);const J=z.map(ce=>{const We=fa(ce,C);return tn(function Qs(C){return C&&Gn(C.canMatch)}(We)?We.canMatch(A,T):C.runInContext(()=>We(A,T)))});return(0,$.of)(J).pipe(Is(),$i())}(k=Ai(A,k),A,T).pipe((0,kn.U)(ce=>!0===ce?J:{...pa})):(0,$.of)(J)}function ho(C,A,T){if(""===A.path)return"full"===A.pathMatch&&(C.hasChildren()||T.length>0)?{...pa}:{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const z=(A.matcher||Ht)(T,C,A);if(!z)return{...pa};const J={};gn(z.posParams,(We,yt)=>{J[yt]=We.path});const ce=z.consumed.length>0?{...J,...z.consumed[z.consumed.length-1].parameters}:J;return{matched:!0,consumedSegments:z.consumed,remainingSegments:T.slice(z.consumed.length),parameters:ce,positionalParamSegments:z.posParams??{}}}function Ma(C,A,T,k){if(T.length>0&&function Fo(C,A,T){return T.some(k=>Do(C,A,k)&&ys(k)!==nn)}(C,T,k)){const J=new kt(A,function Ms(C,A,T,k){const z={};z[nn]=k,k._sourceSegment=C,k._segmentIndexShift=A.length;for(const J of T)if(""===J.path&&ys(J)!==nn){const ce=new kt([],{});ce._sourceSegment=C,ce._segmentIndexShift=A.length,z[ys(J)]=ce}return z}(C,A,k,new kt(T,C.children)));return J._sourceSegment=C,J._segmentIndexShift=A.length,{segmentGroup:J,slicedSegments:[]}}if(0===T.length&&function ns(C,A,T){return T.some(k=>Do(C,A,k))}(C,T,k)){const J=new kt(C.segments,function Ps(C,A,T,k,z){const J={};for(const ce of k)if(Do(C,T,ce)&&!z[ys(ce)]){const We=new kt([],{});We._sourceSegment=C,We._segmentIndexShift=A.length,J[ys(ce)]=We}return{...z,...J}}(C,A,T,k,C.children));return J._sourceSegment=C,J._segmentIndexShift=A.length,{segmentGroup:J,slicedSegments:T}}const z=new kt(C.segments,C.children);return z._sourceSegment=C,z._segmentIndexShift=A.length,{segmentGroup:z,slicedSegments:T}}function Do(C,A,T){return(!(C.hasChildren()||A.length>0)||"full"!==T.pathMatch)&&""===T.path}function ga(C,A,T,k){return!!(ys(C)===k||k!==nn&&Do(A,T,C))&&("**"===C.path||ho(A,C,T).matched)}function Ns(C,A,T){return 0===A.length&&!C.children[T]}const Zi=!1;class br{constructor(A){this.segmentGroup=A||null}}class _s{constructor(A){this.urlTree=A}}function li(C){return _t(new br(C))}function eo(C){return _t(new _s(C))}class tu{constructor(A,T,k,z,J){this.injector=A,this.configLoader=T,this.urlSerializer=k,this.urlTree=z,this.config=J,this.allowRedirects=!0}apply(){const A=Ma(this.urlTree.root,[],[],this.config).segmentGroup,T=new kt(A.segments,A.children);return this.expandSegmentGroup(this.injector,this.config,T,nn).pipe((0,kn.U)(J=>this.createUrlTree(mn(J),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vt(J=>{if(J instanceof _s)return this.allowRedirects=!1,this.match(J.urlTree);throw J instanceof br?this.noMatchError(J):J}))}match(A){return this.expandSegmentGroup(this.injector,this.config,A.root,nn).pipe((0,kn.U)(z=>this.createUrlTree(mn(z),A.queryParams,A.fragment))).pipe(vt(z=>{throw z instanceof br?this.noMatchError(z):z}))}noMatchError(A){return new R.vHH(4002,Zi)}createUrlTree(A,T,k){const z=Lt(A);return new cr(z,T,k)}expandSegmentGroup(A,T,k,z){return 0===k.segments.length&&k.hasChildren()?this.expandChildren(A,T,k).pipe((0,kn.U)(J=>new kt([],J))):this.expandSegment(A,k,T,k.segments,z,!0)}expandChildren(A,T,k){const z=[];for(const J of Object.keys(k.children))"primary"===J?z.unshift(J):z.push(J);return(0,ee.D)(z).pipe(Le(J=>{const ce=k.children[J],We=hs(T,J);return this.expandSegmentGroup(A,We,ce,J).pipe((0,kn.U)(yt=>({segment:yt,outlet:J})))}),(0,Ft.R)((J,ce)=>(J[ce.outlet]=ce.segment,J),{}),nr())}expandSegment(A,T,k,z,J,ce){return(0,ee.D)(k).pipe(Le(We=>this.expandSegmentAgainstRoute(A,T,k,We,z,J,ce).pipe(vt(Yt=>{if(Yt instanceof br)return(0,$.of)(null);throw Yt}))),(0,Qe.P)(We=>!!We),vt((We,yt)=>{if(rl(We))return Ns(T,z,J)?(0,$.of)(new kt([],{})):li(T);throw We}))}expandSegmentAgainstRoute(A,T,k,z,J,ce,We){return ga(z,T,J,ce)?void 0===z.redirectTo?this.matchSegmentAgainstRoute(A,T,z,J,ce):We&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,T,k,z,J,ce):li(T):li(T)}expandSegmentAgainstRouteUsingRedirect(A,T,k,z,J,ce){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,k,z,ce):this.expandRegularSegmentAgainstRouteUsingRedirect(A,T,k,z,J,ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,T,k,z){const J=this.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?eo(J):this.lineralizeSegments(k,J).pipe((0,Ve.z)(ce=>{const We=new kt(ce,{});return this.expandSegment(A,We,T,ce,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,T,k,z,J,ce){const{matched:We,consumedSegments:yt,remainingSegments:Yt,positionalParamSegments:yn}=ho(T,z,J);if(!We)return li(T);const yr=this.applyRedirectCommands(yt,z.redirectTo,yn);return z.redirectTo.startsWith("/")?eo(yr):this.lineralizeSegments(z,yr).pipe((0,Ve.z)(Ts=>this.expandSegment(A,T,k,Ts.concat(Yt),ce,!1)))}matchSegmentAgainstRoute(A,T,k,z,J){return"**"===k.path?(A=Ai(k,A),k.loadChildren?(k._loadedRoutes?(0,$.of)({routes:k._loadedRoutes,injector:k._loadedInjector}):this.configLoader.loadChildren(A,k)).pipe((0,kn.U)(We=>(k._loadedRoutes=We.routes,k._loadedInjector=We.injector,new kt(z,{})))):(0,$.of)(new kt(z,{}))):Yr(T,k,z,A).pipe((0,zr.w)(({matched:ce,consumedSegments:We,remainingSegments:yt})=>ce?this.getChildConfig(A=k._injector??A,k,z).pipe((0,Ve.z)(yn=>{const yr=yn.injector??A,Ts=yn.routes,{segmentGroup:Ao,slicedSegments:fo}=Ma(T,We,yt,Ts),xi=new kt(Ao.segments,Ao.children);if(0===fo.length&&xi.hasChildren())return this.expandChildren(yr,Ts,xi).pipe((0,kn.U)(si=>new kt(We,si)));if(0===Ts.length&&0===fo.length)return(0,$.of)(new kt(We,{}));const Xr=ys(k)===J;return this.expandSegment(yr,xi,Ts,fo,Xr?nn:J,!0).pipe((0,kn.U)(Ha=>new kt(We.concat(Ha.segments),Ha.children)))})):li(T)))}getChildConfig(A,T,k){return T.children?(0,$.of)({routes:T.children,injector:A}):T.loadChildren?void 0!==T._loadedRoutes?(0,$.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function vl(C,A,T,k){const z=A.canLoad;if(void 0===z||0===z.length)return(0,$.of)(!0);const J=z.map(ce=>{const We=fa(ce,C);return tn(function No(C){return C&&Gn(C.canLoad)}(We)?We.canLoad(A,T):C.runInContext(()=>We(A,T)))});return(0,$.of)(J).pipe(Is(),$i())}(A,T,k).pipe((0,Ve.z)(z=>z?this.configLoader.loadChildren(A,T).pipe((0,nt.b)(J=>{T._loadedRoutes=J.routes,T._loadedInjector=J.injector})):function Ll(C){return _t(Ql(Zi,3))}())):(0,$.of)({routes:[],injector:A})}lineralizeSegments(A,T){let k=[],z=T.root;for(;;){if(k=k.concat(z.segments),0===z.numberOfChildren)return(0,$.of)(k);if(z.numberOfChildren>1||!z.children[nn])return A.redirectTo,_t(new R.vHH(4e3,Zi));z=z.children[nn]}}applyRedirectCommands(A,T,k){return this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),A,k)}applyRedirectCreateUrlTree(A,T,k,z){const J=this.createSegmentGroup(A,T.root,k,z);return new cr(J,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(A,T){const k={};return gn(A,(z,J)=>{if("string"==typeof z&&z.startsWith(":")){const We=z.substring(1);k[J]=T[We]}else k[J]=z}),k}createSegmentGroup(A,T,k,z){const J=this.createSegments(A,T.segments,k,z);let ce={};return gn(T.children,(We,yt)=>{ce[yt]=this.createSegmentGroup(A,We,k,z)}),new kt(J,ce)}createSegments(A,T,k,z){return T.map(J=>J.path.startsWith(":")?this.findPosParam(A,J,z):this.findOrReturn(J,k))}findPosParam(A,T,k){const z=k[T.path.substring(1)];if(!z)throw new R.vHH(4001,Zi);return z}findOrReturn(A,T){let k=0;for(const z of T){if(z.path===A.path)return T.splice(k),z;k++}return A}}class ru{}class G{constructor(A,T,k,z,J,ce,We){this.injector=A,this.rootComponentType=T,this.config=k,this.urlTree=z,this.url=J,this.paramsInheritanceStrategy=ce,this.urlSerializer=We}recognize(){const A=Ma(this.urlTree.root,[],[],this.config.filter(T=>void 0===T.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,nn).pipe((0,kn.U)(T=>{if(null===T)return null;const k=new uo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nn,this.rootComponentType,null,this.urlTree.root,-1,{}),z=new Zs(k,T),J=new Qo(this.url,z);return this.inheritParamsAndData(J._root),J}))}inheritParamsAndData(A){const T=A.value,k=lo(T,this.paramsInheritanceStrategy);T.params=Object.freeze(k.params),T.data=Object.freeze(k.data),A.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(A,T,k,z){return 0===k.segments.length&&k.hasChildren()?this.processChildren(A,T,k):this.processSegment(A,T,k,k.segments,z)}processChildren(A,T,k){return(0,ee.D)(Object.keys(k.children)).pipe(Le(z=>{const J=k.children[z],ce=hs(T,z);return this.processSegmentGroup(A,ce,J,z)}),(0,Ft.R)((z,J)=>z&&J?(z.push(...J),z):null),function Fr(C,A=!1){return(0,Kt.e)((T,k)=>{let z=0;T.subscribe((0,ft.x)(k,J=>{const ce=C(J,z++);(ce||A)&&k.next(J),!ce&&k.complete()}))})}(z=>null!==z),(0,Jt.d)(null),nr(),(0,kn.U)(z=>{if(null===z)return null;const J=st(z);return function B(C){C.sort((A,T)=>A.value.outlet===nn?-1:T.value.outlet===nn?1:A.value.outlet.localeCompare(T.value.outlet))}(J),J}))}processSegment(A,T,k,z,J){return(0,ee.D)(T).pipe(Le(ce=>this.processSegmentAgainstRoute(ce._injector??A,ce,k,z,J)),(0,Qe.P)(ce=>!!ce),vt(ce=>{if(rl(ce))return Ns(k,z,J)?(0,$.of)([]):(0,$.of)(null);throw ce}))}processSegmentAgainstRoute(A,T,k,z,J){if(T.redirectTo||!ga(T,k,z,J))return(0,$.of)(null);let ce;if("**"===T.path){const We=z.length>0?Dr(z).parameters:{},yt=Sr(k)+z.length,Yt=new uo(z,We,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tr(T),ys(T),T.component??T._loadedComponent??null,T,qt(k),yt,wr(T));ce=(0,$.of)({snapshot:Yt,consumedSegments:[],remainingSegments:[]})}else ce=Yr(k,T,z,A).pipe((0,kn.U)(({matched:We,consumedSegments:yt,remainingSegments:Yt,parameters:yn})=>{if(!We)return null;const yr=Sr(k)+yt.length;return{snapshot:new uo(yt,yn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tr(T),ys(T),T.component??T._loadedComponent??null,T,qt(k),yr,wr(T)),consumedSegments:yt,remainingSegments:Yt}}));return ce.pipe((0,zr.w)(We=>{if(null===We)return(0,$.of)(null);const{snapshot:yt,consumedSegments:Yt,remainingSegments:yn}=We;A=T._injector??A;const yr=T._loadedInjector??A,Ts=function te(C){return C.children?C.children:C.loadChildren?C._loadedRoutes:[]}(T),{segmentGroup:Ao,slicedSegments:fo}=Ma(k,Yt,yn,Ts.filter(Xr=>void 0===Xr.redirectTo));if(0===fo.length&&Ao.hasChildren())return this.processChildren(yr,Ts,Ao).pipe((0,kn.U)(Xr=>null===Xr?null:[new Zs(yt,Xr)]));if(0===Ts.length&&0===fo.length)return(0,$.of)([new Zs(yt,[])]);const xi=ys(T)===J;return this.processSegment(yr,Ts,Ao,fo,xi?nn:J).pipe((0,kn.U)(Xr=>null===Xr?null:[new Zs(yt,Xr)]))}))}}function Ee(C){const A=C.value.routeConfig;return A&&""===A.path&&void 0===A.redirectTo}function st(C){const A=[],T=new Set;for(const k of C){if(!Ee(k)){A.push(k);continue}const z=A.find(J=>k.value.routeConfig===J.value.routeConfig);void 0!==z?(z.children.push(...k.children),T.add(z)):A.push(k)}for(const k of T){const z=st(k.children);A.push(new Zs(k.value,z))}return A.filter(k=>!T.has(k))}function qt(C){let A=C;for(;A._sourceSegment;)A=A._sourceSegment;return A}function Sr(C){let A=C,T=A._segmentIndexShift??0;for(;A._sourceSegment;)A=A._sourceSegment,T+=A._segmentIndexShift??0;return T-1}function tr(C){return C.data||{}}function wr(C){return C.resolve||{}}function Yi(C){return"string"==typeof C.title||null===C.title}function zt(C){return(0,zr.w)(A=>{const T=C(A);return T?(0,ee.D)(T).pipe((0,kn.U)(()=>A)):(0,$.of)(A)})}const Et=new R.OlP("ROUTES");let Ii=(()=>{class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,R.f3M)(R.Sil)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,$.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const k=tn(T.loadComponent()).pipe((0,kn.U)(yc),(0,nt.b)(J=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=J}),Hn(()=>{this.componentLoaders.delete(T)})),z=new hn(k,()=>new Me.x).pipe($t());return this.componentLoaders.set(T,z),z}loadChildren(T,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,$.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const J=this.loadModuleFactoryOrRoutes(k.loadChildren).pipe((0,kn.U)(We=>{this.onLoadEndListener&&this.onLoadEndListener(k);let yt,Yt,yn=!1;Array.isArray(We)?Yt=We:(yt=We.create(T).injector,Yt=Ur(yt.get(Et,[],R.XFs.Self|R.XFs.Optional)));return{routes:Yt.map(bo),injector:yt}}),Hn(()=>{this.childrenLoaders.delete(k)})),ce=new hn(J,()=>new Me.x).pipe($t());return this.childrenLoaders.set(k,ce),ce}loadModuleFactoryOrRoutes(T){return tn(T()).pipe((0,kn.U)(yc),(0,Ve.z)(k=>k instanceof R.YKP||Array.isArray(k)?(0,$.of)(k):(0,ee.D)(this.compiler.compileModuleAsync(k))))}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=R.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function yc(C){return function Oa(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let Fl=(()=>{class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Me.x,this.configLoader=(0,R.f3M)(Ii),this.environmentInjector=(0,R.f3M)(R.lqb),this.urlSerializer=(0,R.f3M)(zi),this.rootContexts=(0,R.f3M)(ua),this.navigationId=0,this.afterPreactivation=()=>(0,$.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=z=>this.events.next(new lr(z)),this.configLoader.onLoadStartListener=z=>this.events.next(new kr(z))}complete(){this.transitions?.complete()}handleNavigationRequest(T){const k=++this.navigationId;this.transitions?.next({...this.transitions.value,...T,id:k})}setupNavigations(T){return this.transitions=new xe({id:0,targetPageId:0,currentUrlTree:T.currentUrlTree,currentRawUrl:T.currentUrlTree,extractedUrl:T.urlHandlingStrategy.extract(T.currentUrlTree),urlAfterRedirects:T.urlHandlingStrategy.extract(T.currentUrlTree),rawUrl:T.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:sr,restoredState:null,currentSnapshot:T.routerState.snapshot,targetSnapshot:null,currentRouterState:T.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ze.h)(k=>0!==k.id),(0,kn.U)(k=>({...k,extractedUrl:T.urlHandlingStrategy.extract(k.rawUrl)})),(0,zr.w)(k=>{let z=!1,J=!1;return(0,$.of)(k).pipe((0,nt.b)(ce=>{this.currentNavigation={id:ce.id,initialUrl:ce.rawUrl,extractedUrl:ce.extractedUrl,trigger:ce.source,extras:ce.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,zr.w)(ce=>{const We=T.browserUrlTree.toString(),yt=!T.navigated||ce.extractedUrl.toString()!==We||We!==T.currentUrlTree.toString();if(!yt&&"reload"!==(ce.extras.onSameUrlNavigation??T.onSameUrlNavigation)){const yn="";return this.events.next(new cs(ce.id,T.serializeUrl(k.rawUrl),yn,0)),T.rawUrlTree=ce.rawUrl,ce.resolve(null),Be.E}if(T.urlHandlingStrategy.shouldProcessUrl(ce.rawUrl))return Ul(ce.source)&&(T.browserUrlTree=ce.extractedUrl),(0,$.of)(ce).pipe((0,zr.w)(yn=>{const yr=this.transitions?.getValue();return this.events.next(new xr(yn.id,this.urlSerializer.serialize(yn.extractedUrl),yn.source,yn.restoredState)),yr!==this.transitions?.getValue()?Be.E:Promise.resolve(yn)}),function nu(C,A,T,k){return(0,zr.w)(z=>function eu(C,A,T,k,z){return new tu(C,A,T,k,z).apply()}(C,A,T,z.extractedUrl,k).pipe((0,kn.U)(J=>({...z,urlAfterRedirects:J}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,T.config),(0,nt.b)(yn=>{this.currentNavigation={...this.currentNavigation,finalUrl:yn.urlAfterRedirects},k.urlAfterRedirects=yn.urlAfterRedirects}),function bt(C,A,T,k,z){return(0,Ve.z)(J=>function L(C,A,T,k,z,J,ce="emptyOnly"){return new G(C,A,T,k,z,ce,J).recognize().pipe((0,zr.w)(We=>null===We?function Na(C){return new qe.y(A=>A.error(C))}(new ru):(0,$.of)(We)))}(C,A,T,J.urlAfterRedirects,k.serialize(J.urlAfterRedirects),k,z).pipe((0,kn.U)(ce=>({...J,targetSnapshot:ce}))))}(this.environmentInjector,this.rootComponentType,T.config,this.urlSerializer,T.paramsInheritanceStrategy),(0,nt.b)(yn=>{if(k.targetSnapshot=yn.targetSnapshot,"eager"===T.urlUpdateStrategy){if(!yn.extras.skipLocationChange){const Ts=T.urlHandlingStrategy.merge(yn.urlAfterRedirects,yn.rawUrl);T.setBrowserUrl(Ts,yn)}T.browserUrlTree=yn.urlAfterRedirects}const yr=new gi(yn.id,this.urlSerializer.serialize(yn.extractedUrl),this.urlSerializer.serialize(yn.urlAfterRedirects),yn.targetSnapshot);this.events.next(yr)}));if(yt&&T.urlHandlingStrategy.shouldProcessUrl(T.rawUrlTree)){const{id:yn,extractedUrl:yr,source:Ts,restoredState:Ao,extras:fo}=ce,xi=new xr(yn,this.urlSerializer.serialize(yr),Ts,Ao);this.events.next(xi);const Xr=Yo(yr,this.rootComponentType).snapshot;return k={...ce,targetSnapshot:Xr,urlAfterRedirects:yr,extras:{...fo,skipLocationChange:!1,replaceUrl:!1}},(0,$.of)(k)}{const yn="";return this.events.next(new cs(ce.id,T.serializeUrl(k.extractedUrl),yn,1)),T.rawUrlTree=ce.rawUrl,ce.resolve(null),Be.E}}),(0,nt.b)(ce=>{const We=new Cs(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot);this.events.next(We)}),(0,kn.U)(ce=>k={...ce,guards:Ri(ce.targetSnapshot,ce.currentSnapshot,this.rootContexts)}),function Ss(C,A){return(0,Ve.z)(T=>{const{targetSnapshot:k,currentSnapshot:z,guards:{canActivateChecks:J,canDeactivateChecks:ce}}=T;return 0===ce.length&&0===J.length?(0,$.of)({...T,guardsResult:!0}):function As(C,A,T,k){return(0,ee.D)(C).pipe((0,Ve.z)(z=>function Pa(C,A,T,k,z){const J=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,$.of)(!0);const ce=J.map(We=>{const yt=Ys(A)??z,Yt=fa(We,yt);return tn(function Oo(C){return C&&Gn(C.canDeactivate)}(Yt)?Yt.canDeactivate(C,A,T,k):yt.runInContext(()=>Yt(C,A,T,k))).pipe((0,Qe.P)())});return(0,$.of)(ce).pipe(Is())}(z.component,z.route,T,A,k)),(0,Qe.P)(z=>!0!==z,!0))}(ce,k,z,C).pipe((0,Ve.z)(We=>We&&function Xl(C){return"boolean"==typeof C}(We)?function ea(C,A,T,k){return(0,ee.D)(A).pipe(Le(z=>mt(function Ls(C,A){return null!==C&&A&&A(new Si(C)),(0,$.of)(!0)}(z.route.parent,k),function ko(C,A){return null!==C&&A&&A(new ps(C)),(0,$.of)(!0)}(z.route,k),function Lo(C,A,T){const k=A[A.length-1],J=A.slice(0,A.length-1).reverse().map(ce=>function ha(C){const A=C.routeConfig?C.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:C,guards:A}:null}(ce)).filter(ce=>null!==ce).map(ce=>Oe(()=>{const We=ce.guards.map(yt=>{const Yt=Ys(ce.node)??T,yn=fa(yt,Yt);return tn(function mu(C){return C&&Gn(C.canActivateChild)}(yn)?yn.canActivateChild(k,C):Yt.runInContext(()=>yn(k,C))).pipe((0,Qe.P)())});return(0,$.of)(We).pipe(Is())}));return(0,$.of)(J).pipe(Is())}(C,z.path,T),function Xs(C,A,T){const k=A.routeConfig?A.routeConfig.canActivate:null;if(!k||0===k.length)return(0,$.of)(!0);const z=k.map(J=>Oe(()=>{const ce=Ys(A)??T,We=fa(J,ce);return tn(function Oi(C){return C&&Gn(C.canActivate)}(We)?We.canActivate(A,C):ce.runInContext(()=>We(A,C))).pipe((0,Qe.P)())}));return(0,$.of)(z).pipe(Is())}(C,z.route,T))),(0,Qe.P)(z=>!0!==z,!0))}(k,J,C,A):(0,$.of)(We)),(0,kn.U)(We=>({...T,guardsResult:We})))})}(this.environmentInjector,ce=>this.events.next(ce)),(0,nt.b)(ce=>{if(k.guardsResult=ce.guardsResult,rr(ce.guardsResult))throw ms(0,ce.guardsResult);const We=new aa(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot,!!ce.guardsResult);this.events.next(We)}),(0,ze.h)(ce=>!!ce.guardsResult||(T.restoreHistory(ce),this.cancelNavigationTransition(ce,"",3),!1)),zt(ce=>{if(ce.guards.canActivateChecks.length)return(0,$.of)(ce).pipe((0,nt.b)(We=>{const yt=new ao(We.id,this.urlSerializer.serialize(We.extractedUrl),this.urlSerializer.serialize(We.urlAfterRedirects),We.targetSnapshot);this.events.next(yt)}),(0,zr.w)(We=>{let yt=!1;return(0,$.of)(We).pipe(function Qn(C,A){return(0,Ve.z)(T=>{const{targetSnapshot:k,guards:{canActivateChecks:z}}=T;if(!z.length)return(0,$.of)(T);let J=0;return(0,ee.D)(z).pipe(Le(ce=>function Qr(C,A,T,k){const z=C.routeConfig,J=C._resolve;return void 0!==z?.title&&!Yi(z)&&(J[Or]=z.title),function no(C,A,T,k){const z=function an(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===z.length)return(0,$.of)({});const J={};return(0,ee.D)(z).pipe((0,Ve.z)(ce=>function En(C,A,T,k){const z=Ys(A)??k,J=fa(C,z);return tn(J.resolve?J.resolve(A,T):z.runInContext(()=>J(A,T)))}(C[ce],A,T,k).pipe((0,Qe.P)(),(0,nt.b)(We=>{J[ce]=We}))),rn(1),function qn(C){return(0,kn.U)(()=>C)}(J),vt(ce=>rl(ce)?Be.E:_t(ce)))}(J,C,A,k).pipe((0,kn.U)(ce=>(C._resolvedData=ce,C.data=lo(C,T).resolve,z&&Yi(z)&&(C.data[Or]=z.title),null)))}(ce.route,k,C,A)),(0,nt.b)(()=>J++),rn(1),(0,Ve.z)(ce=>J===z.length?(0,$.of)(T):Be.E))})}(T.paramsInheritanceStrategy,this.environmentInjector),(0,nt.b)({next:()=>yt=!0,complete:()=>{yt||(T.restoreHistory(We),this.cancelNavigationTransition(We,"",2))}}))}),(0,nt.b)(We=>{const yt=new Br(We.id,this.urlSerializer.serialize(We.extractedUrl),this.urlSerializer.serialize(We.urlAfterRedirects),We.targetSnapshot);this.events.next(yt)}))}),zt(ce=>{const We=yt=>{const Yt=[];yt.routeConfig?.loadComponent&&!yt.routeConfig._loadedComponent&&Yt.push(this.configLoader.loadComponent(yt.routeConfig).pipe((0,nt.b)(yn=>{yt.component=yn}),(0,kn.U)(()=>{})));for(const yn of yt.children)Yt.push(...We(yn));return Yt};return Ot(We(ce.targetSnapshot.root)).pipe((0,Jt.d)(),(0,Sn.q)(1))}),zt(()=>this.afterPreactivation()),(0,kn.U)(ce=>{const We=function Po(C,A,T){const k=Ws(C,A._root,T?T._root:void 0);return new Ml(k,A)}(T.routeReuseStrategy,ce.targetSnapshot,ce.currentRouterState);return k={...ce,targetRouterState:We}}),(0,nt.b)(ce=>{T.currentUrlTree=ce.urlAfterRedirects,T.rawUrlTree=T.urlHandlingStrategy.merge(ce.urlAfterRedirects,ce.rawUrl),T.routerState=ce.targetRouterState,"deferred"===T.urlUpdateStrategy&&(ce.extras.skipLocationChange||T.setBrowserUrl(T.rawUrlTree,ce),T.browserUrlTree=ce.urlAfterRedirects)}),((C,A,T)=>(0,kn.U)(k=>(new or(A,k.targetRouterState,k.currentRouterState,T).activate(C),k)))(this.rootContexts,T.routeReuseStrategy,ce=>this.events.next(ce)),(0,Sn.q)(1),(0,nt.b)({next:ce=>{z=!0,this.lastSuccessfulNavigation=this.currentNavigation,T.navigated=!0,this.events.next(new us(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(T.currentUrlTree))),T.titleStrategy?.updateTitle(ce.targetRouterState.snapshot),ce.resolve(!0)},complete:()=>{z=!0}}),Hn(()=>{z||J||this.cancelNavigationTransition(k,"",1),this.currentNavigation?.id===k.id&&(this.currentNavigation=null)}),vt(ce=>{if(J=!0,gu(ce)){Vi(ce)||(T.navigated=!0,T.restoreHistory(k,!0));const We=new ws(k.id,this.urlSerializer.serialize(k.extractedUrl),ce.message,ce.cancellationCode);if(this.events.next(We),Vi(ce)){const yt=T.urlHandlingStrategy.merge(ce.url,T.rawUrlTree),Yt={skipLocationChange:k.extras.skipLocationChange,replaceUrl:"eager"===T.urlUpdateStrategy||Ul(k.source)};T.scheduleNavigation(yt,sr,null,Yt,{resolve:k.resolve,reject:k.reject,promise:k.promise})}else k.resolve(!1)}else{T.restoreHistory(k,!0);const We=new Ki(k.id,this.urlSerializer.serialize(k.extractedUrl),ce,k.targetSnapshot??void 0);this.events.next(We);try{k.resolve(T.errorHandler(ce))}catch(yt){k.reject(yt)}}return Be.E}))}))}cancelNavigationTransition(T,k,z){const J=new ws(T.id,this.urlSerializer.serialize(T.extractedUrl),k,z);this.events.next(J),T.resolve(!1)}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=R.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Ul(C){return C!==sr}let ro=(()=>{class C{buildTitle(T){let k,z=T.root;for(;void 0!==z;)k=this.getResolvedTitleForRoute(z)??k,z=z.children.find(J=>J.outlet===nn);return k}getResolvedTitleForRoute(T){return T.data[Or]}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=R.Yz7({token:C,factory:function(){return(0,R.f3M)(Uc)},providedIn:"root"}),C})(),Uc=(()=>{class C extends ro{constructor(T){super(),this.title=T}updateTitle(T){const k=this.buildTitle(T);void 0!==k&&this.title.setTitle(k)}}return C.\u0275fac=function(T){return new(T||C)(R.LFG(Ar.Dx))},C.\u0275prov=R.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),Il=(()=>{class C{}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=R.Yz7({token:C,factory:function(){return(0,R.f3M)(_c)},providedIn:"root"}),C})();class ka{shouldDetach(A){return!1}store(A,T){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,T){return A.routeConfig===T.routeConfig}}let _c=(()=>{class C extends ka{}return C.\u0275fac=function(){let A;return function(k){return(A||(A=R.n5z(C)))(k||C)}}(),C.\u0275prov=R.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const Cn=new R.OlP("",{providedIn:"root",factory:()=>({})});let ma=(()=>{class C{}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=R.Yz7({token:C,factory:function(){return(0,R.f3M)(Bl)},providedIn:"root"}),C})(),Bl=(()=>{class C{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,k){return T}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=R.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Ln(C){throw C}function Vl(C,A,T){return A.parse("/")}const Xn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wn=(()=>{class C{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,R.f3M)(R.c2e),this.isNgZoneEnabled=!1,this.options=(0,R.f3M)(Cn,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Ln,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Vl,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,R.f3M)(ma),this.routeReuseStrategy=(0,R.f3M)(Il),this.urlCreationStrategy=(0,R.f3M)(qo),this.titleStrategy=(0,R.f3M)(ro),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ur((0,R.f3M)(Et,{optional:!0})??[]),this.navigationTransitions=(0,R.f3M)(Fl),this.urlSerializer=(0,R.f3M)(zi),this.location=(0,R.f3M)(jt.Ye),this.isNgZoneEnabled=(0,R.f3M)(R.R0b)instanceof R.R0b&&R.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new cr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Yo(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(T=>{this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId??0},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)})}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const T=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),sr,T)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const k="popstate"===T.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{this.navigateToSyncWithBrowser(T.url,k,T.state)},0)}))}navigateToSyncWithBrowser(T,k,z){const J={replaceUrl:!0},ce=z?.navigationId?z:null;if(z){const yt={...z};delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(J.state=yt)}const We=this.parseUrl(T);this.scheduleNavigation(We,k,ce,J)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(T){this.config=T.map(bo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(T,k={}){const{relativeTo:z,queryParams:J,fragment:ce,queryParamsHandling:We,preserveFragment:yt}=k,Yt=yt?this.currentUrlTree.fragment:ce;let yn=null;switch(We){case"merge":yn={...this.currentUrlTree.queryParams,...J};break;case"preserve":yn=this.currentUrlTree.queryParams;break;default:yn=J||null}return null!==yn&&(yn=this.removeEmptyProps(yn)),this.urlCreationStrategy.createUrlTree(z,this.routerState,this.currentUrlTree,T,yn,Yt??null)}navigateByUrl(T,k={skipLocationChange:!1}){const z=rr(T)?T:this.parseUrl(T),J=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(J,sr,null,k)}navigate(T,k={skipLocationChange:!1}){return function sn(C){for(let A=0;A<C.length;A++){const T=C[A];if(null==T)throw new R.vHH(4008,false)}}(T),this.navigateByUrl(this.createUrlTree(T,k),k)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let k;try{k=this.urlSerializer.parse(T)}catch(z){k=this.malformedUriErrorHandler(z,this.urlSerializer,T)}return k}isActive(T,k){let z;if(z=!0===k?{...Xn}:!1===k?{...yu}:k,rr(T))return ei(this.currentUrlTree,T,z);const J=this.parseUrl(T);return ei(this.currentUrlTree,J,z)}removeEmptyProps(T){return Object.keys(T).reduce((k,z)=>{const J=T[z];return null!=J&&(k[z]=J),k},{})}scheduleNavigation(T,k,z,J,ce){if(this.disposed)return Promise.resolve(!1);let We,yt,Yt,yn;return ce?(We=ce.resolve,yt=ce.reject,Yt=ce.promise):Yt=new Promise((yr,Ts)=>{We=yr,yt=Ts}),yn="computed"===this.canceledNavigationResolution?z&&z.\u0275routerPageId?z.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:yn,source:k,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:T,extras:J,resolve:We,reject:yt,promise:Yt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Yt.catch(yr=>Promise.reject(yr))}setBrowserUrl(T,k){const z=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(z)||k.extras.replaceUrl){const ce={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId)};this.location.replaceState(z,"",ce)}else{const J={...k.extras.state,...this.generateNgRouterState(k.id,k.targetPageId)};this.location.go(z,"",J)}}restoreHistory(T,k=!1){if("computed"===this.canceledNavigationResolution){const J=this.currentPageId-(this.browserPageId??this.currentPageId);0!==J?this.location.historyGo(J):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===J&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,k){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:k}:{navigationId:T}}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=R.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),Uo=(()=>{class C{constructor(T,k,z,J,ce,We){this.router=T,this.route=k,this.tabIndexAttribute=z,this.renderer=J,this.el=ce,this.locationStrategy=We,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Me.x;const yt=ce.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===yt||"area"===yt,this.isAnchorElement?this.subscription=T.events.subscribe(Yt=>{Yt instanceof us&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(T){this._preserveFragment=(0,R.D6c)(T)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(T){this._skipLocationChange=(0,R.D6c)(T)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(T){this._replaceUrl=(0,R.D6c)(T)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,k,z,J,ce){return!!(null===this.urlTree||this.isAnchorElement&&(0!==T||k||z||J||ce||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const T=null===this.href?null:(0,R.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",T)}applyAttributeValue(T,k){const z=this.renderer,J=this.el.nativeElement;null!==k?z.setAttribute(J,T,k):z.removeAttribute(J,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return C.\u0275fac=function(T){return new(T||C)(R.Y36(Wn),R.Y36(Hs),R.$8M("tabindex"),R.Y36(R.Qsj),R.Y36(R.SBq),R.Y36(jt.S$))},C.\u0275dir=R.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(T,k){1&T&&R.NdJ("click",function(J){return k.onClick(J.button,J.ctrlKey,J.shiftKey,J.altKey,J.metaKey)}),2&T&&R.uIk("target",k.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[R.TTD]}),C})(),Tl=(()=>{class C{get isActive(){return this._isActive}constructor(T,k,z,J,ce){this.router=T,this.element=k,this.renderer=z,this.cdr=J,this.link=ce,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new R.vpe,this.routerEventsSubscription=T.events.subscribe(We=>{We instanceof us&&this.update()})}ngAfterContentInit(){(0,$.of)(this.links.changes,(0,$.of)(null)).pipe((0,ut.J)()).subscribe(T=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const T=[...this.links.toArray(),this.link].filter(k=>!!k).map(k=>k.onChanges);this.linkInputChangesSubscription=(0,ee.D)(T).pipe((0,ut.J)()).subscribe(k=>{this._isActive!==this.isLinkActive(this.router)(k)&&this.update()})}set routerLinkActive(T){const k=Array.isArray(T)?T:T.split(" ");this.classes=k.filter(z=>!!z)}ngOnChanges(T){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const T=this.hasActiveLinks();this._isActive!==T&&(this._isActive=T,this.cdr.markForCheck(),this.classes.forEach(k=>{T?this.renderer.addClass(this.element.nativeElement,k):this.renderer.removeClass(this.element.nativeElement,k)}),T&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(T))})}isLinkActive(T){const k=function Bo(C){return!!C.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return z=>!!z.urlTree&&T.isActive(z.urlTree,k)}hasActiveLinks(){const T=this.isLinkActive(this.router);return this.link&&T(this.link)||this.links.some(T)}}return C.\u0275fac=function(T){return new(T||C)(R.Y36(Wn),R.Y36(R.SBq),R.Y36(R.Qsj),R.Y36(R.sBO),R.Y36(Uo,8))},C.\u0275dir=R.lG2({type:C,selectors:[["","routerLinkActive",""]],contentQueries:function(T,k,z){if(1&T&&R.Suo(z,Uo,5),2&T){let J;R.iGM(J=R.CRH())&&(k.links=J)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[R.TTD]}),C})();class La{}let iu=(()=>{class C{constructor(T,k,z,J,ce){this.router=T,this.injector=z,this.preloadingStrategy=J,this.loader=ce}setUpPreloading(){this.subscription=this.router.events.pipe((0,ze.h)(T=>T instanceof us),Le(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,k){const z=[];for(const J of k){J.providers&&!J._injector&&(J._injector=(0,R.MMx)(J.providers,T,`Route: ${J.path}`));const ce=J._injector??T,We=J._loadedInjector??ce;(J.loadChildren&&!J._loadedRoutes&&void 0===J.canLoad||J.loadComponent&&!J._loadedComponent)&&z.push(this.preloadConfig(ce,J)),(J.children||J._loadedRoutes)&&z.push(this.processRoutes(We,J.children??J._loadedRoutes))}return(0,ee.D)(z).pipe((0,ut.J)())}preloadConfig(T,k){return this.preloadingStrategy.preload(k,()=>{let z;z=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(T,k):(0,$.of)(null);const J=z.pipe((0,Ve.z)(ce=>null===ce?(0,$.of)(void 0):(k._loadedRoutes=ce.routes,k._loadedInjector=ce.injector,this.processRoutes(ce.injector??T,ce.routes))));if(k.loadComponent&&!k._loadedComponent){const ce=this.loader.loadComponent(k);return(0,ee.D)([J,ce]).pipe((0,ut.J)())}return J})}}return C.\u0275fac=function(T){return new(T||C)(R.LFG(Wn),R.LFG(R.Sil),R.LFG(R.lqb),R.LFG(La),R.LFG(Ii))},C.\u0275prov=R.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const Ua=new R.OlP("");let Ba=(()=>{class C{constructor(T,k,z,J,ce={}){this.urlSerializer=T,this.transitions=k,this.viewportScroller=z,this.zone=J,this.options=ce,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ce.scrollPositionRestoration=ce.scrollPositionRestoration||"disabled",ce.anchorScrolling=ce.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof xr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof us&&(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof ds&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ds(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return C.\u0275fac=function(T){R.$Z()},C.\u0275prov=R.Yz7({token:C,factory:C.\u0275fac}),C})();var yi=(()=>((yi=yi||{})[yi.COMPLETE=0]="COMPLETE",yi[yi.FAILED=1]="FAILED",yi[yi.REDIRECTING=2]="REDIRECTING",yi))();const ya=!1;function io(C,A){return{\u0275kind:C,\u0275providers:A}}const et=new R.OlP("",{providedIn:"root",factory:()=>!1});function Ea(){const C=(0,R.f3M)(R.zs3);return A=>{const T=C.get(R.z2F);if(A!==T.components[0])return;const k=C.get(Wn),z=C.get(il);1===C.get(vu)&&k.initialNavigation(),C.get(Va,null,R.XFs.Optional)?.setUpPreloading(),C.get(Ua,null,R.XFs.Optional)?.init(),k.resetRootComponentType(T.componentTypes[0]),z.closed||(z.next(),z.complete(),z.unsubscribe())}}const il=new R.OlP(ya?"bootstrap done indicator":"",{factory:()=>new Me.x}),vu=new R.OlP(ya?"initial navigation":"",{providedIn:"root",factory:()=>1});function Ec(){let C=[];return C=ya?[{provide:R.Xts,multi:!0,useFactory:()=>{const A=(0,R.f3M)(Wn);return()=>A.events.subscribe(T=>{console.group?.(`Router Event: ${T.constructor.name}`),console.log(function Ko(C){if(!("type"in C))return`Unknown Router Event: ${C.constructor.name}`;switch(C.type){case 14:return`ActivationEnd(path: '${C.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${C.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${C.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${C.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state}, shouldActivate: ${C.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state})`;case 2:return`NavigationCancel(id: ${C.id}, url: '${C.url}')`;case 16:return`NavigationSkipped(id: ${C.id}, url: '${C.url}')`;case 1:return`NavigationEnd(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${C.id}, url: '${C.url}', error: ${C.error})`;case 0:return`NavigationStart(id: ${C.id}, url: '${C.url}')`;case 6:return`ResolveEnd(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state})`;case 5:return`ResolveStart(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state})`;case 10:return`RouteConfigLoadEnd(path: ${C.route.path})`;case 9:return`RouteConfigLoadStart(path: ${C.route.path})`;case 4:return`RoutesRecognized(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state})`;case 15:return`Scroll(anchor: '${C.anchor}', position: '${C.position?`${C.position[0]}, ${C.position[1]}`:null}')`}}(T)),console.log(T),console.groupEnd?.()})}}]:[],io(1,C)}const Va=new R.OlP(ya?"router preloader":"");function rd(C){return io(0,[{provide:Va,useExisting:iu},{provide:La,useExisting:C}])}const $a=!1,vs=new R.OlP($a?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ja=[jt.Ye,{provide:zi,useClass:Wi},Wn,ua,{provide:Hs,useFactory:function _a(C){return C.routerState.root},deps:[Wn]},Ii,$a?{provide:et,useValue:!0}:[]];function so(){return new R.PXZ("Router",Wn)}let Vo=(()=>{class C{constructor(T){}static forRoot(T,k){return{ngModule:C,providers:[ja,$a&&k?.enableTracing?Ec().\u0275providers:[],{provide:Et,multi:!0,useValue:T},{provide:vs,useFactory:jl,deps:[[Wn,new R.FiY,new R.tp0]]},{provide:Cn,useValue:k||{}},k?.useHash?{provide:jt.S$,useClass:jt.Do}:{provide:jt.S$,useClass:jt.b0},{provide:Ua,useFactory:()=>{const C=(0,R.f3M)(jt.EM),A=(0,R.f3M)(R.R0b),T=(0,R.f3M)(Cn),k=(0,R.f3M)(Fl),z=(0,R.f3M)(zi);return T.scrollOffset&&C.setOffset(T.scrollOffset),new Ba(z,k,C,A,T)}},k?.preloadingStrategy?rd(k.preloadingStrategy).\u0275providers:[],{provide:R.PXZ,multi:!0,useFactory:so},k?.initialNavigation?Fu(k):[],[{provide:So,useFactory:Ea},{provide:R.tb,multi:!0,useExisting:So}]]}}static forChild(T){return{ngModule:C,providers:[{provide:Et,multi:!0,useValue:T}]}}}return C.\u0275fac=function(T){return new(T||C)(R.LFG(vs,8))},C.\u0275mod=R.oAB({type:C}),C.\u0275inj=R.cJS({imports:[To]}),C})();function jl(C){if($a&&C)throw new R.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Fu(C){return["disabled"===C.initialNavigation?io(3,[{provide:R.ip1,multi:!0,useFactory:()=>{const A=(0,R.f3M)(Wn);return()=>{A.setUpLocationChangeListener()}}},{provide:vu,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?io(2,[{provide:vu,useValue:0},{provide:R.ip1,multi:!0,deps:[R.zs3],useFactory:A=>{const T=A.get(jt.V_,Promise.resolve());return()=>T.then(()=>new Promise(k=>{const z=A.get(Wn),J=A.get(il);(function Cl(C,A){C.events.pipe((0,ze.h)(T=>T instanceof us||T instanceof ws||T instanceof Ki||T instanceof cs),(0,kn.U)(T=>T instanceof us||T instanceof cs?yi.COMPLETE:T instanceof ws&&(0===T.code||1===T.code)?yi.REDIRECTING:yi.FAILED),(0,ze.h)(T=>T!==yi.REDIRECTING),(0,Sn.q)(1)).subscribe(()=>{A()})})(z,()=>{k(!0)}),A.get(Fl).afterPreactivation=()=>(k(!0),J.closed?(0,$.of)(void 0):J),z.initialNavigation()}))}}]).\u0275providers:[]]}const So=new R.OlP($a?"Router Initializer":"")},3942:(_n,at,q)=>{q.d(at,{Z:()=>Ot});var R=q(2090),ee=q(4859),$=q(6881),Me=q(1877);class xe{constructor(lt,ut){this._delegate=lt,this.firebase=ut,(0,$._addComponent)(lt,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=lt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(lt){this._delegate.automaticDataCollectionEnabled=lt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(lt=>{this._delegate.checkDestroyed(),lt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(lt,ut=$._DEFAULT_ENTRY_NAME){var At;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(lt);return!mt.isInitialized()&&"EXPLICIT"===(null===(At=mt.getComponent())||void 0===At?void 0:At.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:ut})}_removeServiceInstance(lt,ut=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(lt).clearInstance(ut)}_addComponent(lt){(0,$._addComponent)(this._delegate,lt)}_addOrOverwriteComponent(lt){(0,$._addOrOverwriteComponent)(this._delegate,lt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const qe=new R.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ge=function Ye(){const Xt=function Ie(Xt){const lt={},ut={__esModule:!0,initializeApp:function Ze(_t,Be={}){const se=$.initializeApp(_t,Be);if((0,R.r3)(lt,se.name))return lt[se.name];const Kt=new Xt(se,ut);return lt[se.name]=Kt,Kt},app:mt,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function dt(_t){const Be=_t.name,se=Be.replace("-compat","");if($._registerComponent(_t)&&"PUBLIC"===_t.type){const Kt=($t=mt())=>{if("function"!=typeof $t[se])throw qe.create("invalid-app-argument",{appName:Be});return $t[se]()};void 0!==_t.serviceProps&&(0,R.ZB)(Kt,_t.serviceProps),ut[se]=Kt,Xt.prototype[se]=function(...$t){return this._getService.bind(this,Be).apply(this,_t.multipleInstances?$t:[])}}return"PUBLIC"===_t.type?ut[se]:null},removeApp:function At(_t){delete lt[_t]},useAsService:function Rt(_t,Be){return"serverAuth"===Be?null:Be},modularAPIs:$}};function mt(_t){if(!(0,R.r3)(lt,_t=_t||$._DEFAULT_ENTRY_NAME))throw qe.create("no-app",{appName:_t});return lt[_t]}return ut.default=ut,Object.defineProperty(ut,"apps",{get:function Oe(){return Object.keys(lt).map(_t=>lt[_t])}}),mt.App=Xt,ut}(xe);return Xt.INTERNAL=Object.assign(Object.assign({},Xt.INTERNAL),{createFirebaseNamespace:Ye,extendNamespace:function lt(ut){(0,R.ZB)(Xt,ut)},createSubscribe:R.ne,ErrorFactory:R.LL,deepExtend:R.ZB}),Xt}(),Te=new Me.Yd("@firebase/app-compat");if((0,R.jU)()&&void 0!==self.firebase){Te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Xt=self.firebase.SDK_VERSION;Xt&&Xt.indexOf("LITE")>=0&&Te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ot=ge;!function wt(Xt){(0,$.registerVersion)("@firebase/app-compat","0.2.13",Xt)}()},6881:(_n,at,q)=>{q.r(at),q.d(at,{FirebaseError:()=>Me.ZR,SDK_VERSION:()=>as,_DEFAULT_ENTRY_NAME:()=>Ur,_addComponent:()=>tn,_addOrOverwriteComponent:()=>Pn,_apps:()=>gr,_clearComponents:()=>Fi,_components:()=>gn,_getProvider:()=>fi,_registerComponent:()=>vi,_removeServiceInstance:()=>ei,deleteApp:()=>ii,getApp:()=>cr,getApps:()=>kt,initializeApp:()=>ir,onLog:()=>Ui,registerVersion:()=>Ei,setLogLevel:()=>zi});var R=q(5861),ee=q(4859),$=q(1877),Me=q(2090);const xe=(ct,Xe)=>Xe.some(Lt=>ct instanceof Lt);let Ke,qe;const ge=new WeakMap,Te=new WeakMap,Ne=new WeakMap,ft=new WeakMap,wt=new WeakMap;let lt={get(ct,Xe,Lt){if(ct instanceof IDBTransaction){if("done"===Xe)return Te.get(ct);if("objectStoreNames"===Xe)return ct.objectStoreNames||Ne.get(ct);if("store"===Xe)return Lt.objectStoreNames[1]?void 0:Lt.objectStore(Lt.objectStoreNames[0])}return Ze(ct[Xe])},set:(ct,Xe,Lt)=>(ct[Xe]=Lt,!0),has:(ct,Xe)=>ct instanceof IDBTransaction&&("done"===Xe||"store"===Xe)||Xe in ct};function mt(ct){return"function"==typeof ct?function At(ct){return ct!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ye(){return qe||(qe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ct)?function(...Xe){return ct.apply(Oe(this),Xe),Ze(ge.get(this))}:function(...Xe){return Ze(ct.apply(Oe(this),Xe))}:function(Xe,...Lt){const mn=ct.call(Oe(this),Xe,...Lt);return Ne.set(mn,Xe.sort?Xe.sort():[Xe]),Ze(mn)}}(ct):(ct instanceof IDBTransaction&&function Xt(ct){if(Te.has(ct))return;const Xe=new Promise((Lt,mn)=>{const Kn=()=>{ct.removeEventListener("complete",rr),ct.removeEventListener("error",vn),ct.removeEventListener("abort",vn)},rr=()=>{Lt(),Kn()},vn=()=>{mn(ct.error||new DOMException("AbortError","AbortError")),Kn()};ct.addEventListener("complete",rr),ct.addEventListener("error",vn),ct.addEventListener("abort",vn)});Te.set(ct,Xe)}(ct),xe(ct,function Ie(){return Ke||(Ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ct,lt):ct)}function Ze(ct){if(ct instanceof IDBRequest)return function Ot(ct){const Xe=new Promise((Lt,mn)=>{const Kn=()=>{ct.removeEventListener("success",rr),ct.removeEventListener("error",vn)},rr=()=>{Lt(Ze(ct.result)),Kn()},vn=()=>{mn(ct.error),Kn()};ct.addEventListener("success",rr),ct.addEventListener("error",vn)});return Xe.then(Lt=>{Lt instanceof IDBCursor&&ge.set(Lt,ct)}).catch(()=>{}),wt.set(Xe,ct),Xe}(ct);if(ft.has(ct))return ft.get(ct);const Xe=mt(ct);return Xe!==ct&&(ft.set(ct,Xe),wt.set(Xe,ct)),Xe}const Oe=ct=>wt.get(ct),_t=["get","getKey","getAll","getAllKeys","count"],Be=["put","add","delete","clear"],se=new Map;function Kt(ct,Xe){if(!(ct instanceof IDBDatabase)||Xe in ct||"string"!=typeof Xe)return;if(se.get(Xe))return se.get(Xe);const Lt=Xe.replace(/FromIndex$/,""),mn=Xe!==Lt,Kn=Be.includes(Lt);if(!(Lt in(mn?IDBIndex:IDBObjectStore).prototype)||!Kn&&!_t.includes(Lt))return;const rr=function(){var vn=(0,R.Z)(function*(qr,...Tr){const Gi=this.transaction(qr,Kn?"readwrite":"readonly");let Mi=Gi.store;return mn&&(Mi=Mi.index(Tr.shift())),(yield Promise.all([Mi[Lt](...Tr),Kn&&Gi.done]))[0]});return function(Tr){return vn.apply(this,arguments)}}();return se.set(Xe,rr),rr}!function ut(ct){lt=ct(lt)}(ct=>({...ct,get:(Xe,Lt,mn)=>Kt(Xe,Lt)||ct.get(Xe,Lt,mn),has:(Xe,Lt)=>!!Kt(Xe,Lt)||ct.has(Xe,Lt)}));class $t{constructor(Xe){this.container=Xe}getPlatformInfoString(){return this.container.getProviders().map(Lt=>{if(function hn(ct){return"VERSION"===ct.getComponent()?.type}(Lt)){const mn=Lt.getImmediate();return`${mn.library}/${mn.version}`}return null}).filter(Lt=>Lt).join(" ")}}const jt="@firebase/app",zr=new $.Yd("@firebase/app"),Ur="[DEFAULT]",Dr={[jt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gr=new Map,gn=new Map;function tn(ct,Xe){try{ct.container.addComponent(Xe)}catch(Lt){zr.debug(`Component ${Xe.name} failed to register with FirebaseApp ${ct.name}`,Lt)}}function Pn(ct,Xe){ct.container.addOrOverwriteComponent(Xe)}function vi(ct){const Xe=ct.name;if(gn.has(Xe))return zr.debug(`There were multiple attempts to register component ${Xe}.`),!1;gn.set(Xe,ct);for(const Lt of gr.values())tn(Lt,ct);return!0}function fi(ct,Xe){const Lt=ct.container.getProvider("heartbeat").getImmediate({optional:!0});return Lt&&Lt.triggerHeartbeat(),ct.container.getProvider(Xe)}function ei(ct,Xe,Lt=Ur){fi(ct,Xe).clearInstance(Lt)}function Fi(){gn.clear()}const Hi=new Me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Vn{constructor(Xe,Lt,mn){this._isDeleted=!1,this._options=Object.assign({},Xe),this._config=Object.assign({},Lt),this._name=Lt.name,this._automaticDataCollectionEnabled=Lt.automaticDataCollectionEnabled,this._container=mn,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Xe){this._isDeleted=Xe}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}const as="9.23.0";function ir(ct,Xe={}){let Lt=ct;"object"!=typeof Xe&&(Xe={name:Xe});const mn=Object.assign({name:Ur,automaticDataCollectionEnabled:!1},Xe),Kn=mn.name;if("string"!=typeof Kn||!Kn)throw Hi.create("bad-app-name",{appName:String(Kn)});if(Lt||(Lt=(0,Me.aH)()),!Lt)throw Hi.create("no-options");const rr=gr.get(Kn);if(rr){if((0,Me.vZ)(Lt,rr.options)&&(0,Me.vZ)(mn,rr.config))return rr;throw Hi.create("duplicate-app",{appName:Kn})}const vn=new ee.H0(Kn);for(const Tr of gn.values())vn.addComponent(Tr);const qr=new Vn(Lt,mn,vn);return gr.set(Kn,qr),qr}function cr(ct=Ur){const Xe=gr.get(ct);if(!Xe&&ct===Ur&&(0,Me.aH)())return ir();if(!Xe)throw Hi.create("no-app",{appName:ct});return Xe}function kt(){return Array.from(gr.values())}function ii(ct){return pi.apply(this,arguments)}function pi(){return(pi=(0,R.Z)(function*(ct){const Xe=ct.name;gr.has(Xe)&&(gr.delete(Xe),yield Promise.all(ct.container.getProviders().map(Lt=>Lt.delete())),ct.isDeleted=!0)})).apply(this,arguments)}function Ei(ct,Xe,Lt){var mn;let Kn=null!==(mn=Dr[ct])&&void 0!==mn?mn:ct;Lt&&(Kn+=`-${Lt}`);const rr=Kn.match(/\s|\//),vn=Xe.match(/\s|\//);if(rr||vn){const qr=[`Unable to register library "${Kn}" with version "${Xe}":`];return rr&&qr.push(`library name "${Kn}" contains illegal characters (whitespace or "/")`),rr&&vn&&qr.push("and"),vn&&qr.push(`version name "${Xe}" contains illegal characters (whitespace or "/")`),void zr.warn(qr.join(" "))}vi(new ee.wA(`${Kn}-version`,()=>({library:Kn,version:Xe}),"VERSION"))}function Ui(ct,Xe){if(null!==ct&&"function"!=typeof ct)throw Hi.create("invalid-log-argument");(0,$.Am)(ct,Xe)}function zi(ct){(0,$.Ub)(ct)}const Wi="firebase-heartbeat-database",es=1,De="firebase-heartbeat-store";let we=null;function ae(){return we||(we=function dt(ct,Xe,{blocked:Lt,upgrade:mn,blocking:Kn,terminated:rr}={}){const vn=indexedDB.open(ct,Xe),qr=Ze(vn);return mn&&vn.addEventListener("upgradeneeded",Tr=>{mn(Ze(vn.result),Tr.oldVersion,Tr.newVersion,Ze(vn.transaction),Tr)}),Lt&&vn.addEventListener("blocked",Tr=>Lt(Tr.oldVersion,Tr.newVersion,Tr)),qr.then(Tr=>{rr&&Tr.addEventListener("close",()=>rr()),Kn&&Tr.addEventListener("versionchange",Gi=>Kn(Gi.oldVersion,Gi.newVersion,Gi))}).catch(()=>{}),qr}(Wi,es,{upgrade:(ct,Xe)=>{0===Xe&&ct.createObjectStore(De)}}).catch(ct=>{throw Hi.create("idb-open",{originalErrorMessage:ct.message})})),we}function ne(){return(ne=(0,R.Z)(function*(ct){try{return yield(yield ae()).transaction(De).objectStore(De).get(_e(ct))}catch(Xe){if(Xe instanceof Me.ZR)zr.warn(Xe.message);else{const Lt=Hi.create("idb-get",{originalErrorMessage:Xe?.message});zr.warn(Lt.message)}}})).apply(this,arguments)}function Re(ct,Xe){return ye.apply(this,arguments)}function ye(){return(ye=(0,R.Z)(function*(ct,Xe){try{const mn=(yield ae()).transaction(De,"readwrite");yield mn.objectStore(De).put(Xe,_e(ct)),yield mn.done}catch(Lt){if(Lt instanceof Me.ZR)zr.warn(Lt.message);else{const mn=Hi.create("idb-set",{originalErrorMessage:Lt?.message});zr.warn(mn.message)}}})).apply(this,arguments)}function _e(ct){return`${ct.name}!${ct.options.appId}`}class it{constructor(Xe){this.container=Xe,this._heartbeatsCache=null;const Lt=this.container.getProvider("app").getImmediate();this._storage=new bn(Lt),this._heartbeatsCachePromise=this._storage.read().then(mn=>(this._heartbeatsCache=mn,mn))}triggerHeartbeat(){var Xe=this;return(0,R.Z)(function*(){const mn=Xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Kn=xt();if(null===Xe._heartbeatsCache&&(Xe._heartbeatsCache=yield Xe._heartbeatsCachePromise),Xe._heartbeatsCache.lastSentHeartbeatDate!==Kn&&!Xe._heartbeatsCache.heartbeats.some(rr=>rr.date===Kn))return Xe._heartbeatsCache.heartbeats.push({date:Kn,agent:mn}),Xe._heartbeatsCache.heartbeats=Xe._heartbeatsCache.heartbeats.filter(rr=>{const vn=new Date(rr.date).valueOf();return Date.now()-vn<=2592e6}),Xe._storage.overwrite(Xe._heartbeatsCache)})()}getHeartbeatsHeader(){var Xe=this;return(0,R.Z)(function*(){if(null===Xe._heartbeatsCache&&(yield Xe._heartbeatsCachePromise),null===Xe._heartbeatsCache||0===Xe._heartbeatsCache.heartbeats.length)return"";const Lt=xt(),{heartbeatsToSend:mn,unsentEntries:Kn}=function fn(ct,Xe=1024){const Lt=[];let mn=ct.slice();for(const Kn of ct){const rr=Lt.find(vn=>vn.agent===Kn.agent);if(rr){if(rr.dates.push(Kn.date),Wr(Lt)>Xe){rr.dates.pop();break}}else if(Lt.push({agent:Kn.agent,dates:[Kn.date]}),Wr(Lt)>Xe){Lt.pop();break}mn=mn.slice(1)}return{heartbeatsToSend:Lt,unsentEntries:mn}}(Xe._heartbeatsCache.heartbeats),rr=(0,Me.L)(JSON.stringify({version:2,heartbeats:mn}));return Xe._heartbeatsCache.lastSentHeartbeatDate=Lt,Kn.length>0?(Xe._heartbeatsCache.heartbeats=Kn,yield Xe._storage.overwrite(Xe._heartbeatsCache)):(Xe._heartbeatsCache.heartbeats=[],Xe._storage.overwrite(Xe._heartbeatsCache)),rr})()}}function xt(){return(new Date).toISOString().substring(0,10)}class bn{constructor(Xe){this.app=Xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,R.Z)(function*(){return!!(0,Me.hl)()&&(0,Me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Xe=this;return(0,R.Z)(function*(){return(yield Xe._canUseIndexedDBPromise)&&(yield function de(ct){return ne.apply(this,arguments)}(Xe.app))||{heartbeats:[]}})()}overwrite(Xe){var Lt=this;return(0,R.Z)(function*(){var mn;if(yield Lt._canUseIndexedDBPromise){const rr=yield Lt.read();return Re(Lt.app,{lastSentHeartbeatDate:null!==(mn=Xe.lastSentHeartbeatDate)&&void 0!==mn?mn:rr.lastSentHeartbeatDate,heartbeats:Xe.heartbeats})}})()}add(Xe){var Lt=this;return(0,R.Z)(function*(){var mn;if(yield Lt._canUseIndexedDBPromise){const rr=yield Lt.read();return Re(Lt.app,{lastSentHeartbeatDate:null!==(mn=Xe.lastSentHeartbeatDate)&&void 0!==mn?mn:rr.lastSentHeartbeatDate,heartbeats:[...rr.heartbeats,...Xe.heartbeats]})}})()}}function Wr(ct){return(0,Me.L)(JSON.stringify({version:2,heartbeats:ct})).length}!function xs(ct){vi(new ee.wA("platform-logger",Xe=>new $t(Xe),"PRIVATE")),vi(new ee.wA("heartbeat",Xe=>new it(Xe),"PRIVATE")),Ei(jt,"0.9.13",ct),Ei(jt,"0.9.13","esm2017"),Ei("fire-js","")}("")},4859:(_n,at,q)=>{q.d(at,{H0:()=>Ie,wA:()=>$,zt:()=>xe});var R=q(5861),ee=q(2090);class ${constructor(ge,Te,Ne){this.name=ge,this.instanceFactory=Te,this.type=Ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ge){return this.instantiationMode=ge,this}setMultipleInstances(ge){return this.multipleInstances=ge,this}setServiceProps(ge){return this.serviceProps=ge,this}setInstanceCreatedCallback(ge){return this.onInstanceCreated=ge,this}}const Me="[DEFAULT]";class xe{constructor(ge,Te){this.name=ge,this.container=Te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ge){const Te=this.normalizeInstanceIdentifier(ge);if(!this.instancesDeferred.has(Te)){const Ne=new ee.BH;if(this.instancesDeferred.set(Te,Ne),this.isInitialized(Te)||this.shouldAutoInitialize())try{const ft=this.getOrInitializeService({instanceIdentifier:Te});ft&&Ne.resolve(ft)}catch{}}return this.instancesDeferred.get(Te).promise}getImmediate(ge){var Te;const Ne=this.normalizeInstanceIdentifier(ge?.identifier),ft=null!==(Te=ge?.optional)&&void 0!==Te&&Te;if(!this.isInitialized(Ne)&&!this.shouldAutoInitialize()){if(ft)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ne})}catch(wt){if(ft)return null;throw wt}}getComponent(){return this.component}setComponent(ge){if(ge.name!==this.name)throw Error(`Mismatching Component ${ge.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ge,this.shouldAutoInitialize()){if(function qe(Ye){return"EAGER"===Ye.instantiationMode}(ge))try{this.getOrInitializeService({instanceIdentifier:Me})}catch{}for(const[Te,Ne]of this.instancesDeferred.entries()){const ft=this.normalizeInstanceIdentifier(Te);try{const wt=this.getOrInitializeService({instanceIdentifier:ft});Ne.resolve(wt)}catch{}}}}clearInstance(ge=Me){this.instancesDeferred.delete(ge),this.instancesOptions.delete(ge),this.instances.delete(ge)}delete(){var ge=this;return(0,R.Z)(function*(){const Te=Array.from(ge.instances.values());yield Promise.all([...Te.filter(Ne=>"INTERNAL"in Ne).map(Ne=>Ne.INTERNAL.delete()),...Te.filter(Ne=>"_delete"in Ne).map(Ne=>Ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ge=Me){return this.instances.has(ge)}getOptions(ge=Me){return this.instancesOptions.get(ge)||{}}initialize(ge={}){const{options:Te={}}=ge,Ne=this.normalizeInstanceIdentifier(ge.instanceIdentifier);if(this.isInitialized(Ne))throw Error(`${this.name}(${Ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ft=this.getOrInitializeService({instanceIdentifier:Ne,options:Te});for(const[wt,Ot]of this.instancesDeferred.entries())Ne===this.normalizeInstanceIdentifier(wt)&&Ot.resolve(ft);return ft}onInit(ge,Te){var Ne;const ft=this.normalizeInstanceIdentifier(Te),wt=null!==(Ne=this.onInitCallbacks.get(ft))&&void 0!==Ne?Ne:new Set;wt.add(ge),this.onInitCallbacks.set(ft,wt);const Ot=this.instances.get(ft);return Ot&&ge(Ot,ft),()=>{wt.delete(ge)}}invokeOnInitCallbacks(ge,Te){const Ne=this.onInitCallbacks.get(Te);if(Ne)for(const ft of Ne)try{ft(ge,Te)}catch{}}getOrInitializeService({instanceIdentifier:ge,options:Te={}}){let Ne=this.instances.get(ge);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:(Ye=ge,Ye===Me?void 0:Ye),options:Te}),this.instances.set(ge,Ne),this.instancesOptions.set(ge,Te),this.invokeOnInitCallbacks(Ne,ge),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ge,Ne)}catch{}var Ye;return Ne||null}normalizeInstanceIdentifier(ge=Me){return this.component?this.component.multipleInstances?ge:Me:ge}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ie{constructor(ge){this.name=ge,this.providers=new Map}addComponent(ge){const Te=this.getProvider(ge.name);if(Te.isComponentSet())throw new Error(`Component ${ge.name} has already been registered with ${this.name}`);Te.setComponent(ge)}addOrOverwriteComponent(ge){this.getProvider(ge.name).isComponentSet()&&this.providers.delete(ge.name),this.addComponent(ge)}getProvider(ge){if(this.providers.has(ge))return this.providers.get(ge);const Te=new xe(ge,this);return this.providers.set(ge,Te),Te}getProviders(){return Array.from(this.providers.values())}}},1877:(_n,at,q)=>{q.d(at,{Am:()=>Ye,Ub:()=>Ie,Yd:()=>qe,in:()=>ee});const R=[];var ee=(()=>{return(ge=ee||(ee={}))[ge.DEBUG=0]="DEBUG",ge[ge.VERBOSE=1]="VERBOSE",ge[ge.INFO=2]="INFO",ge[ge.WARN=3]="WARN",ge[ge.ERROR=4]="ERROR",ge[ge.SILENT=5]="SILENT",ee;var ge})();const $={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},Me=ee.INFO,xe={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},Ke=(ge,Te,...Ne)=>{if(Te<ge.logLevel)return;const ft=(new Date).toISOString(),wt=xe[Te];if(!wt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Te})`);console[wt](`[${ft}]  ${ge.name}:`,...Ne)};class qe{constructor(Te){this.name=Te,this._logLevel=Me,this._logHandler=Ke,this._userLogHandler=null,R.push(this)}get logLevel(){return this._logLevel}set logLevel(Te){if(!(Te in ee))throw new TypeError(`Invalid value "${Te}" assigned to \`logLevel\``);this._logLevel=Te}setLogLevel(Te){this._logLevel="string"==typeof Te?$[Te]:Te}get logHandler(){return this._logHandler}set logHandler(Te){if("function"!=typeof Te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Te}get userLogHandler(){return this._userLogHandler}set userLogHandler(Te){this._userLogHandler=Te}debug(...Te){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...Te),this._logHandler(this,ee.DEBUG,...Te)}log(...Te){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...Te),this._logHandler(this,ee.VERBOSE,...Te)}info(...Te){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...Te),this._logHandler(this,ee.INFO,...Te)}warn(...Te){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...Te),this._logHandler(this,ee.WARN,...Te)}error(...Te){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...Te),this._logHandler(this,ee.ERROR,...Te)}}function Ie(ge){R.forEach(Te=>{Te.setLogLevel(ge)})}function Ye(ge,Te){for(const Ne of R){let ft=null;Te&&Te.level&&(ft=$[Te.level]),Ne.userLogHandler=null===ge?null:(wt,Ot,...Xt)=>{const lt=Xt.map(ut=>{if(null==ut)return null;if("string"==typeof ut)return ut;if("number"==typeof ut||"boolean"==typeof ut)return ut.toString();if(ut instanceof Error)return ut.message;try{return JSON.stringify(ut)}catch{return null}}).filter(ut=>ut).join(" ");Ot>=(ft??wt.logLevel)&&ge({level:ee[Ot].toLowerCase(),message:lt,args:Xt,type:wt.name})}}}},259:(_n,at,q)=>{q.d(at,{C6:()=>R.getApps,KN:()=>R.registerVersion,Mq:()=>R.getApp,ZF:()=>R.initializeApp});var R=q(6881);(0,R.registerVersion)("firebase","9.23.0","app")},9260:(_n,at,q)=>{q.d(at,{Z:()=>R.Z});var R=q(3942);R.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(_n,at,q)=>{q.r(at);var R=q(5861),ee=q(3942),$=q(1389),Me=q(2090),qe=(q(6881),q(1877),q(4859));function Ie(){return window}const Ye=2e3;function Te(){return Te=(0,R.Z)(function*(ae,de,ne){var Re;const{BuildInfo:ye}=Ie();(0,$.as)(de.sessionId,"AuthEvent did not contain a session ID");const _e=yield function ut(ae){return At.apply(this,arguments)}(de.sessionId),fe={};return(0,$.at)()?fe.ibi=ye.packageName:(0,$.au)()?fe.apn=ye.packageName:(0,$.av)(ae,"operation-not-supported-in-this-environment"),ye.displayName&&(fe.appDisplayName=ye.displayName),fe.sessionId=_e,(0,$.aw)(ae,ne,de.type,void 0,null!==(Re=de.eventId)&&void 0!==Re?Re:void 0,fe)}),Te.apply(this,arguments)}function ft(){return(ft=(0,R.Z)(function*(ae){const{BuildInfo:de}=Ie(),ne={};(0,$.at)()?ne.iosBundleId=de.packageName:(0,$.au)()?ne.androidPackageName=de.packageName:(0,$.av)(ae,"operation-not-supported-in-this-environment"),yield(0,$.ax)(ae,ne)})).apply(this,arguments)}function Xt(){return(Xt=(0,R.Z)(function*(ae,de,ne){const{cordova:Re}=Ie();let ye=()=>{};try{yield new Promise((_e,fe)=>{let Pe=null;function it(){var bn;_e();const Wr=null===(bn=Re.plugins.browsertab)||void 0===bn?void 0:bn.close;"function"==typeof Wr&&Wr(),"function"==typeof ne?.close&&ne.close()}function xt(){Pe||(Pe=window.setTimeout(()=>{fe((0,$.az)(ae,"redirect-cancelled-by-user"))},Ye))}function fn(){"visible"===document?.visibilityState&&xt()}de.addPassiveListener(it),document.addEventListener("resume",xt,!1),(0,$.au)()&&document.addEventListener("visibilitychange",fn,!1),ye=()=>{de.removePassiveListener(it),document.removeEventListener("resume",xt,!1),document.removeEventListener("visibilitychange",fn,!1),Pe&&window.clearTimeout(Pe)}})}finally{ye()}})).apply(this,arguments)}function At(){return(At=(0,R.Z)(function*(ae){const de=function mt(ae){if((0,$.as)(/[0-9a-zA-Z]+/.test(ae),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ae);const de=new ArrayBuffer(ae.length),ne=new Uint8Array(de);for(let Re=0;Re<ae.length;Re++)ne[Re]=ae.charCodeAt(Re);return ne}(ae),ne=yield crypto.subtle.digest("SHA-256",de);return Array.from(new Uint8Array(ne)).map(ye=>ye.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ze=20;class Oe extends $.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(de=>{this.resolveInialized=de})}addPassiveListener(de){this.passiveListeners.add(de)}removePassiveListener(de){this.passiveListeners.delete(de)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(de){return this.resolveInialized(),this.passiveListeners.forEach(ne=>ne(de)),super.onEvent(de)}initialized(){var de=this;return(0,R.Z)(function*(){yield de.initPromise})()}}function _t(ae){return Be.apply(this,arguments)}function Be(){return(Be=(0,R.Z)(function*(ae){const de=yield $t()._get(hn(ae));return de&&(yield $t()._remove(hn(ae))),de})).apply(this,arguments)}function Kt(){const ae=[],de="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ne=0;ne<Ze;ne++){const Re=Math.floor(Math.random()*de.length);ae.push(de.charAt(Re))}return ae.join("")}function $t(){return(0,$.aC)($.b)}function hn(ae){return(0,$.aD)("authEvent",ae.config.apiKey,ae.name)}function zr(ae){if(!ae?.includes("?"))return{};const[de,...ne]=ae.split("?");return(0,Me.zd)(ne.join("?"))}const ze=class pr{constructor(){this._redirectPersistence=$.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$.aE,this._overrideRedirectResult=$.aF}_initialize(de){var ne=this;return(0,R.Z)(function*(){const Re=de._key();let ye=ne.eventManagers.get(Re);return ye||(ye=new Oe(de),ne.eventManagers.set(Re,ye),ne.attachCallbackListeners(de,ye)),ye})()}_openPopup(de){(0,$.av)(de,"operation-not-supported-in-this-environment")}_openRedirect(de,ne,Re,ye){var _e=this;return(0,R.Z)(function*(){!function lt(ae){var de,ne,Re,ye,_e,fe,Pe,it,xt,fn;const bn=Ie();(0,$.aA)("function"==typeof(null===(de=bn?.universalLinks)||void 0===de?void 0:de.subscribe),ae,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,$.aA)(typeof(null===(ne=bn?.BuildInfo)||void 0===ne?void 0:ne.packageName)<"u",ae,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,$.aA)("function"==typeof(null===(_e=null===(ye=null===(Re=bn?.cordova)||void 0===Re?void 0:Re.plugins)||void 0===ye?void 0:ye.browsertab)||void 0===_e?void 0:_e.openUrl),ae,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.aA)("function"==typeof(null===(it=null===(Pe=null===(fe=bn?.cordova)||void 0===fe?void 0:fe.plugins)||void 0===Pe?void 0:Pe.browsertab)||void 0===it?void 0:it.isAvailable),ae,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.aA)("function"==typeof(null===(fn=null===(xt=bn?.cordova)||void 0===xt?void 0:xt.InAppBrowser)||void 0===fn?void 0:fn.open),ae,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(de);const fe=yield _e._initialize(de);yield fe.initialized(),fe.resetRedirect(),(0,$.aG)(),yield _e._originValidation(de);const Pe=function dt(ae,de,ne=null){return{type:de,eventId:ne,urlResponse:null,sessionId:Kt(),postBody:null,tenantId:ae.tenantId,error:(0,$.az)(ae,"no-auth-event")}}(de,Re,ye);yield function Rt(ae,de){return $t()._set(hn(ae),de)}(de,Pe);const it=yield function ge(ae,de,ne){return Te.apply(this,arguments)}(de,Pe,ne),xt=yield function wt(ae){const{cordova:de}=Ie();return new Promise(ne=>{de.plugins.browsertab.isAvailable(Re=>{let ye=null;Re?de.plugins.browsertab.openUrl(ae):ye=de.InAppBrowser.open(ae,(0,$.ay)()?"_blank":"_system","location=yes"),ne(ye)})})}(it);return function Ot(ae,de,ne){return Xt.apply(this,arguments)}(de,fe,xt)})()}_isIframeWebStorageSupported(de,ne){throw new Error("Method not implemented.")}_originValidation(de){const ne=de._key();return this.originValidationPromises[ne]||(this.originValidationPromises[ne]=function Ne(ae){return ft.apply(this,arguments)}(de)),this.originValidationPromises[ne]}attachCallbackListeners(de,ne){const{universalLinks:Re,handleOpenURL:ye,BuildInfo:_e}=Ie(),fe=setTimeout((0,R.Z)(function*(){yield _t(de),ne.onEvent(Ve())}),500),Pe=function(){var fn=(0,R.Z)(function*(bn){clearTimeout(fe);const Wr=yield _t(de);let xs=null;Wr&&bn?.url&&(xs=function se(ae,de){var ne,Re;const ye=function kn(ae){const de=zr(ae),ne=de.link?decodeURIComponent(de.link):void 0,Re=zr(ne).link,ye=de.deep_link_id?decodeURIComponent(de.deep_link_id):void 0;return zr(ye).link||ye||Re||ne||ae}(de);if(ye.includes("/__/auth/callback")){const _e=zr(ye),fe=_e.firebaseError?function jt(ae){try{return JSON.parse(ae)}catch{return null}}(decodeURIComponent(_e.firebaseError)):null,Pe=null===(Re=null===(ne=fe?.code)||void 0===ne?void 0:ne.split("auth/"))||void 0===Re?void 0:Re[1],it=Pe?(0,$.az)(Pe):null;return it?{type:ae.type,eventId:ae.eventId,tenantId:ae.tenantId,error:it,urlResponse:null,sessionId:null,postBody:null}:{type:ae.type,eventId:ae.eventId,tenantId:ae.tenantId,sessionId:ae.sessionId,urlResponse:ye,postBody:null}}return null}(Wr,bn.url)),ne.onEvent(xs||Ve())});return function(Wr){return fn.apply(this,arguments)}}();typeof Re<"u"&&"function"==typeof Re.subscribe&&Re.subscribe(null,Pe);const it=ye,xt=`${_e.packageName.toLowerCase()}://`;Ie().handleOpenURL=function(){var fn=(0,R.Z)(function*(bn){if(bn.toLowerCase().startsWith(xt)&&Pe({url:bn}),"function"==typeof it)try{it(bn)}catch(Wr){console.error(Wr)}});return function(bn){return fn.apply(this,arguments)}}()}};function Ve(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,$.az)("no-auth-event")}}const vt=1e3;function Ft(){var ae;return(null===(ae=self?.location)||void 0===ae?void 0:ae.protocol)||null}function jn(ae=(0,Me.z$)()){return!("file:"!==Ft()&&"ionic:"!==Ft()&&"capacitor:"!==Ft()||!ae.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hn(){try{const ae=self.localStorage,de=$.aL();if(ae)return ae.setItem(de,"1"),ae.removeItem(de),!function qn(ae=(0,Me.z$)()){return function nr(){return(0,Me.w1)()&&11===document?.documentMode}()||function Fr(ae=(0,Me.z$)()){return/Edge\/\d+/.test(ae)}(ae)}()||(0,Me.hl)()}catch{return Ar()&&(0,Me.hl)()}return!1}function Ar(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function nn(){return(function rn(){return"http:"===Ft()||"https:"===Ft()}()||(0,Me.ru)()||jn())&&!function Jt(){return(0,Me.b$)()||(0,Me.UG)()}()&&Hn()&&!Ar()}function Or(){return jn()&&typeof document<"u"}function Nn(){return(Nn=(0,R.Z)(function*(){return!!Or()&&new Promise(ae=>{const de=setTimeout(()=>{ae(!1)},vt);document.addEventListener("deviceready",()=>{clearTimeout(de),ae(!0)})})})).apply(this,arguments)}const Zn={LOCAL:"local",NONE:"none",SESSION:"session"},Cr=$.aA,Er="persistence";function Dr(ae){return gr.apply(this,arguments)}function gr(){return(gr=(0,R.Z)(function*(ae){yield ae._initializationPromise;const de=tn(),ne=$.aD(Er,ae.config.apiKey,ae.name);de&&de.setItem(ne,ae._getPersistence())})).apply(this,arguments)}function tn(){var ae;try{return(null===(ae=function Ht(){return typeof window<"u"?window:null}())||void 0===ae?void 0:ae.sessionStorage)||null}catch{return null}}const Pn=$.aA;class vi{constructor(){this.browserResolver=$.aC($.k),this.cordovaResolver=$.aC(ze),this.underlyingResolver=null,this._redirectPersistence=$.a,this._completeRedirectFn=$.aE,this._overrideRedirectResult=$.aF}_initialize(de){var ne=this;return(0,R.Z)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._initialize(de)})()}_openPopup(de,ne,Re,ye){var _e=this;return(0,R.Z)(function*(){return yield _e.selectUnderlyingResolver(),_e.assertedUnderlyingResolver._openPopup(de,ne,Re,ye)})()}_openRedirect(de,ne,Re,ye){var _e=this;return(0,R.Z)(function*(){return yield _e.selectUnderlyingResolver(),_e.assertedUnderlyingResolver._openRedirect(de,ne,Re,ye)})()}_isIframeWebStorageSupported(de,ne){this.assertedUnderlyingResolver._isIframeWebStorageSupported(de,ne)}_originValidation(de){return this.assertedUnderlyingResolver._originValidation(de)}get _shouldInitProactively(){return Or()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var de=this;return(0,R.Z)(function*(){if(de.underlyingResolver)return;const ne=yield function Jr(){return Nn.apply(this,arguments)}();de.underlyingResolver=ne?de.cordovaResolver:de.browserResolver})()}}function fi(ae){return ae.unwrap()}function Fi(ae){return Hi(ae)}function Hi(ae){const{_tokenResponse:de}=ae instanceof Me.ZR?ae.customData:ae;if(!de)return null;if(!(ae instanceof Me.ZR)&&"temporaryProof"in de&&"phoneNumber"in de)return $.P.credentialFromResult(ae);const ne=de.providerId;if(!ne||ne===$.p.PASSWORD)return null;let Re;switch(ne){case $.p.GOOGLE:Re=$.V;break;case $.p.FACEBOOK:Re=$.U;break;case $.p.GITHUB:Re=$.W;break;case $.p.TWITTER:Re=$.Z;break;default:const{oauthIdToken:ye,oauthAccessToken:_e,oauthTokenSecret:fe,pendingToken:Pe,nonce:it}=de;return _e||fe||ye||Pe?Pe?ne.startsWith("saml.")?$.aO._create(ne,Pe):$.L._fromParams({providerId:ne,signInMethod:ne,pendingToken:Pe,idToken:ye,accessToken:_e}):new $.X(ne).credential({idToken:ye,accessToken:_e,rawNonce:it}):null}return ae instanceof Me.ZR?Re.credentialFromError(ae):Re.credentialFromResult(ae)}function Vn(ae,de){return de.catch(ne=>{throw ne instanceof Me.ZR&&function ti(ae,de){var ne;const Re=null===(ne=de.customData)||void 0===ne?void 0:ne._tokenResponse;if("auth/multi-factor-auth-required"===de?.code)de.resolver=new cr(ae,$.aq(ae,de));else if(Re){const ye=Hi(de),_e=de;ye&&(_e.credential=ye,_e.tenantId=Re.tenantId||void 0,_e.email=Re.email||void 0,_e.phoneNumber=Re.phoneNumber||void 0)}}(ae,ne),ne}).then(ne=>{const ye=ne.user;return{operationType:ne.operationType,credential:Fi(ne),additionalUserInfo:$.ao(ne),user:kt.getOrCreate(ye)}})}function as(ae,de){return ir.apply(this,arguments)}function ir(){return(ir=(0,R.Z)(function*(ae,de){const ne=yield de;return{verificationId:ne.verificationId,confirm:Re=>Vn(ae,ne.confirm(Re))}})).apply(this,arguments)}class cr{constructor(de,ne){this.resolver=ne,this.auth=function ei(ae){return ae.wrapped()}(de)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(de){return Vn(fi(this.auth),this.resolver.resolveSignIn(de))}}class kt{constructor(de){this._delegate=de,this.multiFactor=$.ar(de)}static getOrCreate(de){return kt.USER_MAP.has(de)||kt.USER_MAP.set(de,new kt(de)),kt.USER_MAP.get(de)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(de){return this._delegate.getIdTokenResult(de)}getIdToken(de){return this._delegate.getIdToken(de)}linkAndRetrieveDataWithCredential(de){return this.linkWithCredential(de)}linkWithCredential(de){var ne=this;return(0,R.Z)(function*(){return Vn(ne.auth,$.a0(ne._delegate,de))})()}linkWithPhoneNumber(de,ne){var Re=this;return(0,R.Z)(function*(){return as(Re.auth,$.l(Re._delegate,de,ne))})()}linkWithPopup(de){var ne=this;return(0,R.Z)(function*(){return Vn(ne.auth,$.d(ne._delegate,de,vi))})()}linkWithRedirect(de){var ne=this;return(0,R.Z)(function*(){return yield Dr($.aH(ne.auth)),$.g(ne._delegate,de,vi)})()}reauthenticateAndRetrieveDataWithCredential(de){return this.reauthenticateWithCredential(de)}reauthenticateWithCredential(de){var ne=this;return(0,R.Z)(function*(){return Vn(ne.auth,$.a1(ne._delegate,de))})()}reauthenticateWithPhoneNumber(de,ne){return as(this.auth,$.r(this._delegate,de,ne))}reauthenticateWithPopup(de){return Vn(this.auth,$.e(this._delegate,de,vi))}reauthenticateWithRedirect(de){var ne=this;return(0,R.Z)(function*(){return yield Dr($.aH(ne.auth)),$.h(ne._delegate,de,vi)})()}sendEmailVerification(de){return $.ae(this._delegate,de)}unlink(de){var ne=this;return(0,R.Z)(function*(){return yield $.an(ne._delegate,de),ne})()}updateEmail(de){return $.aj(this._delegate,de)}updatePassword(de){return $.ak(this._delegate,de)}updatePhoneNumber(de){return $.u(this._delegate,de)}updateProfile(de){return $.ai(this._delegate,de)}verifyBeforeUpdateEmail(de,ne){return $.af(this._delegate,de,ne)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}kt.USER_MAP=new WeakMap;const ii=$.aA;let pi=(()=>{class ae{constructor(ne,Re){if(this.app=ne,Re.isInitialized())return this._delegate=Re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ye}=ne.options;ii(ye,"invalid-api-key",{appName:ne.name}),ii(ye,"invalid-api-key",{appName:ne.name});const _e=typeof window<"u"?vi:void 0;this._delegate=Re.initialize({options:{persistence:Ui(ye,ne.name),popupRedirectResolver:_e}}),this._delegate._updateErrorMap($.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?kt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ne){this._delegate.languageCode=ne}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ne){this._delegate.tenantId=ne}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ne,Re){$.I(this._delegate,ne,Re)}applyActionCode(ne){return $.a5(this._delegate,ne)}checkActionCode(ne){return $.a6(this._delegate,ne)}confirmPasswordReset(ne,Re){return $.a4(this._delegate,ne,Re)}createUserWithEmailAndPassword(ne,Re){var ye=this;return(0,R.Z)(function*(){return Vn(ye._delegate,$.a8(ye._delegate,ne,Re))})()}fetchProvidersForEmail(ne){return this.fetchSignInMethodsForEmail(ne)}fetchSignInMethodsForEmail(ne){return $.ad(this._delegate,ne)}isSignInWithEmailLink(ne){return $.ab(this._delegate,ne)}getRedirectResult(){var ne=this;return(0,R.Z)(function*(){ii(nn(),ne._delegate,"operation-not-supported-in-this-environment");const Re=yield $.j(ne._delegate,vi);return Re?Vn(ne._delegate,Promise.resolve(Re)):{credential:null,user:null}})()}addFrameworkForLogging(ne){!function Qe(ae,de){(0,$.aH)(ae)._logFramework(de)}(this._delegate,ne)}onAuthStateChanged(ne,Re,ye){const{next:_e,error:fe,complete:Pe}=Ei(ne,Re,ye);return this._delegate.onAuthStateChanged(_e,fe,Pe)}onIdTokenChanged(ne,Re,ye){const{next:_e,error:fe,complete:Pe}=Ei(ne,Re,ye);return this._delegate.onIdTokenChanged(_e,fe,Pe)}sendSignInLinkToEmail(ne,Re){return $.aa(this._delegate,ne,Re)}sendPasswordResetEmail(ne,Re){return $.a3(this._delegate,ne,Re||void 0)}setPersistence(ne){var Re=this;return(0,R.Z)(function*(){let ye;switch(function Ur(ae,de){Cr(Object.values(Zn).includes(de),ae,"invalid-persistence-type"),(0,Me.b$)()?Cr(de!==Zn.SESSION,ae,"unsupported-persistence-type"):(0,Me.UG)()?Cr(de===Zn.NONE,ae,"unsupported-persistence-type"):Ar()?Cr(de===Zn.NONE||de===Zn.LOCAL&&(0,Me.hl)(),ae,"unsupported-persistence-type"):Cr(de===Zn.NONE||Hn(),ae,"unsupported-persistence-type")}(Re._delegate,ne),ne){case Zn.SESSION:ye=$.a;break;case Zn.LOCAL:ye=(yield $.aC($.i)._isAvailable())?$.i:$.b;break;case Zn.NONE:ye=$.N;break;default:return $.av("argument-error",{appName:Re._delegate.name})}return Re._delegate.setPersistence(ye)})()}signInAndRetrieveDataWithCredential(ne){return this.signInWithCredential(ne)}signInAnonymously(){return Vn(this._delegate,$._(this._delegate))}signInWithCredential(ne){return Vn(this._delegate,$.$(this._delegate,ne))}signInWithCustomToken(ne){return Vn(this._delegate,$.a2(this._delegate,ne))}signInWithEmailAndPassword(ne,Re){return Vn(this._delegate,$.a9(this._delegate,ne,Re))}signInWithEmailLink(ne,Re){return Vn(this._delegate,$.ac(this._delegate,ne,Re))}signInWithPhoneNumber(ne,Re){return as(this._delegate,$.s(this._delegate,ne,Re))}signInWithPopup(ne){var Re=this;return(0,R.Z)(function*(){return ii(nn(),Re._delegate,"operation-not-supported-in-this-environment"),Vn(Re._delegate,$.c(Re._delegate,ne,vi))})()}signInWithRedirect(ne){var Re=this;return(0,R.Z)(function*(){return ii(nn(),Re._delegate,"operation-not-supported-in-this-environment"),yield Dr(Re._delegate),$.f(Re._delegate,ne,vi)})()}updateCurrentUser(ne){return this._delegate.updateCurrentUser(ne)}verifyPasswordResetCode(ne){return $.a7(this._delegate,ne)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ae.Persistence=Zn,ae})();function Ei(ae,de,ne){let Re=ae;"function"!=typeof ae&&({next:Re,error:de,complete:ne}=ae);const ye=Re;return{next:fe=>ye(fe&&kt.getOrCreate(fe)),error:de,complete:ne}}function Ui(ae,de){const ne=function gn(ae,de){const ne=tn();if(!ne)return[];const Re=$.aD(Er,ae,de);switch(ne.getItem(Re)){case Zn.NONE:return[$.N];case Zn.LOCAL:return[$.i,$.a];case Zn.SESSION:return[$.a];default:return[]}}(ae,de);if(typeof self<"u"&&!ne.includes($.i)&&ne.push($.i),typeof window<"u")for(const Re of[$.b,$.a])ne.includes(Re)||ne.push(Re);return ne.includes($.N)||ne.push($.N),ne}class zi{constructor(){this.providerId="phone",this._delegate=new $.P(fi(ee.Z.auth()))}static credential(de,ne){return $.P.credential(de,ne)}verifyPhoneNumber(de,ne){return this._delegate.verifyPhoneNumber(de,ne)}unwrap(){return this._delegate}}zi.PHONE_SIGN_IN_METHOD=$.P.PHONE_SIGN_IN_METHOD,zi.PROVIDER_ID=$.P.PROVIDER_ID;const Wi=$.aA;class es{constructor(de,ne,Re=ee.Z.app()){var ye;Wi(null===(ye=Re.options)||void 0===ye?void 0:ye.apiKey,"invalid-api-key",{appName:Re.name}),this._delegate=new $.R(de,ne,Re.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function we(ae){ae.INTERNAL.registerComponent(new qe.wA("auth-compat",de=>{const ne=de.getProvider("app-compat").getImmediate(),Re=de.getProvider("auth");return new pi(ne,Re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$.A.EMAIL_SIGNIN,PASSWORD_RESET:$.A.PASSWORD_RESET,RECOVER_EMAIL:$.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:$.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:$.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:$.A.VERIFY_EMAIL}},EmailAuthProvider:$.Q,FacebookAuthProvider:$.U,GithubAuthProvider:$.W,GoogleAuthProvider:$.V,OAuthProvider:$.X,SAMLAuthProvider:$.Y,PhoneAuthProvider:zi,PhoneMultiFactorGenerator:$.m,RecaptchaVerifier:es,TwitterAuthProvider:$.Z,Auth:pi,AuthCredential:$.J,Error:Me.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ae.registerVersion("@firebase/auth-compat","0.4.2")}(ee.Z)},7396:(_n,at,q)=>{q.d(at,{EK:()=>ui,ad:()=>w_});var Ie,R=q(5861),ee=q(6881),$=q(4859),Me=q(1877),xe=q(2090),Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qe={},Ye=Ye||{},ge=Ke||self;function Te(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Ne(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var wt="closure_uid_"+(1e9*Math.random()>>>0),Ot=0;function Xt(r,e,t){return r.call.apply(r.bind,arguments)}function lt(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),r.apply(e,l)}}return function(){return r.apply(e,arguments)}}function ut(r,e,t){return(ut=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xt:lt).apply(null,arguments)}function At(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function mt(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,l,g){for(var E=Array(arguments.length-2),N=2;N<arguments.length;N++)E[N-2]=arguments[N];return e.prototype[l].apply(s,E)}}function Ze(){this.s=this.s,this.o=this.o}Ze.prototype.s=!1,Ze.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ft(r){Object.prototype.hasOwnProperty.call(r,wt)&&r[wt]||(r[wt]=++Ot)}(this)},Ze.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const dt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Rt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function _t(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Te(s)){const l=r.length||0,g=s.length||0;r.length=l+g;for(let E=0;E<g;E++)r[l+E]=s[E]}else r.push(s)}}function Be(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Be.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!ge.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ge.addEventListener("test",()=>{},e),ge.removeEventListener("test",()=>{},e)}catch{}return r}();function Kt(r){return/^[\s\xa0]*$/.test(r)}function $t(){var r=ge.navigator;return r&&(r=r.userAgent)?r:""}function hn(r){return-1!=$t().indexOf(r)}function jt(r){return jt[" "](r),r}jt[" "]=function(){};var nt,r,zr=hn("Opera"),Sn=hn("Trident")||hn("MSIE"),pr=hn("Edge"),ze=pr||Sn,Ve=hn("Gecko")&&!(-1!=$t().toLowerCase().indexOf("webkit")&&!hn("Edge"))&&!(hn("Trident")||hn("MSIE"))&&!hn("Edge"),Qe=-1!=$t().toLowerCase().indexOf("webkit")&&!hn("Edge");function Le(){var r=ge.document;return r?r.documentMode:void 0}e:{var vt="",Ft=(r=$t(),Ve?/rv:([^\);]+)(\)|;)/.exec(r):pr?/Edge\/([\d\.]+)/.exec(r):Sn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Qe?/WebKit\/(\S+)/.exec(r):zr?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Ft&&(vt=Ft?Ft[1]:""),Sn){var rn=Le();if(null!=rn&&rn>parseFloat(vt)){nt=String(rn);break e}}nt=vt}var nr=ge.document&&Sn&&(Le()||parseInt(nt,10))||void 0;function Fr(r,e){if(Be.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Ve){e:{try{jt(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:qn[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Fr.$.h.call(this)}}mt(Fr,Be);var qn={2:"touch",3:"pen",4:"mouse"};Fr.prototype.h=function(){Fr.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Hn="closure_listenable_"+(1e6*Math.random()|0),Ar=0;function nn(r,e,t,s,l){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=l,this.key=++Ar,this.fa=this.ia=!1}function Or(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Jr(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Ht(r){const e={};for(const t in r)e[t]=r[t];return e}const Zn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cr(r,e){let t,s;for(let l=1;l<arguments.length;l++){for(t in s=arguments[l],s)r[t]=s[t];for(let g=0;g<Zn.length;g++)t=Zn[g],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function Er(r){this.src=r,this.g={},this.h=0}function Ur(r,e){var t=e.type;if(t in r.g){var g,s=r.g[t],l=dt(s,e);(g=0<=l)&&Array.prototype.splice.call(s,l,1),g&&(Or(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Dr(r,e,t,s){for(var l=0;l<r.length;++l){var g=r[l];if(!g.fa&&g.listener==e&&g.capture==!!t&&g.la==s)return l}return-1}Er.prototype.add=function(r,e,t,s,l){var g=r.toString();(r=this.g[g])||(r=this.g[g]=[],this.h++);var E=Dr(r,e,s,l);return-1<E?(e=r[E],t||(e.ia=!1)):((e=new nn(e,this.src,g,!!s,l)).ia=t,r.push(e)),e};var gr="closure_lm_"+(1e6*Math.random()|0),gn={};function tn(r,e,t,s,l){if(s&&s.once)return fi(r,e,t,s,l);if(Array.isArray(e)){for(var g=0;g<e.length;g++)tn(r,e[g],t,s,l);return null}return t=ir(t),r&&r[Hn]?r.O(e,t,Ne(s)?!!s.capture:!!s,l):Pn(r,e,t,!1,s,l)}function Pn(r,e,t,s,l,g){if(!e)throw Error("Invalid event type");var E=Ne(l)?!!l.capture:!!l,N=Vn(r);if(N||(r[gr]=N=new Er(r)),(t=N.add(e,t,s,E,g)).proxy)return t;if(s=function vi(){const e=Hi;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)se||(l=E),void 0===l&&(l=!1),r.addEventListener(e.toString(),s,l);else if(r.attachEvent)r.attachEvent(ti(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function fi(r,e,t,s,l){if(Array.isArray(e)){for(var g=0;g<e.length;g++)fi(r,e[g],t,s,l);return null}return t=ir(t),r&&r[Hn]?r.P(e,t,Ne(s)?!!s.capture:!!s,l):Pn(r,e,t,!0,s,l)}function ei(r,e,t,s,l){if(Array.isArray(e))for(var g=0;g<e.length;g++)ei(r,e[g],t,s,l);else s=Ne(s)?!!s.capture:!!s,t=ir(t),r&&r[Hn]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Dr(g=r.g[e],t,s,l))&&(Or(g[t]),Array.prototype.splice.call(g,t,1),0==g.length&&(delete r.g[e],r.h--))):r&&(r=Vn(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Dr(e,t,s,l)),(t=-1<r?e[r]:null)&&Fi(t))}function Fi(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Hn])Ur(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(ti(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Vn(e))?(Ur(t,r),0==t.h&&(t.src=null,e[gr]=null)):Or(r)}}}function ti(r){return r in gn?gn[r]:gn[r]="on"+r}function Hi(r,e){if(r.fa)r=!0;else{e=new Fr(e,this);var t=r.listener,s=r.la||r.src;r.ia&&Fi(r),r=t.call(s,e)}return r}function Vn(r){return(r=r[gr])instanceof Er?r:null}var as="__closure_events_fn_"+(1e9*Math.random()>>>0);function ir(r){return"function"==typeof r?r:(r[as]||(r[as]=function(e){return r.handleEvent(e)}),r[as])}function cr(){Ze.call(this),this.i=new Er(this),this.S=this,this.J=null}function kt(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new Be(e,r);else if(e instanceof Be)e.target=e.target||r;else{var l=e;Cr(e=new Be(s,r),l)}if(l=!0,t)for(var g=t.length-1;0<=g;g--){var E=e.g=t[g];l=ii(E,s,!0,e)&&l}if(l=ii(E=e.g=r,s,!0,e)&&l,l=ii(E,s,!1,e)&&l,t)for(g=0;g<t.length;g++)l=ii(E=e.g=t[g],s,!1,e)&&l}function ii(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,g=0;g<e.length;++g){var E=e[g];if(E&&!E.fa&&E.capture==t){var N=E.listener,H=E.la||E.src;E.ia&&Ur(r.i,E),l=!1!==N.call(H,s)&&l}}return l&&!s.defaultPrevented}mt(cr,Ze),cr.prototype[Hn]=!0,cr.prototype.removeEventListener=function(r,e,t,s){ei(this,r,e,t,s)},cr.prototype.N=function(){if(cr.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Or(t[s]);delete r.g[e],r.h--}}this.J=null},cr.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},cr.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var pi=ge.JSON.stringify;function Ui(){var r=ne;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Wi=new class Ei{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new es,r=>r.reset());class es{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function De(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function we(r){ge.setTimeout(()=>{throw r},0)}let ae,de=!1,ne=new class zi{constructor(){this.h=this.g=null}add(e,t){const s=Wi.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},Re=()=>{const r=ge.Promise.resolve(void 0);ae=()=>{r.then(ye)}};var ye=()=>{for(var r;r=Ui();){try{r.h.call(r.g)}catch(t){we(t)}var e=Wi;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}de=!1};function _e(r,e){cr.call(this),this.h=r||1,this.g=e||ge,this.j=ut(this.qb,this),this.l=Date.now()}function fe(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Pe(r,e,t){if("function"==typeof r)t&&(r=ut(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=ut(r.handleEvent,r)}return 2147483647<Number(e)?-1:ge.setTimeout(r,e||0)}function it(r){r.g=Pe(()=>{r.g=null,r.i&&(r.i=!1,it(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}mt(_e,cr),(Ie=_e.prototype).ga=!1,Ie.T=null,Ie.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),kt(this,"tick"),this.ga&&(fe(this),this.start()))}},Ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ie.N=function(){_e.$.N.call(this),fe(this),delete this.g};class xt extends Ze{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:it(this)}N(){super.N(),this.g&&(ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fn(r){Ze.call(this),this.h=r,this.g={}}mt(fn,Ze);var bn=[];function Wr(r,e,t,s){Array.isArray(t)||(t&&(bn[0]=t.toString()),t=bn);for(var l=0;l<t.length;l++){var g=tn(e,t[l],s||r.handleEvent,!1,r.h||r);if(!g)break;r.g[g.key]=g}}function xs(r){Jr(r.g,function(e,t){this.g.hasOwnProperty(t)&&Fi(e)},r),r.g={}}function ct(){this.g=!0}function mn(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function rr(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var g=l[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var E=1;E<l.length;E++)l[E]=""}}}return pi(t)}catch{return e}}(r,t)+(s?" "+s:"")})}fn.prototype.N=function(){fn.$.N.call(this),xs(this)},fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ct.prototype.Ea=function(){this.g=!1},ct.prototype.info=function(){};var vn={},qr=null;function Tr(){return qr=qr||new cr}function Gi(r){Be.call(this,vn.Ta,r)}function Mi(r){const e=Tr();kt(e,new Gi(e))}function Ro(r,e){Be.call(this,vn.STAT_EVENT,r),this.stat=e}function ls(r){const e=Tr();kt(e,new Ro(e,r))}function ts(r,e){Be.call(this,vn.Ua,r),this.size=e}function Di(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ge.setTimeout(function(){r()},e)}vn.Ta="serverreachability",mt(Gi,Be),vn.STAT_EVENT="statevent",mt(Ro,Be),vn.Ua="timingevent",mt(ts,Be);var on={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ar={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Gr(){}function xo(){}Gr.prototype.h=null;var je,Bi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Go(){Be.call(this,"d")}function wi(){Be.call(this,"c")}function ke(){}function Fe(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new fn(this),this.P=Nt,this.V=new _e(r=ze?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Dt}function Dt(){this.i=null,this.g="",this.h=!1}mt(Go,Be),mt(wi,Be),mt(ke,Gr),ke.prototype.g=function(){return new XMLHttpRequest},ke.prototype.i=function(){return{}},je=new ke;var Nt=45e3,Fn={},sr={};function Tn(r,e,t){r.L=1,r.v=qo(ds(e)),r.s=t,r.S=!0,xr(r,null)}function xr(r,e){r.G=Date.now(),Ki(r),r.A=ds(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),Qo(t.i,"t",s),r.C=0,t=r.l.J,r.h=new Dt,r.g=ea(r.l,t?e:null,!r.s),0<r.O&&(r.M=new xt(ut(r.Pa,r,r.g),r.O)),Wr(r.U,r.g,"readystatechange",r.nb),e=r.I?Ht(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Mi(),function Xe(r,e,t,s,l,g){r.info(function(){if(r.g)if(g)for(var E="",N=g.split("&"),H=0;H<N.length;H++){var Z=N[H].split("=");if(1<Z.length){var le=Z[0];Z=Z[1];var Ce=le.split("_");E=2<=Ce.length&&"type"==Ce[1]?E+(le+"=")+Z+"&":E+(le+"=redacted&")}}else E=null;else E=g;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+t+"\n"+E})}(r.j,r.u,r.A,r.m,r.W,r.s)}function us(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function ws(r,e,t){let l,s=!0;for(;!r.J&&r.C<t.length;){if(l=cs(r,t),l==sr){4==e&&(r.o=4,ls(14),s=!1),mn(r.j,r.m,null,"[Incomplete Response]");break}if(l==Fn){r.o=4,ls(15),mn(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}mn(r.j,r.m,l,null),Br(r,l)}us(r)&&l!=sr&&l!=Fn&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,ls(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Qs(e),e.M=!0,ls(11))):(mn(r.j,r.m,t,"[Invalid Chunked Response]"),ao(r),aa(r))}function cs(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?sr:(t=Number(e.substring(t,s)),isNaN(t)?Fn:(s+=1)+t>e.length?sr:(e=e.slice(s,s+t),r.C=s+t,e))}function Ki(r){r.Y=Date.now()+r.P,gi(r,r.P)}function gi(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Di(ut(r.lb,r),e)}function Cs(r){r.B&&(ge.clearTimeout(r.B),r.B=null)}function aa(r){0==r.l.H||r.J||rl(r.l,r)}function ao(r){Cs(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,fe(r.V),xs(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function Br(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||gs(t.i,r)))if(!r.K&&gs(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;kl(t),Ol(t)}Oo(t),ls(18)}}else t.Fa=l[1],0<t.Fa-t.V&&37500>l[2]&&t.G&&0==t.A&&!t.v&&(t.v=Di(ut(t.ib,t),6e3));if(1>=Xo(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Is(t,11)}else if((r.K||t.g==r)&&kl(t),!Kt(e))for(l=t.Ja.g.parse(e),e=0;e<l.length;e++){let Z=l[e];if(t.V=Z[0],Z=Z[1],2==t.H)if("c"==Z[0]){t.K=Z[1],t.pa=Z[2];const le=Z[3];null!=le&&(t.ra=le,t.l.info("VER="+t.ra));const Ce=Z[4];null!=Ce&&(t.Ga=Ce,t.l.info("SVER="+t.Ga));const tt=Z[5];null!=tt&&"number"==typeof tt&&0<tt&&(t.L=s=1.5*tt,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const St=r.g;if(St){const en=St.g?St.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(en){var g=s.i;g.g||-1==en.indexOf("spdy")&&-1==en.indexOf("quic")&&-1==en.indexOf("h2")||(g.j=g.l,g.g=new Set,g.h&&(Io(g,g.h),g.h=null))}if(s.F){const Dn=St.g?St.g.getResponseHeader("X-HTTP-Session-Id"):null;Dn&&(s.Da=Dn,Yn(s.I,s.F,Dn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var E=r;if((s=t).wa=As(s,s.J?s.pa:null,s.Y),E.K){ms(s.i,E);var N=E,H=s.L;H&&N.setTimeout(H),N.B&&(Cs(N),Ki(N)),s.g=E}else mu(s);0<t.j.length&&ot(t)}else"stop"!=Z[0]&&"close"!=Z[0]||Is(t,7);else 3==t.H&&("stop"==Z[0]||"close"==Z[0]?"stop"==Z[0]?Is(t,7):Jo(t):"noop"!=Z[0]&&t.h&&t.h.Aa(Z),t.A=0)}Mi()}catch{}}function Si(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Te(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function lr(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Te(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function kr(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Te(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),l=s.length,g=0;g<l;g++)e.call(void 0,s[g],t&&t[g],r)}(Ie=Fe.prototype).setTimeout=function(r){this.P=r},Ie.nb=function(r){r=r.target;const e=this.M;e&&3==Bn(r)?e.l():this.Pa(r)},Ie.Pa=function(r){try{if(r==this.g)e:{const le=Bn(this.g);var e=this.g.Ia();if(this.g.da(),!(3>le)&&(3!=le||ze||this.g&&(this.h.h||this.g.ja()||or(this.g)))){this.J||4!=le||7==e||Mi(),Cs(this);var t=this.g.da();this.ca=t;t:if(us(this)){var s=or(this.g);r="";var l=s.length,g=4==Bn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ao(this),aa(this);var E="";break t}this.h.i=new ge.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:g&&e==l-1});s.splice(0,l),this.h.g+=r,this.C=0,E=this.h.g}else E=this.g.ja();if(this.i=200==t,function Lt(r,e,t,s,l,g,E){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+g+" "+E})}(this.j,this.u,this.A,this.m,this.W,le,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var N,H=this.g;if((N=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kt(N)){var Z=N;break t}}Z=null}if(!(t=Z)){this.i=!1,this.o=3,ls(12),ao(this),aa(this);break e}mn(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Br(this,t)}this.S?(ws(this,le,E),ze&&this.i&&3==le&&(Wr(this.U,this.V,"tick",this.mb),this.V.start())):(mn(this.j,this.m,E,null),Br(this,E)),4==le&&ao(this),this.i&&!this.J&&(4==le?rl(this.l,this):(this.i=!1,Ki(this)))}else(function da(r){const e={};r=(r.g&&2<=Bn(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(Kt(r[s]))continue;var t=De(r[s]);const l=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const g=e[l]||[];e[l]=g,g.push(t)}!function Nn(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<E.indexOf("Unknown SID")?(this.o=3,ls(12)):(this.o=0,ls(13)),ao(this),aa(this)}}}catch{}},Ie.mb=function(){if(this.g){var r=Bn(this.g),e=this.g.ja();this.C<e.length&&(Cs(this),ws(this,r,e),this.i&&4!=r&&Ki(this))}},Ie.cancel=function(){this.J=!0,ao(this)},Ie.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Kn(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Mi(),ls(17)),ao(this),this.o=2,aa(this)):gi(this,this.Y-r)};var Kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qi(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof qi){this.h=r.h,Ko(this,r.j),this.s=r.s,this.g=r.g,hi(this,r.m),this.l=r.l;var e=r.i,t=new Hs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Un(this,t),this.o=r.o}else r&&(e=String(r).match(Kr))?(this.h=!1,Ko(this,e[1]||"",!0),this.s=Zo(e[2]||""),this.g=Zo(e[3]||"",!0),hi(this,e[4]),this.l=Zo(e[5]||"",!0),Un(this,e[6]||"",!0),this.o=Zo(e[7]||"")):(this.h=!1,this.i=new Hs(null,this.h))}function ds(r){return new qi(r)}function Ko(r,e,t){r.j=t?Zo(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function hi(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Un(r,e,t){e instanceof Hs?(r.i=e,function zs(r,e){e&&!r.j&&(lo(r),r.i=null,r.g.forEach(function(t,s){var l=s.toLowerCase();s!=l&&(Yl(this,s),Qo(this,l,t))},r)),r.j=e}(r.i,r.h)):(t||(e=mi(e,Yo)),r.i=new Hs(e,r.h))}function Yn(r,e,t){r.i.set(e,t)}function qo(r){return Yn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Zo(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function mi(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Qu),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Qu(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}qi.prototype.toString=function(){var r=[],e=this.j;e&&r.push(mi(e,Zs,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(mi(e,Zs,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(mi(t,"/"==t.charAt(0)?Ml:Eo,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",mi(t,ml)),r.join("")};var Zs=/[#\/\?@]/g,Eo=/[#\?:]/g,Ml=/[#\?]/g,Yo=/[#\?@]/g,ml=/#/g;function Hs(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function lo(r){r.g||(r.g=new Map,r.h=0,r.i&&function ps(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),l=null;if(0<=s){var g=r[t].substring(0,s);l=r[t].substring(s+1)}else g=r[t];e(g,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Yl(r,e){lo(r),e=nl(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function uo(r,e){return lo(r),e=nl(r,e),r.g.has(e)}function Qo(r,e,t){Yl(r,e),0<t.length&&(r.i=null,r.g.set(nl(r,e),Rt(t)),r.h+=t.length)}function nl(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function dr(r){this.l=r||Po,r=ge.PerformanceNavigationTiming?0<(r=ge.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ge.g&&ge.g.Ka&&ge.g.Ka()&&ge.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ie=Hs.prototype).add=function(r,e){lo(this),this.i=null,r=nl(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Ie.forEach=function(r,e){lo(this),this.g.forEach(function(t,s){t.forEach(function(l){r.call(e,l,s,this)},this)},this)},Ie.ta=function(){lo(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const l=r[s];for(let g=0;g<l.length;g++)t.push(e[s])}return t},Ie.Z=function(r){lo(this);let e=[];if("string"==typeof r)uo(this,r)&&(e=e.concat(this.g.get(nl(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Ie.set=function(r,e){return lo(this),this.i=null,uo(this,r=nl(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Ie.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},Ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const g=encodeURIComponent(String(s)),E=this.Z(s);for(s=0;s<E.length;s++){var l=g;""!==E[s]&&(l+="="+encodeURIComponent(String(E[s]))),r.push(l)}}return this.i=r.join("&")};var Po=10;function Ws(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Xo(r){return r.h?1:r.g?r.g.size:0}function gs(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Io(r,e){r.g?r.g.add(e):r.h=e}function ms(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Ql(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Rt(r.i)}dr.prototype.cancel=function(){if(this.i=Ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var Vi=class{stringify(r){return ge.JSON.stringify(r,void 0)}parse(r){return ge.JSON.parse(r,void 0)}};function gu(){this.g=new Vi}function la(r,e,t){const s=t||"";try{Si(r,function(l,g){let E=l;Ne(l)&&(E=pi(l)),e.push(s+g+"="+encodeURIComponent(E))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function co(r,e,t,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function ks(r){this.l=r.fc||null,this.j=r.ob||!1}function Ni(r,e){cr.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=ca,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mt(ks,Gr),ks.prototype.g=function(){return new Ni(this.l,this.j)},ks.prototype.i=function(r){return function(){return r}}({}),mt(Ni,cr);var ca=0;function To(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Ai(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Mo(r)}function Mo(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Ie=Ni.prototype).open=function(r,e){if(this.readyState!=ca)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Mo(this)},Ie.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ai(this)),this.readyState=ca},Ie.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Mo(this)),this.g&&(this.readyState=3,Mo(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ge.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;To(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},Ie.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Ai(this):Mo(this),3==this.readyState&&To(this)}},Ie.Za=function(r){this.g&&(this.response=this.responseText=r,Ai(this))},Ie.Ya=function(r){this.g&&(this.response=r,Ai(this))},Ie.ka=function(){this.g&&Ai(this)},Ie.setRequestHeader=function(r,e){this.v.append(r,e)},Ie.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Ie.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var yl=ge.JSON.parse;function Vr(r){cr.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Xu,this.L=this.M=!1}mt(Vr,cr);var Xu="",ai=/^https?$/i,Gs=["POST","PUT"];function Zr(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,bo(r),hs(r)}function bo(r){r.F||(r.F=!0,kt(r,"complete"),kt(r,"error"))}function ys(r){if(r.h&&typeof Ye<"u"&&(!r.C[1]||4!=Bn(r)||2!=r.da()))if(r.v&&4==Bn(r))Pe(r.La,0,r);else if(kt(r,"readystatechange"),4==Bn(r)){r.h=!1;try{const E=r.da();e:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===E){var l=String(r.I).match(Kr)[1]||null;!l&&ge.self&&ge.self.location&&(l=ge.self.location.protocol.slice(0,-1)),s=!ai.test(l?l.toLowerCase():"")}t=s}if(t)kt(r,"complete"),kt(r,"success");else{r.m=6;try{var g=2<Bn(r)?r.g.statusText:""}catch{g=""}r.j=g+" ["+r.da()+"]",bo(r)}}finally{hs(r)}}}function hs(r,e){if(r.g){Ys(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||kt(r,"ready");try{t.onreadystatechange=s}catch{}}}function Ys(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(ge.clearTimeout(r.A),r.A=null)}function Bn(r){return r.g?r.g.readyState:0}function or(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Xu:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Nl(r){let e="";return Jr(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Ri(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Nl(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Yn(r,e,t))}function ha(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function fa(r){this.Ga=0,this.j=[],this.l=new ct,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ha("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ha("baseRetryDelayMs",5e3,r),this.hb=ha("retryDelaySeedMs",1e4,r),this.eb=ha("forwardChannelMaxRetries",2,r),this.xa=ha("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new dr(r&&r.concurrentRequestLimit),this.Ja=new gu,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Jo(r){if(_l(r),3==r.H){var e=r.W++,t=ds(r.I);if(Yn(t,"SID",r.K),Yn(t,"RID",e),Yn(t,"TYPE","terminate"),No(r,t),(e=new Fe(r,r.l,e)).L=2,e.v=qo(ds(t)),t=!1,ge.navigator&&ge.navigator.sendBeacon)try{t=ge.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ge.Image&&((new Image).src=e.v,t=!0),t||(e.g=ea(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ki(e)}Ss(r)}function Ol(r){r.g&&(Qs(r),r.g.cancel(),r.g=null)}function _l(r){Ol(r),r.u&&(ge.clearTimeout(r.u),r.u=null),kl(r),r.i.cancel(),r.m&&("number"==typeof r.m&&ge.clearTimeout(r.m),r.m=null)}function ot(r){if(!Ws(r.i)&&!r.m){r.m=!0;var e=r.Na;ae||Re(),de||(ae(),de=!0),ne.add(e,r),r.C=0}}function Xl(r,e){var t;t=e?e.m:r.W++;const s=ds(r.I);Yn(s,"SID",r.K),Yn(s,"RID",t),Yn(s,"AID",r.V),No(r,s),r.o&&r.s&&Ri(s,r.o,r.s),t=new Fe(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Oi(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Io(r.i,t),Tn(t,s,e)}function No(r,e){r.na&&Jr(r.na,function(t,s){Yn(e,s,t)}),r.h&&Si({},function(t,s){Yn(e,s,t)})}function Oi(r,e,t){t=Math.min(r.j.length,t);var s=r.h?ut(r.h.Va,r.h,r):null;e:{var l=r.j;let g=-1;for(;;){const E=["count="+t];-1==g?0<t?(g=l[0].g,E.push("ofs="+g)):g=0:E.push("ofs="+g);let N=!0;for(let H=0;H<t;H++){let Z=l[H].g;const le=l[H].map;if(Z-=g,0>Z)g=Math.max(0,l[H].g-100),N=!1;else try{la(le,E,"req"+Z+"_")}catch{s&&s(le)}}if(N){s=E.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function mu(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;ae||Re(),de||(ae(),de=!0),ne.add(e,r),r.A=0}}function Oo(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Di(ut(r.Ma,r),Co(r,r.A)),r.A++,0))}function Qs(r){null!=r.B&&(ge.clearTimeout(r.B),r.B=null)}function Jl(r){r.g=new Fe(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=ds(r.wa);Yn(e,"RID","rpc"),Yn(e,"SID",r.K),Yn(e,"AID",r.V),Yn(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Yn(e,"TO",r.qa),Yn(e,"TYPE","xmlhttp"),No(r,e),r.o&&r.s&&Ri(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=qo(ds(e)),t.s=null,t.S=!0,xr(t,r)}function kl(r){null!=r.v&&(ge.clearTimeout(r.v),r.v=null)}function rl(r,e){var t=null;if(r.g==e){kl(r),Qs(r),r.g=null;var s=2}else{if(!gs(r.i,e))return;t=e.F,ms(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var l=r.C;kt(s=Tr(),new ts(s,t)),ot(r)}else mu(r);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==s&&function Gn(r,e){return!(Xo(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Di(ut(r.Na,r,e),Co(r,r.C)),r.C++,0)))}(r,e)||2==s&&Oo(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),l){case 1:Is(r,5);break;case 4:Is(r,10);break;case 3:Is(r,6);break;default:Is(r,2)}}function Co(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Is(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=ut(r.pb,r);t||(t=new qi("//www.google.com/images/cleardot.gif"),ge.location&&"http"==ge.location.protocol||Ko(t,"https"),qo(t)),function ua(r,e){const t=new ct;if(ge.Image){const s=new Image;s.onload=At(co,t,s,"TestLoadImage: loaded",!0,e),s.onerror=At(co,t,s,"TestLoadImage: error",!1,e),s.onabort=At(co,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=At(co,t,s,"TestLoadImage: timeout",!1,e),ge.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else ls(2);r.H=0,r.h&&r.h.za(e),Ss(r),_l(r)}function Ss(r){if(r.H=0,r.ma=[],r.h){const e=Ql(r.i);(0!=e.length||0!=r.j.length)&&(_t(r.ma,e),_t(r.ma,r.j),r.i.i.length=0,Rt(r.j),r.j.length=0),r.h.ya()}}function As(r,e,t){var s=t instanceof qi?ds(t):new qi(t);if(""!=s.g)e&&(s.g=e+"."+s.g),hi(s,s.m);else{var l=ge.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var g=new qi(null);s&&Ko(g,s),e&&(g.g=e),l&&hi(g,l),t&&(g.l=t),s=g}return e=r.Da,(t=r.F)&&e&&Yn(s,t,e),Yn(s,"VER",r.ra),No(r,s),s}function ea(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vr(t&&r.Ha&&!r.va?new ks({ob:!0}):r.va)).Oa(r.J),e}function ko(){}function Ls(){if(Sn&&!(10<=Number(nr)))throw Error("Environmental error: no available transport.")}function Xs(r,e){cr.call(this),this.g=new fa(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Kt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kt(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new vl(this)}function Lo(r){Go.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Pa(){wi.call(this),this.status=1}function vl(r){this.g=r}function Js(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function pa(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(l=0;16>l;++l)s[l]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var g=r.g[3],E=(e=r.g[0])+(g^(t=r.g[1])&((l=r.g[2])^g))+s[0]+3614090360&4294967295;E=(t=(l=(g=(e=(t=(l=(g=(e=(t=(l=(g=(e=(t=(l=(g=(e=(t=(l=(g=(e=(t=(l=(g=(e=(t=(l=(g=(e=(t=(l=(g=(e=(t=(l=(g=(e=(t=(l=(g=(e=(t=(l=(g=(e=(t=(l=(g=(e=(t=(l=(g=(e=(t=(l=(g=(e=(t=(l=(g=(e=t+(E<<7&4294967295|E>>>25))+((E=g+(l^e&(t^l))+s[1]+3905402710&4294967295)<<12&4294967295|E>>>20))+((E=l+(t^g&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^l&(g^e))+s[3]+3250441966&4294967295)<<22&4294967295|E>>>10))+((E=e+(g^t&(l^g))+s[4]+4118548399&4294967295)<<7&4294967295|E>>>25))+((E=g+(l^e&(t^l))+s[5]+1200080426&4294967295)<<12&4294967295|E>>>20))+((E=l+(t^g&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^l&(g^e))+s[7]+4249261313&4294967295)<<22&4294967295|E>>>10))+((E=e+(g^t&(l^g))+s[8]+1770035416&4294967295)<<7&4294967295|E>>>25))+((E=g+(l^e&(t^l))+s[9]+2336552879&4294967295)<<12&4294967295|E>>>20))+((E=l+(t^g&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^l&(g^e))+s[11]+2304563134&4294967295)<<22&4294967295|E>>>10))+((E=e+(g^t&(l^g))+s[12]+1804603682&4294967295)<<7&4294967295|E>>>25))+((E=g+(l^e&(t^l))+s[13]+4254626195&4294967295)<<12&4294967295|E>>>20))+((E=l+(t^g&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^l&(g^e))+s[15]+1236535329&4294967295)<<22&4294967295|E>>>10))+((E=e+(l^g&(t^l))+s[1]+4129170786&4294967295)<<5&4294967295|E>>>27))+((E=g+(t^l&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|E>>>23))+((E=l+(e^t&(g^e))+s[11]+643717713&4294967295)<<14&4294967295|E>>>18))+((E=t+(g^e&(l^g))+s[0]+3921069994&4294967295)<<20&4294967295|E>>>12))+((E=e+(l^g&(t^l))+s[5]+3593408605&4294967295)<<5&4294967295|E>>>27))+((E=g+(t^l&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|E>>>23))+((E=l+(e^t&(g^e))+s[15]+3634488961&4294967295)<<14&4294967295|E>>>18))+((E=t+(g^e&(l^g))+s[4]+3889429448&4294967295)<<20&4294967295|E>>>12))+((E=e+(l^g&(t^l))+s[9]+568446438&4294967295)<<5&4294967295|E>>>27))+((E=g+(t^l&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|E>>>23))+((E=l+(e^t&(g^e))+s[3]+4107603335&4294967295)<<14&4294967295|E>>>18))+((E=t+(g^e&(l^g))+s[8]+1163531501&4294967295)<<20&4294967295|E>>>12))+((E=e+(l^g&(t^l))+s[13]+2850285829&4294967295)<<5&4294967295|E>>>27))+((E=g+(t^l&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|E>>>23))+((E=l+(e^t&(g^e))+s[7]+1735328473&4294967295)<<14&4294967295|E>>>18))+((E=t+(g^e&(l^g))+s[12]+2368359562&4294967295)<<20&4294967295|E>>>12))+((E=e+(t^l^g)+s[5]+4294588738&4294967295)<<4&4294967295|E>>>28))+((E=g+(e^t^l)+s[8]+2272392833&4294967295)<<11&4294967295|E>>>21))+((E=l+(g^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|E>>>16))+((E=t+(l^g^e)+s[14]+4259657740&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^l^g)+s[1]+2763975236&4294967295)<<4&4294967295|E>>>28))+((E=g+(e^t^l)+s[4]+1272893353&4294967295)<<11&4294967295|E>>>21))+((E=l+(g^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|E>>>16))+((E=t+(l^g^e)+s[10]+3200236656&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^l^g)+s[13]+681279174&4294967295)<<4&4294967295|E>>>28))+((E=g+(e^t^l)+s[0]+3936430074&4294967295)<<11&4294967295|E>>>21))+((E=l+(g^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|E>>>16))+((E=t+(l^g^e)+s[6]+76029189&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^l^g)+s[9]+3654602809&4294967295)<<4&4294967295|E>>>28))+((E=g+(e^t^l)+s[12]+3873151461&4294967295)<<11&4294967295|E>>>21))+((E=l+(g^e^t)+s[15]+530742520&4294967295)<<16&4294967295|E>>>16))+((E=t+(l^g^e)+s[2]+3299628645&4294967295)<<23&4294967295|E>>>9))+((E=e+(l^(t|~g))+s[0]+4096336452&4294967295)<<6&4294967295|E>>>26))+((E=g+(t^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|E>>>22))+((E=l+(e^(g|~t))+s[14]+2878612391&4294967295)<<15&4294967295|E>>>17))+((E=t+(g^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|E>>>11))+((E=e+(l^(t|~g))+s[12]+1700485571&4294967295)<<6&4294967295|E>>>26))+((E=g+(t^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|E>>>22))+((E=l+(e^(g|~t))+s[10]+4293915773&4294967295)<<15&4294967295|E>>>17))+((E=t+(g^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|E>>>11))+((E=e+(l^(t|~g))+s[8]+1873313359&4294967295)<<6&4294967295|E>>>26))+((E=g+(t^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|E>>>22))+((E=l+(e^(g|~t))+s[6]+2734768916&4294967295)<<15&4294967295|E>>>17))+((E=t+(g^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|E>>>11))+((g=(e=t+((E=e+(l^(t|~g))+s[4]+4149444226&4294967295)<<6&4294967295|E>>>26))+((E=g+(t^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|E>>>22))^((l=g+((E=l+(e^(g|~t))+s[2]+718787259&4294967295)<<15&4294967295|E>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(l+(E<<21&4294967295|E>>>11))&4294967295,r.g[2]=r.g[2]+l&4294967295,r.g[3]=r.g[3]+g&4294967295}function Yr(r,e){this.h=e;for(var t=[],s=!0,l=r.length-1;0<=l;l--){var g=0|r[l];s&&g==e||(t[l]=g,s=!1)}this.g=t}(Ie=Vr.prototype).Oa=function(r){this.M=r},Ie.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():je.g(),this.C=function Rr(r){return r.h||(r.h=r.i())}(this.u?this.u:je),this.g.onreadystatechange=ut(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(g){return void Zr(this,g)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)t.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const g of s.keys())t.set(g,s.get(g))}s=Array.from(t.keys()).find(g=>"content-type"==g.toLowerCase()),l=ge.FormData&&r instanceof ge.FormData,!(0<=dt(Gs,e))||s||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[g,E]of t)this.g.setRequestHeader(g,E);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ys(this),0<this.B&&((this.L=function Ds(r){return Sn&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ut(this.ua,this)):this.A=Pe(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(g){Zr(this,g)}},Ie.ua=function(){typeof Ye<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kt(this,"timeout"),this.abort(8))},Ie.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,kt(this,"complete"),kt(this,"abort"),hs(this))},Ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hs(this,!0)),Vr.$.N.call(this)},Ie.La=function(){this.s||(this.G||this.v||this.l?ys(this):this.kb())},Ie.kb=function(){ys(this)},Ie.isActive=function(){return!!this.g},Ie.da=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},Ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ie.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),yl(e)}},Ie.Ia=function(){return this.m},Ie.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ie=fa.prototype).ra=8,Ie.H=1,Ie.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const l=new Fe(this,this.l,r);let g=this.s;if(this.U&&(g?(g=Ht(g),Cr(g,this.U)):g=this.U),null!==this.o||this.O||(l.I=g,g=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Oi(this,l,e),Yn(t=ds(this.I),"RID",r),Yn(t,"CVER",22),this.F&&Yn(t,"X-HTTP-Session-Id",this.F),No(this,t),g&&(this.O?e="headers="+encodeURIComponent(String(Nl(g)))+"&"+e:this.o&&Ri(t,this.o,g)),Io(this.i,l),this.bb&&Yn(t,"TYPE","init"),this.P?(Yn(t,"$req",e),Yn(t,"SID","null"),l.aa=!0,Tn(l,t,null)):Tn(l,t,e),this.H=2}}else 3==this.H&&(r?Xl(this,r):0==this.j.length||Ws(this.i)||Xl(this))},Ie.Ma=function(){if(this.u=null,Jl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Di(ut(this.jb,this),r)}},Ie.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ls(10),Ol(this),Jl(this))},Ie.ib=function(){null!=this.v&&(this.v=null,Ol(this),Oo(this),ls(19))},Ie.pb=function(r){r?(this.l.info("Successfully pinged google.com"),ls(2)):(this.l.info("Failed to ping google.com"),ls(1))},Ie.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ie=ko.prototype).Ba=function(){},Ie.Aa=function(){},Ie.za=function(){},Ie.ya=function(){},Ie.isActive=function(){return!0},Ie.Va=function(){},Ls.prototype.g=function(r,e){return new Xs(r,e)},mt(Xs,cr),Xs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;ls(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=As(r,null,r.Y),ot(r)},Xs.prototype.close=function(){Jo(this.g)},Xs.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=pi(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&ot(e)},Xs.prototype.N=function(){this.g.h=null,delete this.j,Jo(this.g),delete this.g,Xs.$.N.call(this)},mt(Lo,Go),mt(Pa,wi),mt(vl,ko),vl.prototype.Ba=function(){kt(this.g,"a")},vl.prototype.Aa=function(r){kt(this.g,new Lo(r))},vl.prototype.za=function(r){kt(this.g,new Pa)},vl.prototype.ya=function(){kt(this.g,"b")},mt(Js,function $i(){this.blockSize=-1}),Js.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Js.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,l=this.h,g=0;g<e;){if(0==l)for(;g<=t;)pa(this,r,g),g+=this.blockSize;if("string"==typeof r){for(;g<e;)if(s[l++]=r.charCodeAt(g++),l==this.blockSize){pa(this,s),l=0;break}}else for(;g<e;)if(s[l++]=r[g++],l==this.blockSize){pa(this,s),l=0;break}}this.h=l,this.i+=e},Js.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var ho={};function Ma(r){return-128<=r&&128>r?function kn(r,e){var t=ho;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Yr([0|e],0>e?-1:0)}):new Yr([0|r],0>r?-1:0)}function Ps(r){if(isNaN(r)||!isFinite(r))return ns;if(0>r)return br(Ps(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=Fo;return new Yr(e,0)}var Fo=4294967296,ns=Ma(0),Do=Ma(1),ga=Ma(16777216);function Ns(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Zi(r){return-1==r.h}function br(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Yr(t,~r.h).add(Do)}function _s(r,e){return r.add(br(e))}function li(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function eo(r,e){this.g=r,this.h=e}function to(r,e){if(Ns(e))throw Error("division by zero");if(Ns(r))return new eo(ns,ns);if(Zi(r))return e=to(br(r),e),new eo(br(e.g),br(e.h));if(Zi(e))return e=to(r,br(e)),new eo(br(e.g),e.h);if(30<r.g.length){if(Zi(r)||Zi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Do,s=e;0>=s.X(r);)t=Ll(t),s=Ll(s);var l=eu(t,1),g=eu(s,1);for(s=eu(s,2),t=eu(t,2);!Ns(s);){var E=g.add(s);0>=E.X(r)&&(l=l.add(t),g=E),s=eu(s,1),t=eu(t,1)}return e=_s(r,l.R(e)),new eo(l,e)}for(l=ns;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),E=(g=Ps(t)).R(e);Zi(E)||0<E.X(r);)E=(g=Ps(t-=s)).R(e);Ns(g)&&(g=Do),l=l.add(g),r=_s(r,E)}return new eo(l,r)}function Ll(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Yr(t,r.h)}function eu(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,l=[],g=0;g<s;g++)l[g]=0<e?r.D(g+t)>>>e|r.D(g+t+1)<<32-e:r.D(g+t);return new Yr(l,r.h)}(Ie=Yr.prototype).ea=function(){if(Zi(this))return-br(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:Fo+s)*e,e*=Fo}return r},Ie.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Ns(this))return"0";if(Zi(this))return"-"+br(this).toString(r);for(var e=Ps(Math.pow(r,6)),t=this,s="";;){var l=to(t,e).g,g=((0<(t=_s(t,l.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Ns(t=l))return g+s;for(;6>g.length;)g="0"+g;s=g+s}},Ie.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},Ie.X=function(r){return Zi(r=_s(this,r))?-1:Ns(r)?0:1},Ie.abs=function(){return Zi(this)?br(this):this},Ie.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,l=0;l<=e;l++){var g=s+(65535&this.D(l))+(65535&r.D(l)),E=(g>>>16)+(this.D(l)>>>16)+(r.D(l)>>>16);s=E>>>16,t[l]=(E&=65535)<<16|(g&=65535)}return new Yr(t,-2147483648&t[t.length-1]?-1:0)},Ie.R=function(r){if(Ns(this)||Ns(r))return ns;if(Zi(this))return Zi(r)?br(this).R(br(r)):br(br(this).R(r));if(Zi(r))return br(this.R(br(r)));if(0>this.X(ga)&&0>r.X(ga))return Ps(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<r.g.length;l++){var g=this.D(s)>>>16,E=65535&this.D(s),N=r.D(l)>>>16,H=65535&r.D(l);t[2*s+2*l]+=E*H,li(t,2*s+2*l),t[2*s+2*l+1]+=g*H,li(t,2*s+2*l+1),t[2*s+2*l+1]+=E*N,li(t,2*s+2*l+1),t[2*s+2*l+2]+=g*N,li(t,2*s+2*l+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Yr(t,0)},Ie.gb=function(r){return to(this,r).h},Ie.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Yr(t,this.h&r.h)},Ie.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Yr(t,this.h|r.h)},Ie.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Yr(t,this.h^r.h)},Ls.prototype.createWebChannel=Ls.prototype.g,Xs.prototype.send=Xs.prototype.u,Xs.prototype.open=Xs.prototype.m,Xs.prototype.close=Xs.prototype.close,on.NO_ERROR=0,on.TIMEOUT=8,on.HTTP_ERROR=6,ar.COMPLETE="complete",xo.EventType=Bi,Bi.OPEN="a",Bi.CLOSE="b",Bi.ERROR="c",Bi.MESSAGE="d",cr.prototype.listen=cr.prototype.O,Vr.prototype.listenOnce=Vr.prototype.P,Vr.prototype.getLastError=Vr.prototype.Sa,Vr.prototype.getLastErrorCode=Vr.prototype.Ia,Vr.prototype.getStatus=Vr.prototype.da,Vr.prototype.getResponseJson=Vr.prototype.Wa,Vr.prototype.getResponseText=Vr.prototype.ja,Vr.prototype.send=Vr.prototype.ha,Vr.prototype.setWithCredentials=Vr.prototype.Oa,Js.prototype.digest=Js.prototype.l,Js.prototype.reset=Js.prototype.reset,Js.prototype.update=Js.prototype.j,Yr.prototype.add=Yr.prototype.add,Yr.prototype.multiply=Yr.prototype.R,Yr.prototype.modulo=Yr.prototype.gb,Yr.prototype.compare=Yr.prototype.X,Yr.prototype.toNumber=Yr.prototype.ea,Yr.prototype.toString=Yr.prototype.toString,Yr.prototype.getBits=Yr.prototype.D,Yr.fromNumber=Ps,Yr.fromString=function Ms(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return br(Ms(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ps(Math.pow(e,8)),s=ns,l=0;l<r.length;l+=8){var g=Math.min(8,r.length-l),E=parseInt(r.substring(l,l+g),e);8>g?(g=Ps(Math.pow(e,g)),s=s.R(g).add(Ps(E))):s=(s=s.R(t)).add(Ps(E))}return s},qe.createWebChannelTransport=function(){return new Ls},qe.getStatEventTarget=function(){return Tr()},qe.ErrorCode=on,qe.EventType=ar,qe.Event=vn,qe.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qe.FetchXmlHttpFactory=ks,qe.WebChannel=xo,qe.XhrIo=Vr,qe.Md5=Js;var st=qe.Integer=Yr;const Ct="@firebase/firestore";class qt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");let Sr="9.23.0";const mr=new Me.Yd("@firebase/firestore");function bt(r,...e){if(mr.logLevel<=Me.in.DEBUG){const t=e.map(no);mr.debug(`Firestore (${Sr}): ${r}`,...t)}}function Qn(r,...e){if(mr.logLevel<=Me.in.ERROR){const t=e.map(no);mr.error(`Firestore (${Sr}): ${r}`,...t)}}function no(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function an(r="Unexpected state"){const e=`FIRESTORE (${Sr}) INTERNAL ASSERTION FAILED: `+r;throw Qn(e),new Error(e)}function En(r,e){r||an()}const Je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends xe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Oa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qt.UNAUTHENTICATED))}shutdown(){}}class wl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Fl{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let l=this.i;const g=Z=>this.i!==l?(l=this.i,t(Z)):Promise.resolve();let E=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new Ii,e.enqueueRetryable(()=>g(this.currentUser))};const N=()=>{const Z=E;e.enqueueRetryable((0,R.Z)(function*(){yield Z.promise,yield g(s.currentUser)}))},H=Z=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Z,this.auth.addAuthTokenListener(this.o),N()};this.t.onInit(Z=>H(Z)),setTimeout(()=>{if(!this.auth){const Z=this.t.getImmediate({optional:!0});Z?H(Z):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new Ii)}},0),N()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(En("string"==typeof s.accessToken),new Oa(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return En(null===e||"string"==typeof e),new qt(e)}}class Ul{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ro{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Ul(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Uc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Il{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=g=>{null!=g.error&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const E=g.token!==this.T;return this.T=g.token,bt("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?t(g.token):Promise.resolve()};this.o=g=>{e.enqueueRetryable(()=>s(g))};const l=g=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.I.onInit(g=>l(g)),setTimeout(()=>{if(!this.appCheck){const g=this.I.getImmediate({optional:!0});g?l(g):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(En("string"==typeof t.token),this.T=t.token,new Uc(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _c(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Qi{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const l=_c(40);for(let g=0;g<l.length;++g)s.length<20&&l[g]<t&&(s+=e.charAt(l[g]%e.length))}return s}}function Cn(r,e){return r<e?-1:r>e?1:0}class ui{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Et(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Et(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Et(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Et(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ui.fromMillis(Date.now())}static fromDate(e){return ui.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new ui(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Cn(this.nanoseconds,e.nanoseconds):Cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vl{constructor(e,t,s){void 0===t?t=0:t>e.length&&an(),void 0===s?s=e.length-t:s>e.length-t&&an(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Vl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vl?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let l=0;l<s;l++){const g=e.get(l),E=t.get(l);if(g<E)return-1;if(g>E)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xn extends Vl{construct(e,t,s){return new Xn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Et(Je.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(l=>l.length>0))}return new Xn(t)}static emptyPath(){return new Xn([])}}class sn{constructor(e){this.path=e}static fromPath(e){return new sn(Xn.fromString(e))}static fromName(e){return new sn(Xn.fromString(e).popFirst(5))}static empty(){return new sn(Xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Xn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new sn(new Xn(e.slice()))}}function il(r){return"IndexedDbTransactionError"===r.name}class si{constructor(e,t){this.comparator=e,this.root=t||Xi.EMPTY}insert(e,t){return new si(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xi.BLACK,null,null))}remove(e){return new si(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return t+s.left.size;l<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ju(this.root,e,this.comparator,!0)}}class Ju{constructor(e,t,s,l){this.isReverse=l,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=t?s(e.key,t):1,t&&l&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xi{constructor(e,t,s,l,g){this.key=e,this.value=t,this.color=s??Xi.RED,this.left=l??Xi.EMPTY,this.right=g??Xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,l,g){return new Xi(e??this.key,t??this.value,s??this.color,l??this.left,g??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let l=this;const g=s(e,l.key);return l=g<0?l.copy(null,null,null,l.left.insert(e,t,s),null):0===g?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return Xi.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw an();const e=this.left.check();if(e!==this.right.check())throw an();return e+(this.isRed()?0:1)}}Xi.EMPTY=null,Xi.RED=!0,Xi.BLACK=!1,Xi.EMPTY=new class{constructor(){this.size=0}get key(){throw an()}get value(){throw an()}get color(){throw an()}get left(){throw an()}get right(){throw an()}copy(r,e,t,s,l){return this}insert(r,e,t){return new Xi(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ki{constructor(e){this.comparator=e,this.data=new si(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new id(this.data.getIterator())}getIteratorFrom(e){return new id(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof ki)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,g=s.getNext().key;if(0!==this.comparator(l,g))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ki(this.comparator);return t.data=e,t}}class id{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ec extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ec("Invalid base64 string: "+l):l}}(e);return new bs(t)}static fromUint8Array(e){const t=function(s){let l="";for(let g=0;g<s.length;++g)l+=String.fromCharCode(s[g]);return l}(e);return new bs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function _i(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}bs.EMPTY_BYTE_STRING=new bs("");class Wa{constructor(e,t,s,l,g,E,N,H,Z){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=l,this.ssl=g,this.forceLongPolling=E,this.autoDetectLongPolling=N,this.longPollingOptions=H,this.useFetchStreams=Z}}class Ta{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ta("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ta&&e.projectId===this.projectId&&e.database===this.database}}var Es,Li;new si(sn.comparator),new si(sn.comparator),new si(sn.comparator),new ki(sn.comparator),new ki(Cn),(Li=Es||(Es={}))[Li.OK=0]="OK",Li[Li.CANCELLED=1]="CANCELLED",Li[Li.UNKNOWN=2]="UNKNOWN",Li[Li.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Li[Li.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Li[Li.NOT_FOUND=5]="NOT_FOUND",Li[Li.ALREADY_EXISTS=6]="ALREADY_EXISTS",Li[Li.PERMISSION_DENIED=7]="PERMISSION_DENIED",Li[Li.UNAUTHENTICATED=16]="UNAUTHENTICATED",Li[Li.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Li[Li.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Li[Li.ABORTED=10]="ABORTED",Li[Li.OUT_OF_RANGE=11]="OUT_OF_RANGE",Li[Li.UNIMPLEMENTED=12]="UNIMPLEMENTED",Li[Li.INTERNAL=13]="INTERNAL",Li[Li.UNAVAILABLE=14]="UNAVAILABLE",Li[Li.DATA_LOSS=15]="DATA_LOSS",new st([4294967295,4294967295],0);class Md extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class W{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(_i(e.integerValue));else if("doubleValue"in e){const s=_i(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),function Ia(r){return 0===r&&1/r==-1/0}(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(function za(r){return"string"==typeof r?bs.fromBase64String(r):bs.fromUint8Array(r)}(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?function ol(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):an()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const l of Object.keys(s))this.Te(l,t),this.me(s[l],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const l of s)this.me(l,t)}ve(e,t){this.ye(t,37),sn.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}W.Ve=new W,new Uint8Array(0);class Rl{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Rl(e,Rl.DEFAULT_COLLECTION_PERCENTILE,Rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function vh(){return typeof document<"u"?document:null}Rl.DEFAULT_COLLECTION_PERCENTILE=10,Rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rl.DEFAULT=new Rl(41943040,Rl.DEFAULT_COLLECTION_PERCENTILE,Rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rl.DISABLED=new Rl(-1,0,0);class Vp{constructor(e,t,s=1e3,l=1.5,g=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=l,this.Vo=g,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),l=Math.max(0,t-s);l>0&&bt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,l,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class yd{constructor(e,t,s,l,g){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=l,this.removalCallback=g,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(e,t,s,l,g){const E=Date.now()+s,N=new yd(e,t,E,l,g);return N.start(s),N}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Et(Je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class Jg{constructor(e,t,s,l){var g=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=l,this.user=qt.UNAUTHENTICATED,this.clientId=Qi.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var E=(0,R.Z)(function*(N){bt("FirestoreClient","Received user=",N.uid),yield g.authCredentialListener(N),g.user=N});return function(N){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(s,E=>(bt("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var e=this;return(0,R.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Et(Je.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,R.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const l=function pu(r,e){if(Qn("AsyncQueue",`${e}: ${r}`),il(r))return new Et(Je.UNAVAILABLE,`${e}: ${r}`);throw r}(s,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function ey(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Ry=new Map;function Ci(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Et(Je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function sg(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":an()}(r);throw new Et(Je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class Ny{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Et(Je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Et(Je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function xy(r,e,t,s){if(!0===e&&!0===s)throw new Et(Je.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=ey(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new Et(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Et(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Et(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class op{constructor(e,t,s,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ny({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Et(Je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Et(Je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ny(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new yc;switch(t.type){case"firstParty":return new ro(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Et(Je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ry.get(e);t&&(bt("ComponentProvider","Removing Datastore"),Ry.delete(e),t.terminate())}(this),Promise.resolve()}}class td{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Vp(this,"async_queue_retry"),this.Xc=()=>{const t=vh();t&&bt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=vh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=vh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ii;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,R.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!il(t))throw t;bt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,Qn("INTERNAL UNHANDLED ERROR: ",function(g){let E=g.message||"";return g.stack&&(E=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),E}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const l=yd.createAndSchedule(this,e,t,s,g=>this.na(g));return this.zc.push(l),l}Zc(){this.Wc&&an()}verifyOperationInProgress(){}sa(){var e=this;return(0,R.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class _o extends op{constructor(e,t,s,l){super(e,t,s,l),this.type="firestore",this._queue=new td,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function sm(r){var e,t,s;const l=r._freezeSettings(),g=(N=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Wa(r._databaseId,N,r._persistenceKey,(Z=l).host,Z.ssl,Z.experimentalForceLongPolling,Z.experimentalAutoDetectLongPolling,ey(Z.experimentalLongPollingOptions),Z.useFetchStreams));var N,Z;r._firestoreClient=new Jg(r._authCredentials,r._appCheckCredentials,r._queue,g),null!==(t=l.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=l.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function w_(r,e){const t="object"==typeof r?r:(0,ee.getApp)(),s="string"==typeof r?r:e||"(default)",l=(0,ee._getProvider)(t,"firestore").getImmediate({identifier:s});if(!l._initialized){const g=(0,xe.P0)("firestore");g&&function y_(r,e,t,s={}){var l;const g=(r=Ci(r,op))._getSettings(),E=`${e}:${t}`;if("firestore.googleapis.com"!==g.host&&g.host!==E&&function Qr(r,...e){if(mr.logLevel<=Me.in.WARN){const t=e.map(no);mr.warn(`Firestore (${Sr}): ${r}`,...t)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},g),{host:E,ssl:!1})),s.mockUserToken){let N,H;if("string"==typeof s.mockUserToken)N=s.mockUserToken,H=qt.MOCK_USER;else{N=(0,xe.Sg)(s.mockUserToken,null===(l=r._app)||void 0===l?void 0:l.options.projectId);const Z=s.mockUserToken.sub||s.mockUserToken.user_id;if(!Z)throw new Et(Je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");H=new qt(Z)}r._authCredentials=new wl(new Oa(N,H))}}(l,...g)}return l}!function(r,e=!0){Sr=ee.SDK_VERSION,(0,ee._registerComponent)(new $.wA("firestore",(t,{instanceIdentifier:s,options:l})=>{const g=t.getProvider("app").getImmediate(),E=new _o(new Fl(t.getProvider("auth-internal")),new Il(t.getProvider("app-check-internal")),function(N,H){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new Et(Je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ta(N.options.projectId,H)}(g,s),g);return l=Object.assign({useFetchStreams:e},l),E._setSettings(l),E},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(Ct,"3.13.0",r),(0,ee.registerVersion)(Ct,"3.13.0","esm2017")}()},5861:(_n,at,q)=>{function R($,Me,xe,Ke,qe,Ie,Ye){try{var ge=$[Ie](Ye),Te=ge.value}catch(Ne){return void xe(Ne)}ge.done?Me(Te):Promise.resolve(Te).then(Ke,qe)}function ee($){return function(){var Me=this,xe=arguments;return new Promise(function(Ke,qe){var Ie=$.apply(Me,xe);function Ye(Te){R(Ie,Ke,qe,Ye,ge,"next",Te)}function ge(Te){R(Ie,Ke,qe,Ye,ge,"throw",Te)}Ye(void 0)})}}q.d(at,{Z:()=>ee})},7582:(_n,at,q)=>{function Me(ze,Ve){var Qe={};for(var Le in ze)Object.prototype.hasOwnProperty.call(ze,Le)&&Ve.indexOf(Le)<0&&(Qe[Le]=ze[Le]);if(null!=ze&&"function"==typeof Object.getOwnPropertySymbols){var nt=0;for(Le=Object.getOwnPropertySymbols(ze);nt<Le.length;nt++)Ve.indexOf(Le[nt])<0&&Object.prototype.propertyIsEnumerable.call(ze,Le[nt])&&(Qe[Le[nt]]=ze[Le[nt]])}return Qe}function Ne(ze,Ve,Qe,Le){return new(Qe||(Qe=Promise))(function(vt,Ft){function rn(nr){try{Jt(Le.next(nr))}catch(Fr){Ft(Fr)}}function jn(nr){try{Jt(Le.throw(nr))}catch(Fr){Ft(Fr)}}function Jt(nr){nr.done?vt(nr.value):function nt(vt){return vt instanceof Qe?vt:new Qe(function(Ft){Ft(vt)})}(nr.value).then(rn,jn)}Jt((Le=Le.apply(ze,Ve||[])).next())})}function Ze(ze){return this instanceof Ze?(this.v=ze,this):new Ze(ze)}function Oe(ze,Ve,Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,Le=Qe.apply(ze,Ve||[]),vt=[];return nt={},Ft("next"),Ft("throw"),Ft("return"),nt[Symbol.asyncIterator]=function(){return this},nt;function Ft(qn){Le[qn]&&(nt[qn]=function(Hn){return new Promise(function(Ar,nn){vt.push([qn,Hn,Ar,nn])>1||rn(qn,Hn)})})}function rn(qn,Hn){try{!function jn(qn){qn.value instanceof Ze?Promise.resolve(qn.value.v).then(Jt,nr):Fr(vt[0][2],qn)}(Le[qn](Hn))}catch(Ar){Fr(vt[0][3],Ar)}}function Jt(qn){rn("next",qn)}function nr(qn){rn("throw",qn)}function Fr(qn,Hn){qn(Hn),vt.shift(),vt.length&&rn(vt[0][0],vt[0][1])}}function Rt(ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,Ve=ze[Symbol.asyncIterator];return Ve?Ve.call(ze):(ze=function Xt(ze){var Ve="function"==typeof Symbol&&Symbol.iterator,Qe=Ve&&ze[Ve],Le=0;if(Qe)return Qe.call(ze);if(ze&&"number"==typeof ze.length)return{next:function(){return ze&&Le>=ze.length&&(ze=void 0),{value:ze&&ze[Le++],done:!ze}}};throw new TypeError(Ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(ze),Qe={},Le("next"),Le("throw"),Le("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe);function Le(vt){Qe[vt]=ze[vt]&&function(Ft){return new Promise(function(rn,jn){!function nt(vt,Ft,rn,jn){Promise.resolve(jn).then(function(Jt){vt({value:Jt,done:rn})},Ft)}(rn,jn,(Ft=ze[vt](Ft)).done,Ft.value)})}}}q.d(at,{FC:()=>Oe,KL:()=>Rt,_T:()=>Me,mG:()=>Ne,qq:()=>Ze}),"function"==typeof SuppressedError&&SuppressedError}},_n=>{_n(_n.s=8231)}]);